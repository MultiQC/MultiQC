var t="top",e="bottom",n="right",s="left",o="auto",a=[t,e,n,s],r="start",l="end",c="clippingParents",h="viewport",d="popper",m="reference",p=a.reduce(function(t,e){return t.concat([e+"-"+r,e+"-"+l])},[]),u=[].concat(a,[o]).reduce(function(t,e){return t.concat([e,e+"-"+r,e+"-"+l])},[]),f="beforeRead",_="read",g="afterRead",v="beforeMain",b="main",y="afterMain",w="beforeWrite",x="write",q="afterWrite",C=[f,_,g,v,b,y,w,x,q];function k(t){return t?(t.nodeName||"").toLowerCase():null}function A(t){if(null==t)return window;if("[object Window]"!==t.toString()){var e=t.ownerDocument;return e&&e.defaultView||window}return t}function S(t){return t instanceof A(t).Element||t instanceof Element}function E(t){return t instanceof A(t).HTMLElement||t instanceof HTMLElement}function O(t){return"undefined"!=typeof ShadowRoot&&(t instanceof A(t).ShadowRoot||t instanceof ShadowRoot)}const T={name:"applyStyles",enabled:!0,phase:"write",fn:function(t){var e=t.state;Object.keys(e.elements).forEach(function(t){var i=e.styles[t]||{},n=e.attributes[t]||{},s=e.elements[t];E(s)&&k(s)&&(Object.assign(s.style,i),Object.keys(n).forEach(function(t){var e=n[t];!1===e?s.removeAttribute(t):s.setAttribute(t,!0===e?"":e)}))})},effect:function(t){var e=t.state,i={popper:{position:e.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};return Object.assign(e.elements.popper.style,i.popper),e.styles=i,e.elements.arrow&&Object.assign(e.elements.arrow.style,i.arrow),function(){Object.keys(e.elements).forEach(function(t){var n=e.elements[t],s=e.attributes[t]||{},o=Object.keys(e.styles.hasOwnProperty(t)?e.styles[t]:i[t]).reduce(function(t,e){return t[e]="",t},{});E(n)&&k(n)&&(Object.assign(n.style,o),Object.keys(s).forEach(function(t){n.removeAttribute(t)}))})}},requires:["computeStyles"]};function D(t){return t.split("-")[0]}var N=Math.max,I=Math.min,P=Math.round;function L(){var t=navigator.userAgentData;return null!=t&&t.brands&&Array.isArray(t.brands)?t.brands.map(function(t){return t.brand+"/"+t.version}).join(" "):navigator.userAgent}function M(){return!/^((?!chrome|android).)*safari/i.test(L())}function j(t,e,i){void 0===e&&(e=!1),void 0===i&&(i=!1);var n=t.getBoundingClientRect(),s=1,o=1;e&&E(t)&&(s=t.offsetWidth>0&&P(n.width)/t.offsetWidth||1,o=t.offsetHeight>0&&P(n.height)/t.offsetHeight||1);var a=(S(t)?A(t):window).visualViewport,r=!M()&&i,l=(n.left+(r&&a?a.offsetLeft:0))/s,c=(n.top+(r&&a?a.offsetTop:0))/o,h=n.width/s,d=n.height/o;return{width:h,height:d,top:c,right:l+h,bottom:c+d,left:l,x:l,y:c}}function z(t){var e=j(t),i=t.offsetWidth,n=t.offsetHeight;return Math.abs(e.width-i)<=1&&(i=e.width),Math.abs(e.height-n)<=1&&(n=e.height),{x:t.offsetLeft,y:t.offsetTop,width:i,height:n}}function F(t,e){var i=e.getRootNode&&e.getRootNode();if(t.contains(e))return!0;if(i&&O(i)){var n=e;do{if(n&&t.isSameNode(n))return!0;n=n.parentNode||n.host}while(n)}return!1}function H(t){return A(t).getComputedStyle(t)}function B(t){return["table","td","th"].indexOf(k(t))>=0}function R(t){return((S(t)?t.ownerDocument:t.document)||window.document).documentElement}function W(t){return"html"===k(t)?t:t.assignedSlot||t.parentNode||(O(t)?t.host:null)||R(t)}function V(t){return E(t)&&"fixed"!==H(t).position?t.offsetParent:null}function U(t){for(var e=A(t),i=V(t);i&&B(i)&&"static"===H(i).position;)i=V(i);return i&&("html"===k(i)||"body"===k(i)&&"static"===H(i).position)?e:i||function(t){var e=/firefox/i.test(L());if(/Trident/i.test(L())&&E(t)&&"fixed"===H(t).position)return null;var i=W(t);for(O(i)&&(i=i.host);E(i)&&["html","body"].indexOf(k(i))<0;){var n=H(i);if("none"!==n.transform||"none"!==n.perspective||"paint"===n.contain||-1!==["transform","perspective"].indexOf(n.willChange)||e&&"filter"===n.willChange||e&&n.filter&&"none"!==n.filter)return i;i=i.parentNode}return null}(t)||e}function Y(t){return["top","bottom"].indexOf(t)>=0?"x":"y"}function J(t,e,i){return N(t,I(e,i))}function Q(t){return Object.assign({},{top:0,right:0,bottom:0,left:0},t)}function X(t,e){return e.reduce(function(e,i){return e[i]=t,e},{})}const K={name:"arrow",enabled:!0,phase:"main",fn:function(i){var o,r=i.state,l=i.name,c=i.options,h=r.elements.arrow,d=r.modifiersData.popperOffsets,m=D(r.placement),p=Y(m),u=[s,n].indexOf(m)>=0?"height":"width";if(h&&d){var f=function(t,e){return Q("number"!=typeof(t="function"==typeof t?t(Object.assign({},e.rects,{placement:e.placement})):t)?t:X(t,a))}(c.padding,r),_=z(h),g="y"===p?t:s,v="y"===p?e:n,b=r.rects.reference[u]+r.rects.reference[p]-d[p]-r.rects.popper[u],y=d[p]-r.rects.reference[p],w=U(h),$=w?"y"===p?w.clientHeight||0:w.clientWidth||0:0,x=b/2-y/2,q=f[g],C=$-_[u]-f[v],k=$/2-_[u]/2+x,A=J(q,k,C),S=p;r.modifiersData[l]=((o={})[S]=A,o.centerOffset=A-k,o)}},effect:function(t){var e=t.state,i=t.options.element,n=void 0===i?"[data-popper-arrow]":i;null!=n&&("string"!=typeof n||(n=e.elements.popper.querySelector(n)))&&F(e.elements.popper,n)&&(e.elements.arrow=n)},requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};function Z(t){return t.split("-")[1]}var G={top:"auto",right:"auto",bottom:"auto",left:"auto"};function tt(i){var o,a=i.popper,r=i.popperRect,c=i.placement,h=i.variation,d=i.offsets,m=i.position,p=i.gpuAcceleration,u=i.adaptive,f=i.roundOffsets,_=i.isFixed,g=d.x,v=void 0===g?0:g,b=d.y,y=void 0===b?0:b,w="function"==typeof f?f({x:v,y:y}):{x:v,y:y};v=w.x,y=w.y;var $=d.hasOwnProperty("x"),x=d.hasOwnProperty("y"),q=s,C=t,k=window;if(u){var S=U(a),E="clientHeight",O="clientWidth";if(S===A(a)&&"static"!==H(S=R(a)).position&&"absolute"===m&&(E="scrollHeight",O="scrollWidth"),c===t||(c===s||c===n)&&h===l)C=e,y-=(_&&S===k&&k.visualViewport?k.visualViewport.height:S[E])-r.height,y*=p?1:-1;if(c===s||(c===t||c===e)&&h===l)q=n,v-=(_&&S===k&&k.visualViewport?k.visualViewport.width:S[O])-r.width,v*=p?1:-1}var T,D=Object.assign({position:m},u&&G),N=!0===f?function(t,e){var i=t.x,n=t.y,s=e.devicePixelRatio||1;return{x:P(i*s)/s||0,y:P(n*s)/s||0}}({x:v,y:y},A(a)):{x:v,y:y};return v=N.x,y=N.y,p?Object.assign({},D,((T={})[C]=x?"0":"",T[q]=$?"0":"",T.transform=(k.devicePixelRatio||1)<=1?"translate("+v+"px, "+y+"px)":"translate3d("+v+"px, "+y+"px, 0)",T)):Object.assign({},D,((o={})[C]=x?y+"px":"",o[q]=$?v+"px":"",o.transform="",o))}const et={name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:function(t){var e=t.state,i=t.options,n=i.gpuAcceleration,s=void 0===n||n,o=i.adaptive,a=void 0===o||o,r=i.roundOffsets,l=void 0===r||r,c={placement:D(e.placement),variation:Z(e.placement),popper:e.elements.popper,popperRect:e.rects.popper,gpuAcceleration:s,isFixed:"fixed"===e.options.strategy};null!=e.modifiersData.popperOffsets&&(e.styles.popper=Object.assign({},e.styles.popper,tt(Object.assign({},c,{offsets:e.modifiersData.popperOffsets,position:e.options.strategy,adaptive:a,roundOffsets:l})))),null!=e.modifiersData.arrow&&(e.styles.arrow=Object.assign({},e.styles.arrow,tt(Object.assign({},c,{offsets:e.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:l})))),e.attributes.popper=Object.assign({},e.attributes.popper,{"data-popper-placement":e.placement})},data:{}};var it={passive:!0};const nt={name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:function(t){var e=t.state,i=t.instance,n=t.options,s=n.scroll,o=void 0===s||s,a=n.resize,r=void 0===a||a,l=A(e.elements.popper),c=[].concat(e.scrollParents.reference,e.scrollParents.popper);return o&&c.forEach(function(t){t.addEventListener("scroll",i.update,it)}),r&&l.addEventListener("resize",i.update,it),function(){o&&c.forEach(function(t){t.removeEventListener("scroll",i.update,it)}),r&&l.removeEventListener("resize",i.update,it)}},data:{}};var st={left:"right",right:"left",bottom:"top",top:"bottom"};function ot(t){return t.replace(/left|right|bottom|top/g,function(t){return st[t]})}var at={start:"end",end:"start"};function rt(t){return t.replace(/start|end/g,function(t){return at[t]})}function lt(t){var e=A(t);return{scrollLeft:e.pageXOffset,scrollTop:e.pageYOffset}}function ct(t){return j(R(t)).left+lt(t).scrollLeft}function ht(t){var e=H(t),i=e.overflow,n=e.overflowX,s=e.overflowY;return/auto|scroll|overlay|hidden/.test(i+s+n)}function dt(t){return["html","body","#document"].indexOf(k(t))>=0?t.ownerDocument.body:E(t)&&ht(t)?t:dt(W(t))}function mt(t,e){var i;void 0===e&&(e=[]);var n=dt(t),s=n===(null==(i=t.ownerDocument)?void 0:i.body),o=A(n),a=s?[o].concat(o.visualViewport||[],ht(n)?n:[]):n,r=e.concat(a);return s?r:r.concat(mt(W(a)))}function pt(t){return Object.assign({},t,{left:t.x,top:t.y,right:t.x+t.width,bottom:t.y+t.height})}function ut(t,e,i){return e===h?pt(function(t,e){var i=A(t),n=R(t),s=i.visualViewport,o=n.clientWidth,a=n.clientHeight,r=0,l=0;if(s){o=s.width,a=s.height;var c=M();(c||!c&&"fixed"===e)&&(r=s.offsetLeft,l=s.offsetTop)}return{width:o,height:a,x:r+ct(t),y:l}}(t,i)):S(e)?function(t,e){var i=j(t,!1,"fixed"===e);return i.top=i.top+t.clientTop,i.left=i.left+t.clientLeft,i.bottom=i.top+t.clientHeight,i.right=i.left+t.clientWidth,i.width=t.clientWidth,i.height=t.clientHeight,i.x=i.left,i.y=i.top,i}(e,i):pt(function(t){var e,i=R(t),n=lt(t),s=null==(e=t.ownerDocument)?void 0:e.body,o=N(i.scrollWidth,i.clientWidth,s?s.scrollWidth:0,s?s.clientWidth:0),a=N(i.scrollHeight,i.clientHeight,s?s.scrollHeight:0,s?s.clientHeight:0),r=-n.scrollLeft+ct(t),l=-n.scrollTop;return"rtl"===H(s||i).direction&&(r+=N(i.clientWidth,s?s.clientWidth:0)-o),{width:o,height:a,x:r,y:l}}(R(t)))}function ft(t,e,i,n){var s="clippingParents"===e?function(t){var e=mt(W(t)),i=["absolute","fixed"].indexOf(H(t).position)>=0&&E(t)?U(t):t;return S(i)?e.filter(function(t){return S(t)&&F(t,i)&&"body"!==k(t)}):[]}(t):[].concat(e),o=[].concat(s,[i]),a=o[0],r=o.reduce(function(e,i){var s=ut(t,i,n);return e.top=N(s.top,e.top),e.right=I(s.right,e.right),e.bottom=I(s.bottom,e.bottom),e.left=N(s.left,e.left),e},ut(t,a,n));return r.width=r.right-r.left,r.height=r.bottom-r.top,r.x=r.left,r.y=r.top,r}function _t(i){var o,a=i.reference,c=i.element,h=i.placement,d=h?D(h):null,m=h?Z(h):null,p=a.x+a.width/2-c.width/2,u=a.y+a.height/2-c.height/2;switch(d){case t:o={x:p,y:a.y-c.height};break;case e:o={x:p,y:a.y+a.height};break;case n:o={x:a.x+a.width,y:u};break;case s:o={x:a.x-c.width,y:u};break;default:o={x:a.x,y:a.y}}var f=d?Y(d):null;if(null!=f){var _="y"===f?"height":"width";switch(m){case r:o[f]=o[f]-(a[_]/2-c[_]/2);break;case l:o[f]=o[f]+(a[_]/2-c[_]/2)}}return o}function gt(i,s){void 0===s&&(s={});var o=s,r=o.placement,l=void 0===r?i.placement:r,p=o.strategy,u=void 0===p?i.strategy:p,f=o.boundary,_=void 0===f?c:f,g=o.rootBoundary,v=void 0===g?h:g,b=o.elementContext,y=void 0===b?d:b,w=o.altBoundary,$=void 0!==w&&w,x=o.padding,q=void 0===x?0:x,C=Q("number"!=typeof q?q:X(q,a)),k=y===d?m:d,A=i.rects.popper,E=i.elements[$?k:y],O=ft(S(E)?E:E.contextElement||R(i.elements.popper),_,v,u),T=j(i.elements.reference),D=_t({reference:T,element:A,placement:l}),N=pt(Object.assign({},A,D)),I=y===d?N:T,P={top:O.top-I.top+C.top,bottom:I.bottom-O.bottom+C.bottom,left:O.left-I.left+C.left,right:I.right-O.right+C.right},L=i.modifiersData.offset;if(y===d&&L){var M=L[l];Object.keys(P).forEach(function(i){var s=[n,e].indexOf(i)>=0?1:-1,o=[t,e].indexOf(i)>=0?"y":"x";P[i]+=M[o]*s})}return P}const vt={name:"flip",enabled:!0,phase:"main",fn:function(i){var l=i.state,c=i.options,h=i.name;if(!l.modifiersData[h]._skip){for(var d=c.mainAxis,m=void 0===d||d,f=c.altAxis,_=void 0===f||f,g=c.fallbackPlacements,v=c.padding,b=c.boundary,y=c.rootBoundary,w=c.altBoundary,$=c.flipVariations,x=void 0===$||$,q=c.allowedAutoPlacements,C=l.options.placement,k=D(C),A=g||(k===C||!x?[ot(C)]:function(t){if(D(t)===o)return[];var e=ot(t);return[rt(t),e,rt(e)]}(C)),S=[C].concat(A).reduce(function(t,e){return t.concat(D(e)===o?function(t,e){void 0===e&&(e={});var i=e,n=i.placement,s=i.boundary,o=i.rootBoundary,r=i.padding,l=i.flipVariations,c=i.allowedAutoPlacements,h=void 0===c?u:c,d=Z(n),m=d?l?p:p.filter(function(t){return Z(t)===d}):a,f=m.filter(function(t){return h.indexOf(t)>=0});0===f.length&&(f=m);var _=f.reduce(function(e,i){return e[i]=gt(t,{placement:i,boundary:s,rootBoundary:o,padding:r})[D(i)],e},{});return Object.keys(_).sort(function(t,e){return _[t]-_[e]})}(l,{placement:e,boundary:b,rootBoundary:y,padding:v,flipVariations:x,allowedAutoPlacements:q}):e)},[]),E=l.rects.reference,O=l.rects.popper,T=new Map,N=!0,I=S[0],P=0;P<S.length;P++){var L=S[P],M=D(L),j=Z(L)===r,z=[t,e].indexOf(M)>=0,F=z?"width":"height",H=gt(l,{placement:L,boundary:b,rootBoundary:y,altBoundary:w,padding:v}),B=z?j?n:s:j?e:t;E[F]>O[F]&&(B=ot(B));var R=ot(B),W=[];if(m&&W.push(H[M]<=0),_&&W.push(H[B]<=0,H[R]<=0),W.every(function(t){return t})){I=L,N=!1;break}T.set(L,W)}if(N)for(var V=function(t){var e=S.find(function(e){var i=T.get(e);if(i)return i.slice(0,t).every(function(t){return t})});if(e)return I=e,"break"},U=x?3:1;U>0;U--){if("break"===V(U))break}l.placement!==I&&(l.modifiersData[h]._skip=!0,l.placement=I,l.reset=!0)}},requiresIfExists:["offset"],data:{_skip:!1}};function bt(t,e,i){return void 0===i&&(i={x:0,y:0}),{top:t.top-e.height-i.y,right:t.right-e.width+i.x,bottom:t.bottom-e.height+i.y,left:t.left-e.width-i.x}}function yt(i){return[t,n,e,s].some(function(t){return i[t]>=0})}const wt={name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:function(t){var e=t.state,i=t.name,n=e.rects.reference,s=e.rects.popper,o=e.modifiersData.preventOverflow,a=gt(e,{elementContext:"reference"}),r=gt(e,{altBoundary:!0}),l=bt(a,n),c=bt(r,s,o),h=yt(l),d=yt(c);e.modifiersData[i]={referenceClippingOffsets:l,popperEscapeOffsets:c,isReferenceHidden:h,hasPopperEscaped:d},e.attributes.popper=Object.assign({},e.attributes.popper,{"data-popper-reference-hidden":h,"data-popper-escaped":d})}};const $t={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:function(e){var i=e.state,o=e.options,a=e.name,r=o.offset,l=void 0===r?[0,0]:r,c=u.reduce(function(e,o){return e[o]=function(e,i,o){var a=D(e),r=[s,t].indexOf(a)>=0?-1:1,l="function"==typeof o?o(Object.assign({},i,{placement:e})):o,c=l[0],h=l[1];return c=c||0,h=(h||0)*r,[s,n].indexOf(a)>=0?{x:h,y:c}:{x:c,y:h}}(o,i.rects,l),e},{}),h=c[i.placement],d=h.x,m=h.y;null!=i.modifiersData.popperOffsets&&(i.modifiersData.popperOffsets.x+=d,i.modifiersData.popperOffsets.y+=m),i.modifiersData[a]=c}};const xt={name:"popperOffsets",enabled:!0,phase:"read",fn:function(t){var e=t.state,i=t.name;e.modifiersData[i]=_t({reference:e.rects.reference,element:e.rects.popper,placement:e.placement})},data:{}};const qt={name:"preventOverflow",enabled:!0,phase:"main",fn:function(i){var o=i.state,a=i.options,l=i.name,c=a.mainAxis,h=void 0===c||c,d=a.altAxis,m=void 0!==d&&d,p=a.boundary,u=a.rootBoundary,f=a.altBoundary,_=a.padding,g=a.tether,v=void 0===g||g,b=a.tetherOffset,y=void 0===b?0:b,w=gt(o,{boundary:p,rootBoundary:u,padding:_,altBoundary:f}),$=D(o.placement),x=Z(o.placement),q=!x,C=Y($),k="x"===C?"y":"x",A=o.modifiersData.popperOffsets,S=o.rects.reference,E=o.rects.popper,O="function"==typeof y?y(Object.assign({},o.rects,{placement:o.placement})):y,T="number"==typeof O?{mainAxis:O,altAxis:O}:Object.assign({mainAxis:0,altAxis:0},O),P=o.modifiersData.offset?o.modifiersData.offset[o.placement]:null,L={x:0,y:0};if(A){if(h){var M,j="y"===C?t:s,F="y"===C?e:n,H="y"===C?"height":"width",B=A[C],R=B+w[j],W=B-w[F],V=v?-E[H]/2:0,Q=x===r?S[H]:E[H],X=x===r?-E[H]:-S[H],K=o.elements.arrow,G=v&&K?z(K):{width:0,height:0},tt=o.modifiersData["arrow#persistent"]?o.modifiersData["arrow#persistent"].padding:{top:0,right:0,bottom:0,left:0},et=tt[j],it=tt[F],nt=J(0,S[H],G[H]),st=q?S[H]/2-V-nt-et-T.mainAxis:Q-nt-et-T.mainAxis,ot=q?-S[H]/2+V+nt+it+T.mainAxis:X+nt+it+T.mainAxis,at=o.elements.arrow&&U(o.elements.arrow),rt=at?"y"===C?at.clientTop||0:at.clientLeft||0:0,lt=null!=(M=null==P?void 0:P[C])?M:0,ct=B+ot-lt,ht=J(v?I(R,B+st-lt-rt):R,B,v?N(W,ct):W);A[C]=ht,L[C]=ht-B}if(m){var dt,mt="x"===C?t:s,pt="x"===C?e:n,ut=A[k],ft="y"===k?"height":"width",_t=ut+w[mt],vt=ut-w[pt],bt=-1!==[t,s].indexOf($),yt=null!=(dt=null==P?void 0:P[k])?dt:0,wt=bt?_t:ut-S[ft]-E[ft]-yt+T.altAxis,$t=bt?ut+S[ft]+E[ft]-yt-T.altAxis:vt,xt=v&&bt?(Ct=J(wt,ut,qt=$t))>qt?qt:Ct:J(v?wt:_t,ut,v?$t:vt);A[k]=xt,L[k]=xt-ut}var qt,Ct;o.modifiersData[l]=L}},requiresIfExists:["offset"]};function Ct(t,e,i){void 0===i&&(i=!1);var n,s,o=E(e),a=E(e)&&function(t){var e=t.getBoundingClientRect(),i=P(e.width)/t.offsetWidth||1,n=P(e.height)/t.offsetHeight||1;return 1!==i||1!==n}(e),r=R(e),l=j(t,a,i),c={scrollLeft:0,scrollTop:0},h={x:0,y:0};return(o||!o&&!i)&&(("body"!==k(e)||ht(r))&&(c=(n=e)!==A(n)&&E(n)?{scrollLeft:(s=n).scrollLeft,scrollTop:s.scrollTop}:lt(n)),E(e)?((h=j(e,!0)).x+=e.clientLeft,h.y+=e.clientTop):r&&(h.x=ct(r))),{x:l.left+c.scrollLeft-h.x,y:l.top+c.scrollTop-h.y,width:l.width,height:l.height}}function kt(t){var e=new Map,i=new Set,n=[];function s(t){i.add(t.name),[].concat(t.requires||[],t.requiresIfExists||[]).forEach(function(t){if(!i.has(t)){var n=e.get(t);n&&s(n)}}),n.push(t)}return t.forEach(function(t){e.set(t.name,t)}),t.forEach(function(t){i.has(t.name)||s(t)}),n}var At={placement:"bottom",modifiers:[],strategy:"absolute"};function St(){for(var t=arguments.length,e=new Array(t),i=0;i<t;i++)e[i]=arguments[i];return!e.some(function(t){return!(t&&"function"==typeof t.getBoundingClientRect)})}function Et(t){void 0===t&&(t={});var e=t,i=e.defaultModifiers,n=void 0===i?[]:i,s=e.defaultOptions,o=void 0===s?At:s;return function(t,e,i){void 0===i&&(i=o);var s,a,r={placement:"bottom",orderedModifiers:[],options:Object.assign({},At,o),modifiersData:{},elements:{reference:t,popper:e},attributes:{},styles:{}},l=[],c=!1,h={state:r,setOptions:function(i){var s="function"==typeof i?i(r.options):i;d(),r.options=Object.assign({},o,r.options,s),r.scrollParents={reference:S(t)?mt(t):t.contextElement?mt(t.contextElement):[],popper:mt(e)};var a,c,m=function(t){var e=kt(t);return C.reduce(function(t,i){return t.concat(e.filter(function(t){return t.phase===i}))},[])}((a=[].concat(n,r.options.modifiers),c=a.reduce(function(t,e){var i=t[e.name];return t[e.name]=i?Object.assign({},i,e,{options:Object.assign({},i.options,e.options),data:Object.assign({},i.data,e.data)}):e,t},{}),Object.keys(c).map(function(t){return c[t]})));return r.orderedModifiers=m.filter(function(t){return t.enabled}),r.orderedModifiers.forEach(function(t){var e=t.name,i=t.options,n=void 0===i?{}:i,s=t.effect;if("function"==typeof s){var o=s({state:r,name:e,instance:h,options:n}),a=function(){};l.push(o||a)}}),h.update()},forceUpdate:function(){if(!c){var t=r.elements,e=t.reference,i=t.popper;if(St(e,i)){r.rects={reference:Ct(e,U(i),"fixed"===r.options.strategy),popper:z(i)},r.reset=!1,r.placement=r.options.placement,r.orderedModifiers.forEach(function(t){return r.modifiersData[t.name]=Object.assign({},t.data)});for(var n=0;n<r.orderedModifiers.length;n++)if(!0!==r.reset){var s=r.orderedModifiers[n],o=s.fn,a=s.options,l=void 0===a?{}:a,d=s.name;"function"==typeof o&&(r=o({state:r,options:l,name:d,instance:h})||r)}else r.reset=!1,n=-1}}},update:(s=function(){return new Promise(function(t){h.forceUpdate(),t(r)})},function(){return a||(a=new Promise(function(t){Promise.resolve().then(function(){a=void 0,t(s())})})),a}),destroy:function(){d(),c=!0}};if(!St(t,e))return h;function d(){l.forEach(function(t){return t()}),l=[]}return h.setOptions(i).then(function(t){!c&&i.onFirstUpdate&&i.onFirstUpdate(t)}),h}}var Ot=Et(),Tt=Et({defaultModifiers:[nt,xt,et,T]}),Dt=Et({defaultModifiers:[nt,xt,et,T,$t,vt,qt,K,wt]});const Nt=Object.freeze(Object.defineProperty({__proto__:null,afterMain:y,afterRead:g,afterWrite:q,applyStyles:T,arrow:K,auto:o,basePlacements:a,beforeMain:v,beforeRead:f,beforeWrite:w,bottom:e,clippingParents:c,computeStyles:et,createPopper:Dt,createPopperBase:Ot,createPopperLite:Tt,detectOverflow:gt,end:l,eventListeners:nt,flip:vt,hide:wt,left:s,main:b,modifierPhases:C,offset:$t,placements:u,popper:d,popperGenerator:Et,popperOffsets:xt,preventOverflow:qt,read:_,reference:m,right:n,start:r,top:t,variationPlacements:p,viewport:h,write:x},Symbol.toStringTag,{value:"Module"})),It=new Map,Pt={set(t,e,i){It.has(t)||It.set(t,new Map);const n=It.get(t);n.has(e)||0===n.size?n.set(e,i):console.error(`Bootstrap doesn't allow more than one instance per element. Bound instance: ${Array.from(n.keys())[0]}.`)},get:(t,e)=>It.has(t)&&It.get(t).get(e)||null,remove(t,e){if(!It.has(t))return;const i=It.get(t);i.delete(e),0===i.size&&It.delete(t)}},Lt="transitionend",Mt=t=>(t&&window.CSS&&window.CSS.escape&&(t=t.replace(/#([^\s"#']+)/g,(t,e)=>`#${CSS.escape(e)}`)),t),jt=t=>null==t?`${t}`:Object.prototype.toString.call(t).match(/\s([a-z]+)/i)[1].toLowerCase(),zt=t=>{t.dispatchEvent(new Event(Lt))},Ft=t=>!(!t||"object"!=typeof t)&&(void 0!==t.jquery&&(t=t[0]),void 0!==t.nodeType),Ht=t=>Ft(t)?t.jquery?t[0]:t:"string"==typeof t&&t.length>0?document.querySelector(Mt(t)):null,Bt=t=>{if(!Ft(t)||0===t.getClientRects().length)return!1;const e="visible"===getComputedStyle(t).getPropertyValue("visibility"),i=t.closest("details:not([open])");if(!i)return e;if(i!==t){const e=t.closest("summary");if(e&&e.parentNode!==i)return!1;if(null===e)return!1}return e},Rt=t=>!t||t.nodeType!==Node.ELEMENT_NODE||(!!t.classList.contains("disabled")||(void 0!==t.disabled?t.disabled:t.hasAttribute("disabled")&&"false"!==t.getAttribute("disabled"))),Wt=t=>{if(!document.documentElement.attachShadow)return null;if("function"==typeof t.getRootNode){const e=t.getRootNode();return e instanceof ShadowRoot?e:null}return t instanceof ShadowRoot?t:t.parentNode?Wt(t.parentNode):null},Vt=()=>{},Ut=t=>{t.offsetHeight},Yt=()=>window.jQuery&&!document.body.hasAttribute("data-bs-no-jquery")?window.jQuery:null,Jt=[],Qt=()=>"rtl"===document.documentElement.dir,Xt=t=>{var e;e=()=>{const e=Yt();if(e){const i=t.NAME,n=e.fn[i];e.fn[i]=t.jQueryInterface,e.fn[i].Constructor=t,e.fn[i].noConflict=()=>(e.fn[i]=n,t.jQueryInterface)}},"loading"===document.readyState?(Jt.length||document.addEventListener("DOMContentLoaded",()=>{for(const t of Jt)t()}),Jt.push(e)):e()},Kt=(t,e=[],i=t)=>"function"==typeof t?t.call(...e):i,Zt=(t,e,i=!0)=>{if(!i)return void Kt(t);const n=(t=>{if(!t)return 0;let{transitionDuration:e,transitionDelay:i}=window.getComputedStyle(t);const n=Number.parseFloat(e),s=Number.parseFloat(i);return n||s?(e=e.split(",")[0],i=i.split(",")[0],1e3*(Number.parseFloat(e)+Number.parseFloat(i))):0})(e)+5;let s=!1;const o=({target:i})=>{i===e&&(s=!0,e.removeEventListener(Lt,o),Kt(t))};e.addEventListener(Lt,o),setTimeout(()=>{s||zt(e)},n)},Gt=(t,e,i,n)=>{const s=t.length;let o=t.indexOf(e);return-1===o?!i&&n?t[s-1]:t[0]:(o+=i?1:-1,n&&(o=(o+s)%s),t[Math.max(0,Math.min(o,s-1))])},te=/[^.]*(?=\..*)\.|.*/,ee=/\..*/,ie=/::\d+$/,ne={};
/*!
  * Bootstrap v5.3.7 (https://getbootstrap.com/)
  * Copyright 2011-2025 The Bootstrap Authors (https://github.com/twbs/bootstrap/graphs/contributors)
  * Licensed under MIT (https://github.com/twbs/bootstrap/blob/main/LICENSE)
  */let se=1;const oe={mouseenter:"mouseover",mouseleave:"mouseout"},ae=new Set(["click","dblclick","mouseup","mousedown","contextmenu","mousewheel","DOMMouseScroll","mouseover","mouseout","mousemove","selectstart","selectend","keydown","keypress","keyup","orientationchange","touchstart","touchmove","touchend","touchcancel","pointerdown","pointermove","pointerup","pointerleave","pointercancel","gesturestart","gesturechange","gestureend","focus","blur","change","reset","select","submit","focusin","focusout","load","unload","beforeunload","resize","move","DOMContentLoaded","readystatechange","error","abort","scroll"]);function re(t,e){return e&&`${e}::${se++}`||t.uidEvent||se++}function le(t){const e=re(t);return t.uidEvent=e,ne[e]=ne[e]||{},ne[e]}function ce(t,e,i=null){return Object.values(t).find(t=>t.callable===e&&t.delegationSelector===i)}function he(t,e,i){const n="string"==typeof e,s=n?i:e||i;let o=ue(t);return ae.has(o)||(o=t),[n,s,o]}function de(t,e,i,n,s){if("string"!=typeof e||!t)return;let[o,a,r]=he(e,i,n);if(e in oe){a=(t=>function(e){if(!e.relatedTarget||e.relatedTarget!==e.delegateTarget&&!e.delegateTarget.contains(e.relatedTarget))return t.call(this,e)})(a)}const l=le(t),c=l[r]||(l[r]={}),h=ce(c,a,o?i:null);if(h)return void(h.oneOff=h.oneOff&&s);const d=re(a,e.replace(te,"")),m=o?function(t,e,i){return function n(s){const o=t.querySelectorAll(e);for(let{target:a}=s;a&&a!==this;a=a.parentNode)for(const r of o)if(r===a)return _e(s,{delegateTarget:a}),n.oneOff&&fe.off(t,s.type,e,i),i.apply(a,[s])}}(t,i,a):function(t,e){return function i(n){return _e(n,{delegateTarget:t}),i.oneOff&&fe.off(t,n.type,e),e.apply(t,[n])}}(t,a);m.delegationSelector=o?i:null,m.callable=a,m.oneOff=s,m.uidEvent=d,c[d]=m,t.addEventListener(r,m,o)}function me(t,e,i,n,s){const o=ce(e[i],n,s);o&&(t.removeEventListener(i,o,Boolean(s)),delete e[i][o.uidEvent])}function pe(t,e,i,n){const s=e[i]||{};for(const[o,a]of Object.entries(s))o.includes(n)&&me(t,e,i,a.callable,a.delegationSelector)}function ue(t){return t=t.replace(ee,""),oe[t]||t}const fe={on(t,e,i,n){de(t,e,i,n,!1)},one(t,e,i,n){de(t,e,i,n,!0)},off(t,e,i,n){if("string"!=typeof e||!t)return;const[s,o,a]=he(e,i,n),r=a!==e,l=le(t),c=l[a]||{},h=e.startsWith(".");if(void 0===o){if(h)for(const i of Object.keys(l))pe(t,l,i,e.slice(1));for(const[i,n]of Object.entries(c)){const s=i.replace(ie,"");r&&!e.includes(s)||me(t,l,a,n.callable,n.delegationSelector)}}else{if(!Object.keys(c).length)return;me(t,l,a,o,s?i:null)}},trigger(t,e,i){if("string"!=typeof e||!t)return null;const n=Yt();let s=null,o=!0,a=!0,r=!1;e!==ue(e)&&n&&(s=n.Event(e,i),n(t).trigger(s),o=!s.isPropagationStopped(),a=!s.isImmediatePropagationStopped(),r=s.isDefaultPrevented());const l=_e(new Event(e,{bubbles:o,cancelable:!0}),i);return r&&l.preventDefault(),a&&t.dispatchEvent(l),l.defaultPrevented&&s&&s.preventDefault(),l}};function _e(t,e={}){for(const[n,s]of Object.entries(e))try{t[n]=s}catch(i){Object.defineProperty(t,n,{configurable:!0,get:()=>s})}return t}function ge(t){if("true"===t)return!0;if("false"===t)return!1;if(t===Number(t).toString())return Number(t);if(""===t||"null"===t)return null;if("string"!=typeof t)return t;try{return JSON.parse(decodeURIComponent(t))}catch(e){return t}}function ve(t){return t.replace(/[A-Z]/g,t=>`-${t.toLowerCase()}`)}const be={setDataAttribute(t,e,i){t.setAttribute(`data-bs-${ve(e)}`,i)},removeDataAttribute(t,e){t.removeAttribute(`data-bs-${ve(e)}`)},getDataAttributes(t){if(!t)return{};const e={},i=Object.keys(t.dataset).filter(t=>t.startsWith("bs")&&!t.startsWith("bsConfig"));for(const n of i){let i=n.replace(/^bs/,"");i=i.charAt(0).toLowerCase()+i.slice(1),e[i]=ge(t.dataset[n])}return e},getDataAttribute:(t,e)=>ge(t.getAttribute(`data-bs-${ve(e)}`))};class ye{static get Default(){return{}}static get DefaultType(){return{}}static get NAME(){throw new Error('You have to implement the static method "NAME", for each component!')}_getConfig(t){return t=this._mergeConfigObj(t),t=this._configAfterMerge(t),this._typeCheckConfig(t),t}_configAfterMerge(t){return t}_mergeConfigObj(t,e){const i=Ft(e)?be.getDataAttribute(e,"config"):{};return{...this.constructor.Default,..."object"==typeof i?i:{},...Ft(e)?be.getDataAttributes(e):{},..."object"==typeof t?t:{}}}_typeCheckConfig(t,e=this.constructor.DefaultType){for(const[i,n]of Object.entries(e)){const e=t[i],s=Ft(e)?"element":jt(e);if(!new RegExp(n).test(s))throw new TypeError(`${this.constructor.NAME.toUpperCase()}: Option "${i}" provided type "${s}" but expected type "${n}".`)}}}class we extends ye{constructor(t,e){super(),(t=Ht(t))&&(this._element=t,this._config=this._getConfig(e),Pt.set(this._element,this.constructor.DATA_KEY,this))}dispose(){Pt.remove(this._element,this.constructor.DATA_KEY),fe.off(this._element,this.constructor.EVENT_KEY);for(const t of Object.getOwnPropertyNames(this))this[t]=null}_queueCallback(t,e,i=!0){Zt(t,e,i)}_getConfig(t){return t=this._mergeConfigObj(t,this._element),t=this._configAfterMerge(t),this._typeCheckConfig(t),t}static getInstance(t){return Pt.get(Ht(t),this.DATA_KEY)}static getOrCreateInstance(t,e={}){return this.getInstance(t)||new this(t,"object"==typeof e?e:null)}static get VERSION(){return"5.3.7"}static get DATA_KEY(){return`bs.${this.NAME}`}static get EVENT_KEY(){return`.${this.DATA_KEY}`}static eventName(t){return`${t}${this.EVENT_KEY}`}}const $e=t=>{let e=t.getAttribute("data-bs-target");if(!e||"#"===e){let i=t.getAttribute("href");if(!i||!i.includes("#")&&!i.startsWith("."))return null;i.includes("#")&&!i.startsWith("#")&&(i=`#${i.split("#")[1]}`),e=i&&"#"!==i?i.trim():null}return e?e.split(",").map(t=>Mt(t)).join(","):null},xe={find:(t,e=document.documentElement)=>[].concat(...Element.prototype.querySelectorAll.call(e,t)),findOne:(t,e=document.documentElement)=>Element.prototype.querySelector.call(e,t),children:(t,e)=>[].concat(...t.children).filter(t=>t.matches(e)),parents(t,e){const i=[];let n=t.parentNode.closest(e);for(;n;)i.push(n),n=n.parentNode.closest(e);return i},prev(t,e){let i=t.previousElementSibling;for(;i;){if(i.matches(e))return[i];i=i.previousElementSibling}return[]},next(t,e){let i=t.nextElementSibling;for(;i;){if(i.matches(e))return[i];i=i.nextElementSibling}return[]},focusableChildren(t){const e=["a","button","input","textarea","select","details","[tabindex]",'[contenteditable="true"]'].map(t=>`${t}:not([tabindex^="-"])`).join(",");return this.find(e,t).filter(t=>!Rt(t)&&Bt(t))},getSelectorFromElement(t){const e=$e(t);return e&&xe.findOne(e)?e:null},getElementFromSelector(t){const e=$e(t);return e?xe.findOne(e):null},getMultipleElementsFromSelector(t){const e=$e(t);return e?xe.find(e):[]}},qe=(t,e="hide")=>{const i=`click.dismiss${t.EVENT_KEY}`,n=t.NAME;fe.on(document,i,`[data-bs-dismiss="${n}"]`,function(i){if(["A","AREA"].includes(this.tagName)&&i.preventDefault(),Rt(this))return;const s=xe.getElementFromSelector(this)||this.closest(`.${n}`);t.getOrCreateInstance(s)[e]()})},Ce=".bs.alert",ke=`close${Ce}`,Ae=`closed${Ce}`;class Se extends we{static get NAME(){return"alert"}close(){if(fe.trigger(this._element,ke).defaultPrevented)return;this._element.classList.remove("show");const t=this._element.classList.contains("fade");this._queueCallback(()=>this._destroyElement(),this._element,t)}_destroyElement(){this._element.remove(),fe.trigger(this._element,Ae),this.dispose()}static jQueryInterface(t){return this.each(function(){const e=Se.getOrCreateInstance(this);if("string"==typeof t){if(void 0===e[t]||t.startsWith("_")||"constructor"===t)throw new TypeError(`No method named "${t}"`);e[t](this)}})}}qe(Se,"close"),Xt(Se);const Ee='[data-bs-toggle="button"]';class Oe extends we{static get NAME(){return"button"}toggle(){this._element.setAttribute("aria-pressed",this._element.classList.toggle("active"))}static jQueryInterface(t){return this.each(function(){const e=Oe.getOrCreateInstance(this);"toggle"===t&&e[t]()})}}fe.on(document,"click.bs.button.data-api",Ee,t=>{t.preventDefault();const e=t.target.closest(Ee);Oe.getOrCreateInstance(e).toggle()}),Xt(Oe);const Te=".bs.swipe",De=`touchstart${Te}`,Ne=`touchmove${Te}`,Ie=`touchend${Te}`,Pe=`pointerdown${Te}`,Le=`pointerup${Te}`,Me={endCallback:null,leftCallback:null,rightCallback:null},je={endCallback:"(function|null)",leftCallback:"(function|null)",rightCallback:"(function|null)"};class ze extends ye{constructor(t,e){super(),this._element=t,t&&ze.isSupported()&&(this._config=this._getConfig(e),this._deltaX=0,this._supportPointerEvents=Boolean(window.PointerEvent),this._initEvents())}static get Default(){return Me}static get DefaultType(){return je}static get NAME(){return"swipe"}dispose(){fe.off(this._element,Te)}_start(t){this._supportPointerEvents?this._eventIsPointerPenTouch(t)&&(this._deltaX=t.clientX):this._deltaX=t.touches[0].clientX}_end(t){this._eventIsPointerPenTouch(t)&&(this._deltaX=t.clientX-this._deltaX),this._handleSwipe(),Kt(this._config.endCallback)}_move(t){this._deltaX=t.touches&&t.touches.length>1?0:t.touches[0].clientX-this._deltaX}_handleSwipe(){const t=Math.abs(this._deltaX);if(t<=40)return;const e=t/this._deltaX;this._deltaX=0,e&&Kt(e>0?this._config.rightCallback:this._config.leftCallback)}_initEvents(){this._supportPointerEvents?(fe.on(this._element,Pe,t=>this._start(t)),fe.on(this._element,Le,t=>this._end(t)),this._element.classList.add("pointer-event")):(fe.on(this._element,De,t=>this._start(t)),fe.on(this._element,Ne,t=>this._move(t)),fe.on(this._element,Ie,t=>this._end(t)))}_eventIsPointerPenTouch(t){return this._supportPointerEvents&&("pen"===t.pointerType||"touch"===t.pointerType)}static isSupported(){return"ontouchstart"in document.documentElement||navigator.maxTouchPoints>0}}const Fe=".bs.carousel",He=".data-api",Be="ArrowLeft",Re="ArrowRight",We="next",Ve="prev",Ue="left",Ye="right",Je=`slide${Fe}`,Qe=`slid${Fe}`,Xe=`keydown${Fe}`,Ke=`mouseenter${Fe}`,Ze=`mouseleave${Fe}`,Ge=`dragstart${Fe}`,ti=`load${Fe}${He}`,ei=`click${Fe}${He}`,ii="carousel",ni="active",si=".active",oi=".carousel-item",ai=si+oi,ri={[Be]:Ye,[Re]:Ue},li={interval:5e3,keyboard:!0,pause:"hover",ride:!1,touch:!0,wrap:!0},ci={interval:"(number|boolean)",keyboard:"boolean",pause:"(string|boolean)",ride:"(boolean|string)",touch:"boolean",wrap:"boolean"};class hi extends we{constructor(t,e){super(t,e),this._interval=null,this._activeElement=null,this._isSliding=!1,this.touchTimeout=null,this._swipeHelper=null,this._indicatorsElement=xe.findOne(".carousel-indicators",this._element),this._addEventListeners(),this._config.ride===ii&&this.cycle()}static get Default(){return li}static get DefaultType(){return ci}static get NAME(){return"carousel"}next(){this._slide(We)}nextWhenVisible(){!document.hidden&&Bt(this._element)&&this.next()}prev(){this._slide(Ve)}pause(){this._isSliding&&zt(this._element),this._clearInterval()}cycle(){this._clearInterval(),this._updateInterval(),this._interval=setInterval(()=>this.nextWhenVisible(),this._config.interval)}_maybeEnableCycle(){this._config.ride&&(this._isSliding?fe.one(this._element,Qe,()=>this.cycle()):this.cycle())}to(t){const e=this._getItems();if(t>e.length-1||t<0)return;if(this._isSliding)return void fe.one(this._element,Qe,()=>this.to(t));const i=this._getItemIndex(this._getActive());if(i===t)return;const n=t>i?We:Ve;this._slide(n,e[t])}dispose(){this._swipeHelper&&this._swipeHelper.dispose(),super.dispose()}_configAfterMerge(t){return t.defaultInterval=t.interval,t}_addEventListeners(){this._config.keyboard&&fe.on(this._element,Xe,t=>this._keydown(t)),"hover"===this._config.pause&&(fe.on(this._element,Ke,()=>this.pause()),fe.on(this._element,Ze,()=>this._maybeEnableCycle())),this._config.touch&&ze.isSupported()&&this._addTouchEventListeners()}_addTouchEventListeners(){for(const e of xe.find(".carousel-item img",this._element))fe.on(e,Ge,t=>t.preventDefault());const t={leftCallback:()=>this._slide(this._directionToOrder(Ue)),rightCallback:()=>this._slide(this._directionToOrder(Ye)),endCallback:()=>{"hover"===this._config.pause&&(this.pause(),this.touchTimeout&&clearTimeout(this.touchTimeout),this.touchTimeout=setTimeout(()=>this._maybeEnableCycle(),500+this._config.interval))}};this._swipeHelper=new ze(this._element,t)}_keydown(t){if(/input|textarea/i.test(t.target.tagName))return;const e=ri[t.key];e&&(t.preventDefault(),this._slide(this._directionToOrder(e)))}_getItemIndex(t){return this._getItems().indexOf(t)}_setActiveIndicatorElement(t){if(!this._indicatorsElement)return;const e=xe.findOne(si,this._indicatorsElement);e.classList.remove(ni),e.removeAttribute("aria-current");const i=xe.findOne(`[data-bs-slide-to="${t}"]`,this._indicatorsElement);i&&(i.classList.add(ni),i.setAttribute("aria-current","true"))}_updateInterval(){const t=this._activeElement||this._getActive();if(!t)return;const e=Number.parseInt(t.getAttribute("data-bs-interval"),10);this._config.interval=e||this._config.defaultInterval}_slide(t,e=null){if(this._isSliding)return;const i=this._getActive(),n=t===We,s=e||Gt(this._getItems(),i,n,this._config.wrap);if(s===i)return;const o=this._getItemIndex(s),a=e=>fe.trigger(this._element,e,{relatedTarget:s,direction:this._orderToDirection(t),from:this._getItemIndex(i),to:o});if(a(Je).defaultPrevented)return;if(!i||!s)return;const r=Boolean(this._interval);this.pause(),this._isSliding=!0,this._setActiveIndicatorElement(o),this._activeElement=s;const l=n?"carousel-item-start":"carousel-item-end",c=n?"carousel-item-next":"carousel-item-prev";s.classList.add(c),Ut(s),i.classList.add(l),s.classList.add(l);this._queueCallback(()=>{s.classList.remove(l,c),s.classList.add(ni),i.classList.remove(ni,c,l),this._isSliding=!1,a(Qe)},i,this._isAnimated()),r&&this.cycle()}_isAnimated(){return this._element.classList.contains("slide")}_getActive(){return xe.findOne(ai,this._element)}_getItems(){return xe.find(oi,this._element)}_clearInterval(){this._interval&&(clearInterval(this._interval),this._interval=null)}_directionToOrder(t){return Qt()?t===Ue?Ve:We:t===Ue?We:Ve}_orderToDirection(t){return Qt()?t===Ve?Ue:Ye:t===Ve?Ye:Ue}static jQueryInterface(t){return this.each(function(){const e=hi.getOrCreateInstance(this,t);if("number"!=typeof t){if("string"==typeof t){if(void 0===e[t]||t.startsWith("_")||"constructor"===t)throw new TypeError(`No method named "${t}"`);e[t]()}}else e.to(t)})}}fe.on(document,ei,"[data-bs-slide], [data-bs-slide-to]",function(t){const e=xe.getElementFromSelector(this);if(!e||!e.classList.contains(ii))return;t.preventDefault();const i=hi.getOrCreateInstance(e),n=this.getAttribute("data-bs-slide-to");return n?(i.to(n),void i._maybeEnableCycle()):"next"===be.getDataAttribute(this,"slide")?(i.next(),void i._maybeEnableCycle()):(i.prev(),void i._maybeEnableCycle())}),fe.on(window,ti,()=>{const t=xe.find('[data-bs-ride="carousel"]');for(const e of t)hi.getOrCreateInstance(e)}),Xt(hi);const di=".bs.collapse",mi=`show${di}`,pi=`shown${di}`,ui=`hide${di}`,fi=`hidden${di}`,_i=`click${di}.data-api`,gi="show",vi="collapse",bi="collapsing",yi=`:scope .${vi} .${vi}`,wi='[data-bs-toggle="collapse"]',$i={parent:null,toggle:!0},xi={parent:"(null|element)",toggle:"boolean"};class qi extends we{constructor(t,e){super(t,e),this._isTransitioning=!1,this._triggerArray=[];const i=xe.find(wi);for(const n of i){const t=xe.getSelectorFromElement(n),e=xe.find(t).filter(t=>t===this._element);null!==t&&e.length&&this._triggerArray.push(n)}this._initializeChildren(),this._config.parent||this._addAriaAndCollapsedClass(this._triggerArray,this._isShown()),this._config.toggle&&this.toggle()}static get Default(){return $i}static get DefaultType(){return xi}static get NAME(){return"collapse"}toggle(){this._isShown()?this.hide():this.show()}show(){if(this._isTransitioning||this._isShown())return;let t=[];if(this._config.parent&&(t=this._getFirstLevelChildren(".collapse.show, .collapse.collapsing").filter(t=>t!==this._element).map(t=>qi.getOrCreateInstance(t,{toggle:!1}))),t.length&&t[0]._isTransitioning)return;if(fe.trigger(this._element,mi).defaultPrevented)return;for(const n of t)n.hide();const e=this._getDimension();this._element.classList.remove(vi),this._element.classList.add(bi),this._element.style[e]=0,this._addAriaAndCollapsedClass(this._triggerArray,!0),this._isTransitioning=!0;const i=`scroll${e[0].toUpperCase()+e.slice(1)}`;this._queueCallback(()=>{this._isTransitioning=!1,this._element.classList.remove(bi),this._element.classList.add(vi,gi),this._element.style[e]="",fe.trigger(this._element,pi)},this._element,!0),this._element.style[e]=`${this._element[i]}px`}hide(){if(this._isTransitioning||!this._isShown())return;if(fe.trigger(this._element,ui).defaultPrevented)return;const t=this._getDimension();this._element.style[t]=`${this._element.getBoundingClientRect()[t]}px`,Ut(this._element),this._element.classList.add(bi),this._element.classList.remove(vi,gi);for(const e of this._triggerArray){const t=xe.getElementFromSelector(e);t&&!this._isShown(t)&&this._addAriaAndCollapsedClass([e],!1)}this._isTransitioning=!0;this._element.style[t]="",this._queueCallback(()=>{this._isTransitioning=!1,this._element.classList.remove(bi),this._element.classList.add(vi),fe.trigger(this._element,fi)},this._element,!0)}_isShown(t=this._element){return t.classList.contains(gi)}_configAfterMerge(t){return t.toggle=Boolean(t.toggle),t.parent=Ht(t.parent),t}_getDimension(){return this._element.classList.contains("collapse-horizontal")?"width":"height"}_initializeChildren(){if(!this._config.parent)return;const t=this._getFirstLevelChildren(wi);for(const e of t){const t=xe.getElementFromSelector(e);t&&this._addAriaAndCollapsedClass([e],this._isShown(t))}}_getFirstLevelChildren(t){const e=xe.find(yi,this._config.parent);return xe.find(t,this._config.parent).filter(t=>!e.includes(t))}_addAriaAndCollapsedClass(t,e){if(t.length)for(const i of t)i.classList.toggle("collapsed",!e),i.setAttribute("aria-expanded",e)}static jQueryInterface(t){const e={};return"string"==typeof t&&/show|hide/.test(t)&&(e.toggle=!1),this.each(function(){const i=qi.getOrCreateInstance(this,e);if("string"==typeof t){if(void 0===i[t])throw new TypeError(`No method named "${t}"`);i[t]()}})}}fe.on(document,_i,wi,function(t){("A"===t.target.tagName||t.delegateTarget&&"A"===t.delegateTarget.tagName)&&t.preventDefault();for(const e of xe.getMultipleElementsFromSelector(this))qi.getOrCreateInstance(e,{toggle:!1}).toggle()}),Xt(qi);const Ci="dropdown",ki=".bs.dropdown",Ai=".data-api",Si="ArrowUp",Ei="ArrowDown",Oi=`hide${ki}`,Ti=`hidden${ki}`,Di=`show${ki}`,Ni=`shown${ki}`,Ii=`click${ki}${Ai}`,Pi=`keydown${ki}${Ai}`,Li=`keyup${ki}${Ai}`,Mi="show",ji='[data-bs-toggle="dropdown"]:not(.disabled):not(:disabled)',zi=`${ji}.${Mi}`,Fi=".dropdown-menu",Hi=Qt()?"top-end":"top-start",Bi=Qt()?"top-start":"top-end",Ri=Qt()?"bottom-end":"bottom-start",Wi=Qt()?"bottom-start":"bottom-end",Vi=Qt()?"left-start":"right-start",Ui=Qt()?"right-start":"left-start",Yi={autoClose:!0,boundary:"clippingParents",display:"dynamic",offset:[0,2],popperConfig:null,reference:"toggle"},Ji={autoClose:"(boolean|string)",boundary:"(string|element)",display:"string",offset:"(array|string|function)",popperConfig:"(null|object|function)",reference:"(string|element|object)"};class Qi extends we{constructor(t,e){super(t,e),this._popper=null,this._parent=this._element.parentNode,this._menu=xe.next(this._element,Fi)[0]||xe.prev(this._element,Fi)[0]||xe.findOne(Fi,this._parent),this._inNavbar=this._detectNavbar()}static get Default(){return Yi}static get DefaultType(){return Ji}static get NAME(){return Ci}toggle(){return this._isShown()?this.hide():this.show()}show(){if(Rt(this._element)||this._isShown())return;const t={relatedTarget:this._element};if(!fe.trigger(this._element,Di,t).defaultPrevented){if(this._createPopper(),"ontouchstart"in document.documentElement&&!this._parent.closest(".navbar-nav"))for(const t of[].concat(...document.body.children))fe.on(t,"mouseover",Vt);this._element.focus(),this._element.setAttribute("aria-expanded",!0),this._menu.classList.add(Mi),this._element.classList.add(Mi),fe.trigger(this._element,Ni,t)}}hide(){if(Rt(this._element)||!this._isShown())return;const t={relatedTarget:this._element};this._completeHide(t)}dispose(){this._popper&&this._popper.destroy(),super.dispose()}update(){this._inNavbar=this._detectNavbar(),this._popper&&this._popper.update()}_completeHide(t){if(!fe.trigger(this._element,Oi,t).defaultPrevented){if("ontouchstart"in document.documentElement)for(const t of[].concat(...document.body.children))fe.off(t,"mouseover",Vt);this._popper&&this._popper.destroy(),this._menu.classList.remove(Mi),this._element.classList.remove(Mi),this._element.setAttribute("aria-expanded","false"),be.removeDataAttribute(this._menu,"popper"),fe.trigger(this._element,Ti,t),this._element.focus()}}_getConfig(t){if("object"==typeof(t=super._getConfig(t)).reference&&!Ft(t.reference)&&"function"!=typeof t.reference.getBoundingClientRect)throw new TypeError(`${Ci.toUpperCase()}: Option "reference" provided type "object" without a required "getBoundingClientRect" method.`);return t}_createPopper(){if(void 0===Nt)throw new TypeError("Bootstrap's dropdowns require Popper (https://popper.js.org/docs/v2/)");let t=this._element;"parent"===this._config.reference?t=this._parent:Ft(this._config.reference)?t=Ht(this._config.reference):"object"==typeof this._config.reference&&(t=this._config.reference);const e=this._getPopperConfig();this._popper=Dt(t,this._menu,e)}_isShown(){return this._menu.classList.contains(Mi)}_getPlacement(){const t=this._parent;if(t.classList.contains("dropend"))return Vi;if(t.classList.contains("dropstart"))return Ui;if(t.classList.contains("dropup-center"))return"top";if(t.classList.contains("dropdown-center"))return"bottom";const e="end"===getComputedStyle(this._menu).getPropertyValue("--bs-position").trim();return t.classList.contains("dropup")?e?Bi:Hi:e?Wi:Ri}_detectNavbar(){return null!==this._element.closest(".navbar")}_getOffset(){const{offset:t}=this._config;return"string"==typeof t?t.split(",").map(t=>Number.parseInt(t,10)):"function"==typeof t?e=>t(e,this._element):t}_getPopperConfig(){const t={placement:this._getPlacement(),modifiers:[{name:"preventOverflow",options:{boundary:this._config.boundary}},{name:"offset",options:{offset:this._getOffset()}}]};return(this._inNavbar||"static"===this._config.display)&&(be.setDataAttribute(this._menu,"popper","static"),t.modifiers=[{name:"applyStyles",enabled:!1}]),{...t,...Kt(this._config.popperConfig,[void 0,t])}}_selectMenuItem({key:t,target:e}){const i=xe.find(".dropdown-menu .dropdown-item:not(.disabled):not(:disabled)",this._menu).filter(t=>Bt(t));i.length&&Gt(i,e,t===Ei,!i.includes(e)).focus()}static jQueryInterface(t){return this.each(function(){const e=Qi.getOrCreateInstance(this,t);if("string"==typeof t){if(void 0===e[t])throw new TypeError(`No method named "${t}"`);e[t]()}})}static clearMenus(t){if(2===t.button||"keyup"===t.type&&"Tab"!==t.key)return;const e=xe.find(zi);for(const i of e){const e=Qi.getInstance(i);if(!e||!1===e._config.autoClose)continue;const n=t.composedPath(),s=n.includes(e._menu);if(n.includes(e._element)||"inside"===e._config.autoClose&&!s||"outside"===e._config.autoClose&&s)continue;if(e._menu.contains(t.target)&&("keyup"===t.type&&"Tab"===t.key||/input|select|option|textarea|form/i.test(t.target.tagName)))continue;const o={relatedTarget:e._element};"click"===t.type&&(o.clickEvent=t),e._completeHide(o)}}static dataApiKeydownHandler(t){const e=/input|textarea/i.test(t.target.tagName),i="Escape"===t.key,n=[Si,Ei].includes(t.key);if(!n&&!i)return;if(e&&!i)return;t.preventDefault();const s=this.matches(ji)?this:xe.prev(this,ji)[0]||xe.next(this,ji)[0]||xe.findOne(ji,t.delegateTarget.parentNode),o=Qi.getOrCreateInstance(s);if(n)return t.stopPropagation(),o.show(),void o._selectMenuItem(t);o._isShown()&&(t.stopPropagation(),o.hide(),s.focus())}}fe.on(document,Pi,ji,Qi.dataApiKeydownHandler),fe.on(document,Pi,Fi,Qi.dataApiKeydownHandler),fe.on(document,Ii,Qi.clearMenus),fe.on(document,Li,Qi.clearMenus),fe.on(document,Ii,ji,function(t){t.preventDefault(),Qi.getOrCreateInstance(this).toggle()}),Xt(Qi);const Xi="backdrop",Ki="show",Zi=`mousedown.bs.${Xi}`,Gi={className:"modal-backdrop",clickCallback:null,isAnimated:!1,isVisible:!0,rootElement:"body"},tn={className:"string",clickCallback:"(function|null)",isAnimated:"boolean",isVisible:"boolean",rootElement:"(element|string)"};class en extends ye{constructor(t){super(),this._config=this._getConfig(t),this._isAppended=!1,this._element=null}static get Default(){return Gi}static get DefaultType(){return tn}static get NAME(){return Xi}show(t){if(!this._config.isVisible)return void Kt(t);this._append();const e=this._getElement();this._config.isAnimated&&Ut(e),e.classList.add(Ki),this._emulateAnimation(()=>{Kt(t)})}hide(t){this._config.isVisible?(this._getElement().classList.remove(Ki),this._emulateAnimation(()=>{this.dispose(),Kt(t)})):Kt(t)}dispose(){this._isAppended&&(fe.off(this._element,Zi),this._element.remove(),this._isAppended=!1)}_getElement(){if(!this._element){const t=document.createElement("div");t.className=this._config.className,this._config.isAnimated&&t.classList.add("fade"),this._element=t}return this._element}_configAfterMerge(t){return t.rootElement=Ht(t.rootElement),t}_append(){if(this._isAppended)return;const t=this._getElement();this._config.rootElement.append(t),fe.on(t,Zi,()=>{Kt(this._config.clickCallback)}),this._isAppended=!0}_emulateAnimation(t){Zt(t,this._getElement(),this._config.isAnimated)}}const nn=".bs.focustrap",sn=`focusin${nn}`,on=`keydown.tab${nn}`,an="backward",rn={autofocus:!0,trapElement:null},ln={autofocus:"boolean",trapElement:"element"};class cn extends ye{constructor(t){super(),this._config=this._getConfig(t),this._isActive=!1,this._lastTabNavDirection=null}static get Default(){return rn}static get DefaultType(){return ln}static get NAME(){return"focustrap"}activate(){this._isActive||(this._config.autofocus&&this._config.trapElement.focus(),fe.off(document,nn),fe.on(document,sn,t=>this._handleFocusin(t)),fe.on(document,on,t=>this._handleKeydown(t)),this._isActive=!0)}deactivate(){this._isActive&&(this._isActive=!1,fe.off(document,nn))}_handleFocusin(t){const{trapElement:e}=this._config;if(t.target===document||t.target===e||e.contains(t.target))return;const i=xe.focusableChildren(e);0===i.length?e.focus():this._lastTabNavDirection===an?i[i.length-1].focus():i[0].focus()}_handleKeydown(t){"Tab"===t.key&&(this._lastTabNavDirection=t.shiftKey?an:"forward")}}const hn=".fixed-top, .fixed-bottom, .is-fixed, .sticky-top",dn=".sticky-top",mn="padding-right",pn="margin-right";class un{constructor(){this._element=document.body}getWidth(){const t=document.documentElement.clientWidth;return Math.abs(window.innerWidth-t)}hide(){const t=this.getWidth();this._disableOverFlow(),this._setElementAttributes(this._element,mn,e=>e+t),this._setElementAttributes(hn,mn,e=>e+t),this._setElementAttributes(dn,pn,e=>e-t)}reset(){this._resetElementAttributes(this._element,"overflow"),this._resetElementAttributes(this._element,mn),this._resetElementAttributes(hn,mn),this._resetElementAttributes(dn,pn)}isOverflowing(){return this.getWidth()>0}_disableOverFlow(){this._saveInitialAttribute(this._element,"overflow"),this._element.style.overflow="hidden"}_setElementAttributes(t,e,i){const n=this.getWidth();this._applyManipulationCallback(t,t=>{if(t!==this._element&&window.innerWidth>t.clientWidth+n)return;this._saveInitialAttribute(t,e);const s=window.getComputedStyle(t).getPropertyValue(e);t.style.setProperty(e,`${i(Number.parseFloat(s))}px`)})}_saveInitialAttribute(t,e){const i=t.style.getPropertyValue(e);i&&be.setDataAttribute(t,e,i)}_resetElementAttributes(t,e){this._applyManipulationCallback(t,t=>{const i=be.getDataAttribute(t,e);null!==i?(be.removeDataAttribute(t,e),t.style.setProperty(e,i)):t.style.removeProperty(e)})}_applyManipulationCallback(t,e){if(Ft(t))e(t);else for(const i of xe.find(t,this._element))e(i)}}const fn=".bs.modal",_n=`hide${fn}`,gn=`hidePrevented${fn}`,vn=`hidden${fn}`,bn=`show${fn}`,yn=`shown${fn}`,wn=`resize${fn}`,$n=`click.dismiss${fn}`,xn=`mousedown.dismiss${fn}`,qn=`keydown.dismiss${fn}`,Cn=`click${fn}.data-api`,kn="modal-open",An="show",Sn="modal-static",En={backdrop:!0,focus:!0,keyboard:!0},On={backdrop:"(boolean|string)",focus:"boolean",keyboard:"boolean"};class Tn extends we{constructor(t,e){super(t,e),this._dialog=xe.findOne(".modal-dialog",this._element),this._backdrop=this._initializeBackDrop(),this._focustrap=this._initializeFocusTrap(),this._isShown=!1,this._isTransitioning=!1,this._scrollBar=new un,this._addEventListeners()}static get Default(){return En}static get DefaultType(){return On}static get NAME(){return"modal"}toggle(t){return this._isShown?this.hide():this.show(t)}show(t){if(this._isShown||this._isTransitioning)return;fe.trigger(this._element,bn,{relatedTarget:t}).defaultPrevented||(this._isShown=!0,this._isTransitioning=!0,this._scrollBar.hide(),document.body.classList.add(kn),this._adjustDialog(),this._backdrop.show(()=>this._showElement(t)))}hide(){if(!this._isShown||this._isTransitioning)return;fe.trigger(this._element,_n).defaultPrevented||(this._isShown=!1,this._isTransitioning=!0,this._focustrap.deactivate(),this._element.classList.remove(An),this._queueCallback(()=>this._hideModal(),this._element,this._isAnimated()))}dispose(){fe.off(window,fn),fe.off(this._dialog,fn),this._backdrop.dispose(),this._focustrap.deactivate(),super.dispose()}handleUpdate(){this._adjustDialog()}_initializeBackDrop(){return new en({isVisible:Boolean(this._config.backdrop),isAnimated:this._isAnimated()})}_initializeFocusTrap(){return new cn({trapElement:this._element})}_showElement(t){document.body.contains(this._element)||document.body.append(this._element),this._element.style.display="block",this._element.removeAttribute("aria-hidden"),this._element.setAttribute("aria-modal",!0),this._element.setAttribute("role","dialog"),this._element.scrollTop=0;const e=xe.findOne(".modal-body",this._dialog);e&&(e.scrollTop=0),Ut(this._element),this._element.classList.add(An);this._queueCallback(()=>{this._config.focus&&this._focustrap.activate(),this._isTransitioning=!1,fe.trigger(this._element,yn,{relatedTarget:t})},this._dialog,this._isAnimated())}_addEventListeners(){fe.on(this._element,qn,t=>{"Escape"===t.key&&(this._config.keyboard?this.hide():this._triggerBackdropTransition())}),fe.on(window,wn,()=>{this._isShown&&!this._isTransitioning&&this._adjustDialog()}),fe.on(this._element,xn,t=>{fe.one(this._element,$n,e=>{this._element===t.target&&this._element===e.target&&("static"!==this._config.backdrop?this._config.backdrop&&this.hide():this._triggerBackdropTransition())})})}_hideModal(){this._element.style.display="none",this._element.setAttribute("aria-hidden",!0),this._element.removeAttribute("aria-modal"),this._element.removeAttribute("role"),this._isTransitioning=!1,this._backdrop.hide(()=>{document.body.classList.remove(kn),this._resetAdjustments(),this._scrollBar.reset(),fe.trigger(this._element,vn)})}_isAnimated(){return this._element.classList.contains("fade")}_triggerBackdropTransition(){if(fe.trigger(this._element,gn).defaultPrevented)return;const t=this._element.scrollHeight>document.documentElement.clientHeight,e=this._element.style.overflowY;"hidden"===e||this._element.classList.contains(Sn)||(t||(this._element.style.overflowY="hidden"),this._element.classList.add(Sn),this._queueCallback(()=>{this._element.classList.remove(Sn),this._queueCallback(()=>{this._element.style.overflowY=e},this._dialog)},this._dialog),this._element.focus())}_adjustDialog(){const t=this._element.scrollHeight>document.documentElement.clientHeight,e=this._scrollBar.getWidth(),i=e>0;if(i&&!t){const t=Qt()?"paddingLeft":"paddingRight";this._element.style[t]=`${e}px`}if(!i&&t){const t=Qt()?"paddingRight":"paddingLeft";this._element.style[t]=`${e}px`}}_resetAdjustments(){this._element.style.paddingLeft="",this._element.style.paddingRight=""}static jQueryInterface(t,e){return this.each(function(){const i=Tn.getOrCreateInstance(this,t);if("string"==typeof t){if(void 0===i[t])throw new TypeError(`No method named "${t}"`);i[t](e)}})}}fe.on(document,Cn,'[data-bs-toggle="modal"]',function(t){const e=xe.getElementFromSelector(this);["A","AREA"].includes(this.tagName)&&t.preventDefault(),fe.one(e,bn,t=>{t.defaultPrevented||fe.one(e,vn,()=>{Bt(this)&&this.focus()})});const i=xe.findOne(".modal.show");i&&Tn.getInstance(i).hide();Tn.getOrCreateInstance(e).toggle(this)}),qe(Tn),Xt(Tn);const Dn=".bs.offcanvas",Nn=".data-api",In=`load${Dn}${Nn}`,Pn="show",Ln="showing",Mn="hiding",jn=".offcanvas.show",zn=`show${Dn}`,Fn=`shown${Dn}`,Hn=`hide${Dn}`,Bn=`hidePrevented${Dn}`,Rn=`hidden${Dn}`,Wn=`resize${Dn}`,Vn=`click${Dn}${Nn}`,Un=`keydown.dismiss${Dn}`,Yn={backdrop:!0,keyboard:!0,scroll:!1},Jn={backdrop:"(boolean|string)",keyboard:"boolean",scroll:"boolean"};class Qn extends we{constructor(t,e){super(t,e),this._isShown=!1,this._backdrop=this._initializeBackDrop(),this._focustrap=this._initializeFocusTrap(),this._addEventListeners()}static get Default(){return Yn}static get DefaultType(){return Jn}static get NAME(){return"offcanvas"}toggle(t){return this._isShown?this.hide():this.show(t)}show(t){if(this._isShown)return;if(fe.trigger(this._element,zn,{relatedTarget:t}).defaultPrevented)return;this._isShown=!0,this._backdrop.show(),this._config.scroll||(new un).hide(),this._element.setAttribute("aria-modal",!0),this._element.setAttribute("role","dialog"),this._element.classList.add(Ln);this._queueCallback(()=>{this._config.scroll&&!this._config.backdrop||this._focustrap.activate(),this._element.classList.add(Pn),this._element.classList.remove(Ln),fe.trigger(this._element,Fn,{relatedTarget:t})},this._element,!0)}hide(){if(!this._isShown)return;if(fe.trigger(this._element,Hn).defaultPrevented)return;this._focustrap.deactivate(),this._element.blur(),this._isShown=!1,this._element.classList.add(Mn),this._backdrop.hide();this._queueCallback(()=>{this._element.classList.remove(Pn,Mn),this._element.removeAttribute("aria-modal"),this._element.removeAttribute("role"),this._config.scroll||(new un).reset(),fe.trigger(this._element,Rn)},this._element,!0)}dispose(){this._backdrop.dispose(),this._focustrap.deactivate(),super.dispose()}_initializeBackDrop(){const t=Boolean(this._config.backdrop);return new en({className:"offcanvas-backdrop",isVisible:t,isAnimated:!0,rootElement:this._element.parentNode,clickCallback:t?()=>{"static"!==this._config.backdrop?this.hide():fe.trigger(this._element,Bn)}:null})}_initializeFocusTrap(){return new cn({trapElement:this._element})}_addEventListeners(){fe.on(this._element,Un,t=>{"Escape"===t.key&&(this._config.keyboard?this.hide():fe.trigger(this._element,Bn))})}static jQueryInterface(t){return this.each(function(){const e=Qn.getOrCreateInstance(this,t);if("string"==typeof t){if(void 0===e[t]||t.startsWith("_")||"constructor"===t)throw new TypeError(`No method named "${t}"`);e[t](this)}})}}fe.on(document,Vn,'[data-bs-toggle="offcanvas"]',function(t){const e=xe.getElementFromSelector(this);if(["A","AREA"].includes(this.tagName)&&t.preventDefault(),Rt(this))return;fe.one(e,Rn,()=>{Bt(this)&&this.focus()});const i=xe.findOne(jn);i&&i!==e&&Qn.getInstance(i).hide();Qn.getOrCreateInstance(e).toggle(this)}),fe.on(window,In,()=>{for(const t of xe.find(jn))Qn.getOrCreateInstance(t).show()}),fe.on(window,Wn,()=>{for(const t of xe.find("[aria-modal][class*=show][class*=offcanvas-]"))"fixed"!==getComputedStyle(t).position&&Qn.getOrCreateInstance(t).hide()}),qe(Qn),Xt(Qn);const Xn={"*":["class","dir","id","lang","role",/^aria-[\w-]*$/i],a:["target","href","title","rel"],area:[],b:[],br:[],col:[],code:[],dd:[],div:[],dl:[],dt:[],em:[],hr:[],h1:[],h2:[],h3:[],h4:[],h5:[],h6:[],i:[],img:["src","srcset","alt","title","width","height"],li:[],ol:[],p:[],pre:[],s:[],small:[],span:[],sub:[],sup:[],strong:[],u:[],ul:[]},Kn=new Set(["background","cite","href","itemtype","longdesc","poster","src","xlink:href"]),Zn=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:/?#]*(?:[/?#]|$))/i,Gn=(t,e)=>{const i=t.nodeName.toLowerCase();return e.includes(i)?!Kn.has(i)||Boolean(Zn.test(t.nodeValue)):e.filter(t=>t instanceof RegExp).some(t=>t.test(i))};const ts={allowList:Xn,content:{},extraClass:"",html:!1,sanitize:!0,sanitizeFn:null,template:"<div></div>"},es={allowList:"object",content:"object",extraClass:"(string|function)",html:"boolean",sanitize:"boolean",sanitizeFn:"(null|function)",template:"string"},is={entry:"(string|element|function|null)",selector:"(string|element)"};class ns extends ye{constructor(t){super(),this._config=this._getConfig(t)}static get Default(){return ts}static get DefaultType(){return es}static get NAME(){return"TemplateFactory"}getContent(){return Object.values(this._config.content).map(t=>this._resolvePossibleFunction(t)).filter(Boolean)}hasContent(){return this.getContent().length>0}changeContent(t){return this._checkContent(t),this._config.content={...this._config.content,...t},this}toHtml(){const t=document.createElement("div");t.innerHTML=this._maybeSanitize(this._config.template);for(const[n,s]of Object.entries(this._config.content))this._setContent(t,s,n);const e=t.children[0],i=this._resolvePossibleFunction(this._config.extraClass);return i&&e.classList.add(...i.split(" ")),e}_typeCheckConfig(t){super._typeCheckConfig(t),this._checkContent(t.content)}_checkContent(t){for(const[e,i]of Object.entries(t))super._typeCheckConfig({selector:e,entry:i},is)}_setContent(t,e,i){const n=xe.findOne(i,t);n&&((e=this._resolvePossibleFunction(e))?Ft(e)?this._putElementInTemplate(Ht(e),n):this._config.html?n.innerHTML=this._maybeSanitize(e):n.textContent=e:n.remove())}_maybeSanitize(t){return this._config.sanitize?function(t,e,i){if(!t.length)return t;if(i&&"function"==typeof i)return i(t);const n=(new window.DOMParser).parseFromString(t,"text/html"),s=[].concat(...n.body.querySelectorAll("*"));for(const o of s){const t=o.nodeName.toLowerCase();if(!Object.keys(e).includes(t)){o.remove();continue}const i=[].concat(...o.attributes),n=[].concat(e["*"]||[],e[t]||[]);for(const e of i)Gn(e,n)||o.removeAttribute(e.nodeName)}return n.body.innerHTML}(t,this._config.allowList,this._config.sanitizeFn):t}_resolvePossibleFunction(t){return Kt(t,[void 0,this])}_putElementInTemplate(t,e){if(this._config.html)return e.innerHTML="",void e.append(t);e.textContent=t.textContent}}const ss=new Set(["sanitize","allowList","sanitizeFn"]),os="fade",as="show",rs=".tooltip-inner",ls=".modal",cs="hide.bs.modal",hs="hover",ds="focus",ms="click",ps={AUTO:"auto",TOP:"top",RIGHT:Qt()?"left":"right",BOTTOM:"bottom",LEFT:Qt()?"right":"left"},us={allowList:Xn,animation:!0,boundary:"clippingParents",container:!1,customClass:"",delay:0,fallbackPlacements:["top","right","bottom","left"],html:!1,offset:[0,6],placement:"top",popperConfig:null,sanitize:!0,sanitizeFn:null,selector:!1,template:'<div class="tooltip" role="tooltip"><div class="tooltip-arrow"></div><div class="tooltip-inner"></div></div>',title:"",trigger:"hover focus"},fs={allowList:"object",animation:"boolean",boundary:"(string|element)",container:"(string|element|boolean)",customClass:"(string|function)",delay:"(number|object)",fallbackPlacements:"array",html:"boolean",offset:"(array|string|function)",placement:"(string|function)",popperConfig:"(null|object|function)",sanitize:"boolean",sanitizeFn:"(null|function)",selector:"(string|boolean)",template:"string",title:"(string|element|function)",trigger:"string"};class _s extends we{constructor(t,e){if(void 0===Nt)throw new TypeError("Bootstrap's tooltips require Popper (https://popper.js.org/docs/v2/)");super(t,e),this._isEnabled=!0,this._timeout=0,this._isHovered=null,this._activeTrigger={},this._popper=null,this._templateFactory=null,this._newContent=null,this.tip=null,this._setListeners(),this._config.selector||this._fixTitle()}static get Default(){return us}static get DefaultType(){return fs}static get NAME(){return"tooltip"}enable(){this._isEnabled=!0}disable(){this._isEnabled=!1}toggleEnabled(){this._isEnabled=!this._isEnabled}toggle(){this._isEnabled&&(this._isShown()?this._leave():this._enter())}dispose(){clearTimeout(this._timeout),fe.off(this._element.closest(ls),cs,this._hideModalHandler),this._element.getAttribute("data-bs-original-title")&&this._element.setAttribute("title",this._element.getAttribute("data-bs-original-title")),this._disposePopper(),super.dispose()}show(){if("none"===this._element.style.display)throw new Error("Please use show on visible elements");if(!this._isWithContent()||!this._isEnabled)return;const t=fe.trigger(this._element,this.constructor.eventName("show")),e=(Wt(this._element)||this._element.ownerDocument.documentElement).contains(this._element);if(t.defaultPrevented||!e)return;this._disposePopper();const i=this._getTipElement();this._element.setAttribute("aria-describedby",i.getAttribute("id"));const{container:n}=this._config;if(this._element.ownerDocument.documentElement.contains(this.tip)||(n.append(i),fe.trigger(this._element,this.constructor.eventName("inserted"))),this._popper=this._createPopper(i),i.classList.add(as),"ontouchstart"in document.documentElement)for(const s of[].concat(...document.body.children))fe.on(s,"mouseover",Vt);this._queueCallback(()=>{fe.trigger(this._element,this.constructor.eventName("shown")),!1===this._isHovered&&this._leave(),this._isHovered=!1},this.tip,this._isAnimated())}hide(){if(!this._isShown())return;if(fe.trigger(this._element,this.constructor.eventName("hide")).defaultPrevented)return;if(this._getTipElement().classList.remove(as),"ontouchstart"in document.documentElement)for(const t of[].concat(...document.body.children))fe.off(t,"mouseover",Vt);this._activeTrigger[ms]=!1,this._activeTrigger[ds]=!1,this._activeTrigger[hs]=!1,this._isHovered=null;this._queueCallback(()=>{this._isWithActiveTrigger()||(this._isHovered||this._disposePopper(),this._element.removeAttribute("aria-describedby"),fe.trigger(this._element,this.constructor.eventName("hidden")))},this.tip,this._isAnimated())}update(){this._popper&&this._popper.update()}_isWithContent(){return Boolean(this._getTitle())}_getTipElement(){return this.tip||(this.tip=this._createTipElement(this._newContent||this._getContentForTemplate())),this.tip}_createTipElement(t){const e=this._getTemplateFactory(t).toHtml();if(!e)return null;e.classList.remove(os,as),e.classList.add(`bs-${this.constructor.NAME}-auto`);const i=(t=>{do{t+=Math.floor(1e6*Math.random())}while(document.getElementById(t));return t})(this.constructor.NAME).toString();return e.setAttribute("id",i),this._isAnimated()&&e.classList.add(os),e}setContent(t){this._newContent=t,this._isShown()&&(this._disposePopper(),this.show())}_getTemplateFactory(t){return this._templateFactory?this._templateFactory.changeContent(t):this._templateFactory=new ns({...this._config,content:t,extraClass:this._resolvePossibleFunction(this._config.customClass)}),this._templateFactory}_getContentForTemplate(){return{[rs]:this._getTitle()}}_getTitle(){return this._resolvePossibleFunction(this._config.title)||this._element.getAttribute("data-bs-original-title")}_initializeOnDelegatedTarget(t){return this.constructor.getOrCreateInstance(t.delegateTarget,this._getDelegateConfig())}_isAnimated(){return this._config.animation||this.tip&&this.tip.classList.contains(os)}_isShown(){return this.tip&&this.tip.classList.contains(as)}_createPopper(t){const e=Kt(this._config.placement,[this,t,this._element]),i=ps[e.toUpperCase()];return Dt(this._element,t,this._getPopperConfig(i))}_getOffset(){const{offset:t}=this._config;return"string"==typeof t?t.split(",").map(t=>Number.parseInt(t,10)):"function"==typeof t?e=>t(e,this._element):t}_resolvePossibleFunction(t){return Kt(t,[this._element,this._element])}_getPopperConfig(t){const e={placement:t,modifiers:[{name:"flip",options:{fallbackPlacements:this._config.fallbackPlacements}},{name:"offset",options:{offset:this._getOffset()}},{name:"preventOverflow",options:{boundary:this._config.boundary}},{name:"arrow",options:{element:`.${this.constructor.NAME}-arrow`}},{name:"preSetPlacement",enabled:!0,phase:"beforeMain",fn:t=>{this._getTipElement().setAttribute("data-popper-placement",t.state.placement)}}]};return{...e,...Kt(this._config.popperConfig,[void 0,e])}}_setListeners(){const t=this._config.trigger.split(" ");for(const e of t)if("click"===e)fe.on(this._element,this.constructor.eventName("click"),this._config.selector,t=>{const e=this._initializeOnDelegatedTarget(t);e._activeTrigger[ms]=!(e._isShown()&&e._activeTrigger[ms]),e.toggle()});else if("manual"!==e){const t=e===hs?this.constructor.eventName("mouseenter"):this.constructor.eventName("focusin"),i=e===hs?this.constructor.eventName("mouseleave"):this.constructor.eventName("focusout");fe.on(this._element,t,this._config.selector,t=>{const e=this._initializeOnDelegatedTarget(t);e._activeTrigger["focusin"===t.type?ds:hs]=!0,e._enter()}),fe.on(this._element,i,this._config.selector,t=>{const e=this._initializeOnDelegatedTarget(t);e._activeTrigger["focusout"===t.type?ds:hs]=e._element.contains(t.relatedTarget),e._leave()})}this._hideModalHandler=()=>{this._element&&this.hide()},fe.on(this._element.closest(ls),cs,this._hideModalHandler)}_fixTitle(){const t=this._element.getAttribute("title");t&&(this._element.getAttribute("aria-label")||this._element.textContent.trim()||this._element.setAttribute("aria-label",t),this._element.setAttribute("data-bs-original-title",t),this._element.removeAttribute("title"))}_enter(){this._isShown()||this._isHovered?this._isHovered=!0:(this._isHovered=!0,this._setTimeout(()=>{this._isHovered&&this.show()},this._config.delay.show))}_leave(){this._isWithActiveTrigger()||(this._isHovered=!1,this._setTimeout(()=>{this._isHovered||this.hide()},this._config.delay.hide))}_setTimeout(t,e){clearTimeout(this._timeout),this._timeout=setTimeout(t,e)}_isWithActiveTrigger(){return Object.values(this._activeTrigger).includes(!0)}_getConfig(t){const e=be.getDataAttributes(this._element);for(const i of Object.keys(e))ss.has(i)&&delete e[i];return t={...e,..."object"==typeof t&&t?t:{}},t=this._mergeConfigObj(t),t=this._configAfterMerge(t),this._typeCheckConfig(t),t}_configAfterMerge(t){return t.container=!1===t.container?document.body:Ht(t.container),"number"==typeof t.delay&&(t.delay={show:t.delay,hide:t.delay}),"number"==typeof t.title&&(t.title=t.title.toString()),"number"==typeof t.content&&(t.content=t.content.toString()),t}_getDelegateConfig(){const t={};for(const[e,i]of Object.entries(this._config))this.constructor.Default[e]!==i&&(t[e]=i);return t.selector=!1,t.trigger="manual",t}_disposePopper(){this._popper&&(this._popper.destroy(),this._popper=null),this.tip&&(this.tip.remove(),this.tip=null)}static jQueryInterface(t){return this.each(function(){const e=_s.getOrCreateInstance(this,t);if("string"==typeof t){if(void 0===e[t])throw new TypeError(`No method named "${t}"`);e[t]()}})}}Xt(_s);const gs=".popover-header",vs=".popover-body",bs={..._s.Default,content:"",offset:[0,8],placement:"right",template:'<div class="popover" role="tooltip"><div class="popover-arrow"></div><h3 class="popover-header"></h3><div class="popover-body"></div></div>',trigger:"click"},ys={..._s.DefaultType,content:"(null|string|element|function)"};class ws extends _s{static get Default(){return bs}static get DefaultType(){return ys}static get NAME(){return"popover"}_isWithContent(){return this._getTitle()||this._getContent()}_getContentForTemplate(){return{[gs]:this._getTitle(),[vs]:this._getContent()}}_getContent(){return this._resolvePossibleFunction(this._config.content)}static jQueryInterface(t){return this.each(function(){const e=ws.getOrCreateInstance(this,t);if("string"==typeof t){if(void 0===e[t])throw new TypeError(`No method named "${t}"`);e[t]()}})}}Xt(ws);const $s=".bs.scrollspy",xs=`activate${$s}`,qs=`click${$s}`,Cs=`load${$s}.data-api`,ks="active",As="[href]",Ss=".nav-link",Es=`${Ss}, .nav-item > ${Ss}, .list-group-item`,Os={offset:null,rootMargin:"0px 0px -25%",smoothScroll:!1,target:null,threshold:[.1,.5,1]},Ts={offset:"(number|null)",rootMargin:"string",smoothScroll:"boolean",target:"element",threshold:"array"};class Ds extends we{constructor(t,e){super(t,e),this._targetLinks=new Map,this._observableSections=new Map,this._rootElement="visible"===getComputedStyle(this._element).overflowY?null:this._element,this._activeTarget=null,this._observer=null,this._previousScrollData={visibleEntryTop:0,parentScrollTop:0},this.refresh()}static get Default(){return Os}static get DefaultType(){return Ts}static get NAME(){return"scrollspy"}refresh(){this._initializeTargetsAndObservables(),this._maybeEnableSmoothScroll(),this._observer?this._observer.disconnect():this._observer=this._getNewObserver();for(const t of this._observableSections.values())this._observer.observe(t)}dispose(){this._observer.disconnect(),super.dispose()}_configAfterMerge(t){return t.target=Ht(t.target)||document.body,t.rootMargin=t.offset?`${t.offset}px 0px -30%`:t.rootMargin,"string"==typeof t.threshold&&(t.threshold=t.threshold.split(",").map(t=>Number.parseFloat(t))),t}_maybeEnableSmoothScroll(){this._config.smoothScroll&&(fe.off(this._config.target,qs),fe.on(this._config.target,qs,As,t=>{const e=this._observableSections.get(t.target.hash);if(e){t.preventDefault();const i=this._rootElement||window,n=e.offsetTop-this._element.offsetTop;if(i.scrollTo)return void i.scrollTo({top:n,behavior:"smooth"});i.scrollTop=n}}))}_getNewObserver(){const t={root:this._rootElement,threshold:this._config.threshold,rootMargin:this._config.rootMargin};return new IntersectionObserver(t=>this._observerCallback(t),t)}_observerCallback(t){const e=t=>this._targetLinks.get(`#${t.target.id}`),i=t=>{this._previousScrollData.visibleEntryTop=t.target.offsetTop,this._process(e(t))},n=(this._rootElement||document.documentElement).scrollTop,s=n>=this._previousScrollData.parentScrollTop;this._previousScrollData.parentScrollTop=n;for(const o of t){if(!o.isIntersecting){this._activeTarget=null,this._clearActiveClass(e(o));continue}const t=o.target.offsetTop>=this._previousScrollData.visibleEntryTop;if(s&&t){if(i(o),!n)return}else s||t||i(o)}}_initializeTargetsAndObservables(){this._targetLinks=new Map,this._observableSections=new Map;const t=xe.find(As,this._config.target);for(const e of t){if(!e.hash||Rt(e))continue;const t=xe.findOne(decodeURI(e.hash),this._element);Bt(t)&&(this._targetLinks.set(decodeURI(e.hash),e),this._observableSections.set(e.hash,t))}}_process(t){this._activeTarget!==t&&(this._clearActiveClass(this._config.target),this._activeTarget=t,t.classList.add(ks),this._activateParents(t),fe.trigger(this._element,xs,{relatedTarget:t}))}_activateParents(t){if(t.classList.contains("dropdown-item"))xe.findOne(".dropdown-toggle",t.closest(".dropdown")).classList.add(ks);else for(const e of xe.parents(t,".nav, .list-group"))for(const t of xe.prev(e,Es))t.classList.add(ks)}_clearActiveClass(t){t.classList.remove(ks);const e=xe.find(`${As}.${ks}`,t);for(const i of e)i.classList.remove(ks)}static jQueryInterface(t){return this.each(function(){const e=Ds.getOrCreateInstance(this,t);if("string"==typeof t){if(void 0===e[t]||t.startsWith("_")||"constructor"===t)throw new TypeError(`No method named "${t}"`);e[t]()}})}}fe.on(window,Cs,()=>{for(const t of xe.find('[data-bs-spy="scroll"]'))Ds.getOrCreateInstance(t)}),Xt(Ds);const Ns=".bs.tab",Is=`hide${Ns}`,Ps=`hidden${Ns}`,Ls=`show${Ns}`,Ms=`shown${Ns}`,js=`click${Ns}`,zs=`keydown${Ns}`,Fs=`load${Ns}`,Hs="ArrowLeft",Bs="ArrowRight",Rs="ArrowUp",Ws="ArrowDown",Vs="Home",Us="End",Ys="active",Js="fade",Qs="show",Xs=".dropdown-toggle",Ks=`:not(${Xs})`,Zs='[data-bs-toggle="tab"], [data-bs-toggle="pill"], [data-bs-toggle="list"]',Gs=`${`.nav-link${Ks}, .list-group-item${Ks}, [role="tab"]${Ks}`}, ${Zs}`,to=`.${Ys}[data-bs-toggle="tab"], .${Ys}[data-bs-toggle="pill"], .${Ys}[data-bs-toggle="list"]`;class eo extends we{constructor(t){super(t),this._parent=this._element.closest('.list-group, .nav, [role="tablist"]'),this._parent&&(this._setInitialAttributes(this._parent,this._getChildren()),fe.on(this._element,zs,t=>this._keydown(t)))}static get NAME(){return"tab"}show(){const t=this._element;if(this._elemIsActive(t))return;const e=this._getActiveElem(),i=e?fe.trigger(e,Is,{relatedTarget:t}):null;fe.trigger(t,Ls,{relatedTarget:e}).defaultPrevented||i&&i.defaultPrevented||(this._deactivate(e,t),this._activate(t,e))}_activate(t,e){if(!t)return;t.classList.add(Ys),this._activate(xe.getElementFromSelector(t));this._queueCallback(()=>{"tab"===t.getAttribute("role")?(t.removeAttribute("tabindex"),t.setAttribute("aria-selected",!0),this._toggleDropDown(t,!0),fe.trigger(t,Ms,{relatedTarget:e})):t.classList.add(Qs)},t,t.classList.contains(Js))}_deactivate(t,e){if(!t)return;t.classList.remove(Ys),t.blur(),this._deactivate(xe.getElementFromSelector(t));this._queueCallback(()=>{"tab"===t.getAttribute("role")?(t.setAttribute("aria-selected",!1),t.setAttribute("tabindex","-1"),this._toggleDropDown(t,!1),fe.trigger(t,Ps,{relatedTarget:e})):t.classList.remove(Qs)},t,t.classList.contains(Js))}_keydown(t){if(![Hs,Bs,Rs,Ws,Vs,Us].includes(t.key))return;t.stopPropagation(),t.preventDefault();const e=this._getChildren().filter(t=>!Rt(t));let i;if([Vs,Us].includes(t.key))i=e[t.key===Vs?0:e.length-1];else{const n=[Bs,Ws].includes(t.key);i=Gt(e,t.target,n,!0)}i&&(i.focus({preventScroll:!0}),eo.getOrCreateInstance(i).show())}_getChildren(){return xe.find(Gs,this._parent)}_getActiveElem(){return this._getChildren().find(t=>this._elemIsActive(t))||null}_setInitialAttributes(t,e){this._setAttributeIfNotExists(t,"role","tablist");for(const i of e)this._setInitialAttributesOnChild(i)}_setInitialAttributesOnChild(t){t=this._getInnerElement(t);const e=this._elemIsActive(t),i=this._getOuterElement(t);t.setAttribute("aria-selected",e),i!==t&&this._setAttributeIfNotExists(i,"role","presentation"),e||t.setAttribute("tabindex","-1"),this._setAttributeIfNotExists(t,"role","tab"),this._setInitialAttributesOnTargetPanel(t)}_setInitialAttributesOnTargetPanel(t){const e=xe.getElementFromSelector(t);e&&(this._setAttributeIfNotExists(e,"role","tabpanel"),t.id&&this._setAttributeIfNotExists(e,"aria-labelledby",`${t.id}`))}_toggleDropDown(t,e){const i=this._getOuterElement(t);if(!i.classList.contains("dropdown"))return;const n=(t,n)=>{const s=xe.findOne(t,i);s&&s.classList.toggle(n,e)};n(Xs,Ys),n(".dropdown-menu",Qs),i.setAttribute("aria-expanded",e)}_setAttributeIfNotExists(t,e,i){t.hasAttribute(e)||t.setAttribute(e,i)}_elemIsActive(t){return t.classList.contains(Ys)}_getInnerElement(t){return t.matches(Gs)?t:xe.findOne(Gs,t)}_getOuterElement(t){return t.closest(".nav-item, .list-group-item")||t}static jQueryInterface(t){return this.each(function(){const e=eo.getOrCreateInstance(this);if("string"==typeof t){if(void 0===e[t]||t.startsWith("_")||"constructor"===t)throw new TypeError(`No method named "${t}"`);e[t]()}})}}fe.on(document,js,Zs,function(t){["A","AREA"].includes(this.tagName)&&t.preventDefault(),Rt(this)||eo.getOrCreateInstance(this).show()}),fe.on(window,Fs,()=>{for(const t of xe.find(to))eo.getOrCreateInstance(t)}),Xt(eo);const io=".bs.toast",no=`mouseover${io}`,so=`mouseout${io}`,oo=`focusin${io}`,ao=`focusout${io}`,ro=`hide${io}`,lo=`hidden${io}`,co=`show${io}`,ho=`shown${io}`,mo="hide",po="show",uo="showing",fo={animation:"boolean",autohide:"boolean",delay:"number"},_o={animation:!0,autohide:!0,delay:5e3};class go extends we{constructor(t,e){super(t,e),this._timeout=null,this._hasMouseInteraction=!1,this._hasKeyboardInteraction=!1,this._setListeners()}static get Default(){return _o}static get DefaultType(){return fo}static get NAME(){return"toast"}show(){if(fe.trigger(this._element,co).defaultPrevented)return;this._clearTimeout(),this._config.animation&&this._element.classList.add("fade");this._element.classList.remove(mo),Ut(this._element),this._element.classList.add(po,uo),this._queueCallback(()=>{this._element.classList.remove(uo),fe.trigger(this._element,ho),this._maybeScheduleHide()},this._element,this._config.animation)}hide(){if(!this.isShown())return;if(fe.trigger(this._element,ro).defaultPrevented)return;this._element.classList.add(uo),this._queueCallback(()=>{this._element.classList.add(mo),this._element.classList.remove(uo,po),fe.trigger(this._element,lo)},this._element,this._config.animation)}dispose(){this._clearTimeout(),this.isShown()&&this._element.classList.remove(po),super.dispose()}isShown(){return this._element.classList.contains(po)}_maybeScheduleHide(){this._config.autohide&&(this._hasMouseInteraction||this._hasKeyboardInteraction||(this._timeout=setTimeout(()=>{this.hide()},this._config.delay)))}_onInteraction(t,e){switch(t.type){case"mouseover":case"mouseout":this._hasMouseInteraction=e;break;case"focusin":case"focusout":this._hasKeyboardInteraction=e}if(e)return void this._clearTimeout();const i=t.relatedTarget;this._element===i||this._element.contains(i)||this._maybeScheduleHide()}_setListeners(){fe.on(this._element,no,t=>this._onInteraction(t,!0)),fe.on(this._element,so,t=>this._onInteraction(t,!1)),fe.on(this._element,oo,t=>this._onInteraction(t,!0)),fe.on(this._element,ao,t=>this._onInteraction(t,!1))}_clearTimeout(){clearTimeout(this._timeout),this._timeout=null}static jQueryInterface(t){return this.each(function(){const e=go.getOrCreateInstance(this,t);if("string"==typeof t){if(void 0===e[t])throw new TypeError(`No method named "${t}"`);e[t](this)}})}}qe(go),Xt(go);const vo=Object.freeze(Object.defineProperty({__proto__:null,Alert:Se,Button:Oe,Carousel:hi,Collapse:qi,Dropdown:Qi,Modal:Tn,Offcanvas:Qn,Popover:ws,ScrollSpy:Ds,Tab:eo,Toast:go,Tooltip:_s},Symbol.toStringTag,{value:"Module"}));function bo(t){const e=new TextDecoder("utf-8").decode(t);return JSON.parse(e)}function yo(t,e){try{e(bo(pako.inflate(t)),null)}catch(i){console.error("Decompression with pako failed:",i),e(null,i)}}window.decompressPlotData=function(t,e){const i=atob(t),n=Uint8Array.from(i,t=>t.codePointAt(0));"DecompressionStream"in window?function(t,e){const i=new DecompressionStream("gzip"),n=new Response(t.buffer).body.pipeThrough(i);new Response(n).arrayBuffer().then(t=>{const i=new Uint8Array(t);e(bo(i),null)}).catch(i=>(console.error("Decompression with DecompressionStream failed:",i),yo(t,e)))}(n,e):yo(n,e)},window.callAfterDecompressed=[],window.notEmptyObj=function(t){try{if(void 0===t)return!1;if(0===t.length)return!1}catch(e){return!1}return!0},$(function(){$('[data-toggle="tooltip"]').tooltip(),$("#side-nav-handle").click(function(t){$(".mainpage, .side-nav, .footer").toggleClass("hidden-nav"),$("#side-nav-handle span").toggleClass("glyphicon-triangle-left glyphicon-triangle-right"),setTimeout(function(){$(document).resize()},510)});try{"true"!==localStorage.getItem("mqc_hide_welcome")&&($("#mqc_header_hr").show(),$("#mqc_welcome").show()),$("#mqc_hide_welcome_btn").click(function(t){localStorage.setItem("mqc_hide_welcome","true")})}catch(t){console.log("Could not access localStorage: "+t+"\nPlease disable 'Block third-party cookies and site data' or browser equivalent.")}$("#mqc_hide_welcome_btn, #mqc_welcome .close").click(function(t){$("#mqc_header_hr").show()}),$(".module-doi").click(function(t){t.preventDefault();let e=$(this);if(!e.data("bs.popover")){e.hasClass("no-doi-details")&&window.open(e.attr("href"),"_blank");var i=$(this).data("doi");$.get("https://api.crossref.org/works/"+i,function(t){var n=t.message.title[0],s=t.message["short-container-title"][0],o=t.message.published["date-parts"][0][0],a=[];$.each(t.message.author,function(t,e){a.push(e.given)});var r="<p><em>"+s+"</em> ("+o+")</p>";r+="<p class='small'>"+a.join(", ")+"</p>",r+='<p><a href="https://doi.org/'+i+'" class="btn btn-primary" target="_blank">View paper</a></p>',e.popover({title:n,content:r,html:!0,trigger:"focus",placement:"auto left"}),e.popover("show")}).fail(function(){e.addClass("no-doi-details"),window.open(e.attr("href"),"_blank")})}})}),$(function(){function t(t){let e=$(t).closest(".mqc_mplplot_plotgroup"),i=e.data("plot-anchor"),n=e.find(".dataset-switch-group button.active");void 0!==n&&n.length>0&&(i=n.data("datasetUid"));let s=e.find(".percent-switch"),o=e.find(".log10-switch");if(s.length>0||o.length>0){let t=s.length>0&&s.hasClass("active"),e=o.length>0&&o.hasClass("active");t&&(i+="-pct"),e&&(i+="-log"),t||e||(i+="-cnt")}e.find(".mqc_mplplot").hide(),$("#"+i).show()}$(".mpl_switch_group.percent-switch,.mpl_switch_group.log10-switch").click(function(e){e.preventDefault(),$(this).toggleClass("active"),t(this)}),$(".mpl_switch_group.dataset-switch-group button").click(function(e){e.preventDefault(),$(this).hasClass("active")||($(this).siblings("button.active").removeClass("active"),$(this).addClass("active"),t(this))})}),window.mqc_plots={},window.mqc_highlight_f_texts=[],window.mqc_highlight_f_cols=[],window.mqc_highlight_regex_mode=!1,window.mqc_rename_f_texts=[],window.mqc_rename_t_texts=[],window.mqc_hide_mode="hide",window.mqc_hide_f_texts=[],window.mqc_hide_regex_mode=!1;let wo;window.Plot=class{constructor(t){this.anchor=t.anchor,this.layout=t.layout,this.datasets=t.datasets,this.pctAxisUpdate=t.pct_axis_update,this.axisControlledBySwitches=t.axis_controlled_by_switches,this.square=t.square,this.rendered=!1,this.activeDatasetIdx=0,this.lActive=t.l_active,this.pActive=t.p_active,this.deferRender=t.defer_render,this.plotType=t.plot_type,this.pconfig=t.pconfig}activeDatasetSize(){throw new Error("activeDatasetSize() not implemented")}resize(t,e){null!=t?(this.layout.height=t,this.layout.autosize=!0,null!=e?(this.layout.width=e,this.layout.autosize=!1):this.square?this.layout.width=t:this.layout.width=null,Plotly.relayout(this.anchor,this.layout)):console.error("Plot.resize: newHeight is "+t)}buildTraces(){throw new Error("buildTraces() not implemented")}afterPlotCreated(){}plotAiHeader(t){return"Plot type: "+this.plotType+"\n"}formatDatasetForAiPrompt(t){return""}formatForAiPrompt(t){let e=this.plotAiHeader(t)+"\n\n";if(1===this.datasets.length)return e+this.formatDatasetForAiPrompt(this.datasets[0]);for(let i of this.datasets){let t=this.formatDatasetForAiPrompt(i);t&&(e+="### "+i.label+"\n",e+="\n",e+=t,e+="\n\n")}return e}recalculateTicks(t,e,i){let n=t.filter(t=>t.highlight),s=this.firstHighlightedSample(t);if(0===n.length)e.tickmode=null,e.tickvals=null,e.ticktext=null;else{e.tickmode="array";let n=function(t,e,i=0,n=!0){if(t.length<=e)return t;if(t.length<=1)return t;if(0===e)return[];if(1===e)return[t[i]];let s=(t.length-1)/(e-1);n&&(s=Math.ceil(s));let o=Array.from({length:t.length},(t,e)=>e),a=o.slice(i),r=o.slice(0,i+1);return a=Array.from({length:a.length},(t,e)=>Math.ceil(s*e)).filter(t=>t<a.length).map(t=>a[t]),r.reverse(),r=Array.from({length:r.length},(t,e)=>Math.ceil(s*e)).filter(t=>t<r.length).map(t=>r[t]),r.reverse(),r=r.slice(0,r.length-1),o=r.concat(a),o.map(e=>t[e])}(t,i,s);e.tickvals=n.map(t=>t.name),e.ticktext=n.map(t=>"<span style='color:"+(t.highlight??"#ccc")+"'>"+t.name+"</span>")}}firstHighlightedSample(t){let e=0;return t.filter(t=>t.highlight).length>0&&(e=t.findIndex(t=>t.highlight)),e}},$(function(){wo=$(".mqc_loading_warning").show()}),window.callAfterDecompressed.push(function(t){window.mqc_plots=Object.fromEntries(Object.values(t).map(t=>{return[t.anchor,(e=t,"bar plot"===e.plot_type?new BarPlot(e):"x/y line"===e.plot_type?new LinePlot(e):"box plot"===e.plot_type?new BoxPlot(e):"scatter plot"===e.plot_type?new ScatterPlot(e):"violin plot"===e.plot_type?new ViolinPlot(e):"heatmap"===e.plot_type?new HeatmapPlot(e):(console.log("Did not recognise plot type: "+e.plot_type),null))];var e}));let e=$(".hc-plot.not_loaded:visible");e.each(function(){let t=$(this).attr("id"),e=mqc_plots[t];setTimeout(function(){e.deferRender?$("#"+t).removeClass("not_loaded").html('<button class="btn btn-default btn-lg render_plot">Show plot</button>'):xo(t),0===$(".hc-plot.not_loaded:visible").length&&$(".mqc_loading_warning").hide()},50)}),0===e.length&&wo.hide(),$("body").on("click",".render_plot",function(t){xo($(this).parent().attr("id"))}),$("#mqc-render-all-plots").click(function(){$(".hc-plot").each(function(){xo($(this).attr("id"))}),$(this).parent().hide()}),$(document).on("mqc_highlights mqc_renamesamples mqc_hidesamples",function(){$(".hc-plot:not(.not_rendered)").each(function(){xo($(this).attr("id"))})}),$("button.interactive-switch-group.percent-switch").click(function(t){t.preventDefault();let e=$(this).data("plot-anchor");mqc_plots[e].pActive=!$(this).hasClass("active"),$(this).toggleClass("active"),mqc_plots[e].rendered&&xo(e)}),$("button.interactive-switch-group.log10-switch").click(function(t){t.preventDefault();let e=$(this).data("plot-anchor");mqc_plots[e].lActive=!$(this).hasClass("active"),$(this).toggleClass("active"),mqc_plots[e].rendered&&xo(e)}),$(".interactive-switch-group.dataset-switch-group button").click(function(t){t.preventDefault();let e=$(this);if(e.hasClass("active"))return;e.siblings("button.active").removeClass("active"),e.addClass("active");let i=e.data("plot-anchor"),n=mqc_plots[i].activeDatasetIdx,s=e.data("datasetIndex");mqc_plots[i].activeDatasetIdx=s,n!==s&&mqc_plots[i].rendered&&xo(i)}),$(".hc-plot:not(.no-handle)").each(function(){let t=$(this);t.parent().hasClass("hc-plot-wrapper")||t.wrap('<div class="hc-plot-wrapper"></div>'),t.siblings().hasClass("hc-plot-handle")||t.after('<div class="hc-plot-handle"><span></span><span></span><span></span></div>'),t.css({height:"auto",top:0,bottom:"6px",position:"absolute"})}),$(".hc-plot-handle").on("mousedown",function(t){let e=$(this).parent(),i=e.children(".hc-plot")[0].id,n=e.height(),s=t.pageY,o=$(document);o.on("mouseup",function(){o.off("mousemove"),o.off("mouseup"),$(e.parent().find(".hc-plot, .beeswarm-plot")).trigger("mqc_plotresize")}),$(document).on("mousemove",function(t){let o=n+(t.pageY-s)+2;e.css("height",o),void 0!==mqc_plots[i]&&mqc_plots[i].resize(o-7)})})});class $o{constructor(t){this.originalName=t,this.name=t,this.highlight=null,this.hidden=!1,this.pseudonym=function(t){if(!getStoredSampleAnonymizationEnabled())return;if(!aiPseudonymMap)return;if(aiPseudonymMap[t])return aiPseudonymMap[t];let e=Object.keys(aiPseudonymMap).sort((t,e)=>e.length-t.length),i=t;for(let n of e)console.log("result is",i),void 0===i&&console.log("result is undefined"),i.includes(n)&&(console.log("result includes original",i,n),i=i.replace(n,aiPseudonymMap[n]),console.log("after replacement: result is",i));return i}(t)}}function xo(t){let e=mqc_plots[t];if(void 0===e)return!1;if(0===e.datasets.length)return!1;let i,n=$("#"+t);e.rendered?i=Plotly.react:(i=Plotly.newPlot,e.rendered=!0,n.removeClass("not_rendered").removeClass("not_loaded").parent().find(".render_plot").remove(),0===$(".hc-plot.not_rendered").length&&$("#mqc-warning-many-samples").hide());let s=e.datasets[e.activeDatasetIdx];qo(e.layout,s.layout,!1),e.axisControlledBySwitches.map(t=>{e.layout[t].type="linear";let i=e.layout[t].autorangeoptions.minallowed,n=e.layout[t].autorangeoptions.maxallowed;e.pActive&&(qo(e.layout[t],e.pctAxisUpdate,!1),i=s.pct_range[t].min,n=s.pct_range[t].max),e.lActive&&(e.layout[t].type="log",i=i&&i>0?Math.log10(i):null,n=i&&n>0?Math.log10(n):null),e.layout[t].autorangeoptions.minallowed=i,e.layout[t].autorangeoptions.maxallowed=n});let o=e.buildTraces();o.length>0&&o[0].constructor===Array&&(o=[].concat.apply([],o)),0!==o.length?(n.show(),i(t,o,e.layout,{responsive:!0,displaylogo:!1,displayModeBar:!0,toImageButtonOptions:{filename:t},modeBarButtonsToRemove:["lasso2d","autoScale2d","pan2d","select2d","zoom2d","zoomIn2d","zoomOut2d","resetScale2d","toImage"]}),e.afterPlotCreated()):n.hide()}function qo(t,e,i=!1){for(const n in e)Array.isArray(e[n])?i&&void 0!==t[n]&&null!==t[n]||(t[n]=[...e[n]]):"object"==typeof e[n]?(t[n]&&"object"==typeof t[n]||(t[n]={}),qo(t[n],e[n],i)):i&&void 0!==t[n]&&null!==t[n]||(t[n]=e[n])}function Co(t){let e=t.attr("id"),i=e.replace("_config_modal_table",""),n=[];$("#"+e+" tbody tr").each(function(){n.push($(this).attr("class"))}),$("#"+i+" tr").each(function(){let t={},e=$(this);e.find("td, th").each(function(){let e=$(this);$.each(n,function(i,n){e.hasClass(n)&&(t[n]=e.detach())})});for(let i in n){let s=n[i];void 0!==t[s]&&e.append(t[s])}})}window.applyToolboxSettings=function(t,e){let i=t.map(t=>new $o(t));if(window.mqc_rename_f_texts.length>0&&i.map(t=>{for(let e=0;e<window.mqc_rename_f_texts.length;e++){let i=window.mqc_rename_f_texts[e],n=window.mqc_rename_t_texts[e];t.name=t.name.replace(i,n)}}),window.mqc_highlight_f_texts.length>0&&i.map(t=>{for(let e=0;e<window.mqc_highlight_f_texts.length;e++){const i=window.mqc_highlight_f_texts[e],n=window.mqc_highlight_f_cols[e];let s=!1;window.mqc_highlight_regex_mode?t.name.match(i)&&(s=!0):t.name.indexOf(i)>-1&&(s=!0),s&&(t.highlight=n)}}),window.mqc_hide_f_texts.length>0){let t=$("#"+e).closest(".mqc_hcplot_plotgroup");t.parent().find(".samples-hidden-warning").remove(),t.show(),i.map(t=>{let e=!1;for(let i=0;i<window.mqc_hide_f_texts.length;i++){const n=window.mqc_hide_f_texts[i];window.mqc_hide_regex_mode?t.name.match(n)&&(e=!0):t.name.indexOf(n)>-1&&(e=!0)}"show"===window.mqc_hide_mode&&(e=!e),e&&(t.hidden=!0)});let n=i.filter(t=>t.hidden).length;if(n>0){const e='<div class="samples-hidden-warning alert alert-warning"><span class="glyphicon glyphicon-info-sign"></span><strong>Warning:</strong> '+n+' samples hidden. <a href="#mqc_hidesamples" class="alert-link" onclick="mqc_toolbox_openclose(\'#mqc_hidesamples\', true); return false;">See toolbox.</a></div>';t.before(e)}if(n===i.length)return t.hide(),i}return i},window.renderPlot=xo,window.updateObject=qo,$(function(){if($(".mqc_per_sample_table").length>0){let t=function(t){let e=$(t).data("sorting-val");if(null!=e){if(""===e)return e;let t=parseFloat(e);return isNaN(t),e}const i=t.innerText;return i.length>0&&i[0].match(/\d/)?i.replace(/[^\d.]/g,""):i};$(".mqc_per_sample_table").tablesorter({sortInitialOrder:"desc",textExtraction:t,cancelSelection:!1,headers:null}),$(document).on("mqc_renamesamples",function(t,e,i,n){$(".mqc_per_sample_table").trigger("update")}),$(".mqc-table-to-violin").click(function(t){t.preventDefault();let e=$(this).data("table-anchor"),i=$(this).data("violin-anchor");$("#mqc_violintable_wrapper_"+e).hide(),$("#mqc_violintable_wrapper_"+i).show(),renderPlot(i)}),$(".mqc-violin-to-table").click(function(t){t.preventDefault();let e=$(this).data("table-anchor"),i=$(this).data("violin-anchor");$("#mqc_violintable_wrapper_"+e).show(),$("#mqc_violintable_wrapper_"+i).hide()}),$(".mqc_table_copy_btn").click(function(){let t=$(this),e=$(t.data("clipboard-target"))[0];const i=document.createRange();i.selectNode(e),window.getSelection().removeAllRanges(),window.getSelection().addRange(i);try{document.execCommand("copy"),window.getSelection().removeAllRanges(),t.addClass("active").html('<span class="glyphicon glyphicon-copy"></span> Copied!'),setTimeout(()=>{t.removeClass("active").html('<span class="glyphicon glyphicon-copy"></span> Copied!')},2e3)}catch(n){console.error("Failed to copy table: ",n)}}),$(".mqc-table-responsive").scroll(function(){$(this).find("thead").css("transform","translate(0,"+$(this).scrollTop()+"px)")}),$(".mqc_table_tooltip").tooltip({container:"body"}),$(".mqc-table-expand").click(function(){$(this).find("span").hasClass("glyphicon-chevron-down")?($(this).parent().find(".mqc-table-responsive").css("max-height","none"),$(this).find("span").removeClass("glyphicon-chevron-down").addClass("glyphicon-chevron-up")):($(this).parent().find(".mqc-table-responsive").css("max-height","400px"),$(this).find("span").removeClass("glyphicon-chevron-down").addClass("glyphicon-chevron-down"))}),$(document).on("mqc_highlights",function(t,e,i,n){$(".mqc_table_sortHighlight").hide(),$(".mqc_per_sample_table tbody th").removeClass("highlighted").removeData("highlight"),$(".mqc_per_sample_table tbody th").each(function(t){let s=$(this),o=$(this).text(),a="#333";$.each(e,function(t,e){(n&&o.match(e)||!n&&o.indexOf(e)>-1)&&(a=i[t]??"#cccccc",s.addClass("highlighted").data("highlight",t),$(".mqc_table_sortHighlight").show())}),$(this).css("color",a)})}),$(".mqc_table_sortHighlight").click(function(t){t.preventDefault();let e=$(this).data("table-anchor"),i=$("#"+e+" tbody th.highlighted").parent().detach();i=i.sort(function(t,e){return $(t).find("th").data("highlight")-$(e).find("th").data("highlight")}),"desc"===$(this).data("direction")?(i=i.get().reverse(),$("#"+e+" tbody").prepend(i),$(this).data("direction","asc")):($("#"+e+" tbody").append(i),$(this).data("direction","desc"))}),$(document).on("mqc_renamesamples",function(t,e,i,n){$(".mqc_per_sample_table tbody th span.th-sample-name").each(function(){let t=String($(this).data("original-sn"));$.each(e,function(e,s){if(n){let n=new RegExp(s,"g");t=t.replace(n,i[e])}else t=t.replace(s,i[e])}),$(this).text(t)})}),$(document).on("mqc_hidesamples",function(t,e,i){$(".mqc_per_sample_table tbody tr").each(function(){let t=$(this),n=t.find("th"),s=!1,o=n.find(".th-sample-name").text(),a=t.data("sample-group");$.each(e,function(t,e){i?(o.match(e)||a.match(e))&&(s=!0):(o.indexOf(e)>-1||a.indexOf(e)>-1)&&(s=!0)}),"show"===window.mqc_hide_mode&&(s=!s),s?t.addClass("sample-hidden"):t.removeClass("sample-hidden")}),$(".mqc_table_numrows").each(function(){let t=$(this).attr("id").replace("_numrows","");$(this).text($("#"+t+" tbody tr:visible").length)}),$(".mqc_per_sample_table").each(function(){let t=$(this),e=0;t.find("thead th").each(function(){let i=$(this);if(0===e)return e+=1,!0;let n=0,s=0;t.find("tbody tr td:nth-child("+(e+2)+")").filter(":visible").each(function(){let t=$(this);n+=1,""===t.text()&&(s+=1)}),n>0&&n===s&&(i.addClass("column-hidden"),t.find("tbody tr td:nth-child("+(e+2)+")").addClass("column-hidden")),e+=1})}),$(".mqc_table_numcols").each(function(){let t=$(this).attr("id").replace("_numcols","");$(this).text($("#"+t+" thead th:visible").length-1)})}),$(".expandable-row-primary").click(function(t){if(t.preventDefault(),window.getSelection().toString().length>0)return;let e=$(this),i=e.closest("table"),n=e.data("table-id"),s=e.data("sample-group");i.find("tbody tr.expandable-row-secondary[data-sample-group='"+s+"'][data-table-id='"+n+"']").toggleClass("expandable-row-secondary-hidden"),e.toggleClass("expanded")}),$(".th-sample-name").click(function(t){})}$("#table_scatter_form").submit(function(t){t.preventDefault()}),$(".mqc_table_make_scatter").click(function(t){let e=$(this).data("table-anchor"),i=$("#table_scatter_table_anchor");i.val()!==e&&($("#table_scatter_col1, #table_scatter_col2").html('<option value="">Select Column</option>'),$("#"+e+" thead tr th").each(function(t){let e=$(this).attr("id");if(void 0!==e){let t=$(this).text(),i=$(this).data("namespace");i&&(t=i+": "+t),$("#table_scatter_col1, #table_scatter_col2").append('<option value="'+e+'">'+t+"</select>")}}),i.val(e),$("#table_scatter_plot").html("<small>Please select two table columns.</small>").addClass("not_rendered"))}),$("#table_scatter_form select").change(function(t){let e=$("#table_scatter_table_anchor").val(),i=$("#table_scatter_col1").val().replace("header_",""),n=$("#table_scatter_col2").val().replace("header_",""),s=$("#table_scatter_col1 option:selected").text(),o=$("#table_scatter_col2 option:selected").text(),a=parseFloat($("#"+e+" thead th#header_"+i).data("dmin")),r=parseFloat($("#"+e+" thead th#header_"+i).data("dmax")),l=parseFloat($("#"+e+" thead th#header_"+n).data("dmax")),c=parseFloat($("#"+e+" thead th#header_"+n).data("dmin"));isNaN(a)||isNaN(r)||0==r||(r+=.05*(r-a)),isNaN(a)||isNaN(r)||0==a||(a-=.05*(r-a)),isNaN(c)||isNaN(l)||0==l||(l+=.05*(l-c)),isNaN(c)||isNaN(l)||0==c||(c-=.05*(l-c)),isNaN(r)&&(r=void 0),isNaN(a)&&(a=void 0),isNaN(l)&&(l=void 0),isNaN(c)&&(c=void 0);let h=$("#table_scatter_plot");if(""!==i&&""!==n){let t;h.html("<small>loading..</small>"),t=$("#"+e).data("title")?$("#"+e).data("title"):e.replace(/_/g," ");let d=[],m=$("#"+e+" tbody tr").map(function(){return $(this).children("th.rowheader").find(".th-sample-name").text()}).get(),p=applyToolboxSettings(m);if($("#"+e+" tbody tr").each(function(t){$(this);let e=$(this).children("th.rowheader").find(".th-sample-name").text(),s=$(this).children("td."+i).data("sorting-val"),o=$(this).children("td."+n).data("sorting-val"),a=p[m.indexOf(e)];if(a.hidden)return!0;if(!isNaN(parseFloat(s))&&isFinite(s)&&!isNaN(parseFloat(o))&&isFinite(o)){let t={name:a.name??e,x:parseFloat(s),y:parseFloat(o)};p.some(t=>t.highlight)&&(t.marker={color:a.highlight??"#cccccc"}),d.push(t)}}),p.some(t=>t.highlight)){let t=d.filter(t=>"#cccccc"!==t.marker?.color),e=d.filter(t=>!t.marker||"#cccccc"===t.marker.color);d=e.concat(t)}if(Object.keys(d).length>0){let e="table_scatter_plot",i=d.map(function(t){let e={type:"scatter",x:[t.x],y:[t.y],name:t.name,text:[t.name]};return t.marker&&(e.marker=t.marker),e}),n={title:t,xaxis:{title:s,range:[a,r]},yaxis:{title:o,range:[c,l]},showlegend:!1},m={responsive:!0,displaylogo:!1,displayModeBar:!0,toImageButtonOptions:{filename:e},modeBarButtonsToRemove:["lasso2d","autoScale2d","pan2d","select2d","zoom2d","zoomIn2d","zoomOut2d","resetScale2d","toImage"]};Plotly.newPlot(e,i,n,m)?h.removeClass("not_rendered"):(h.html("<small>Error: Something went wrong when plotting the scatter plot.</small>"),h.addClass("not_rendered"))}else h.html("<small>Error: No data pairs found for these columns.</small>"),h.addClass("not_rendered")}else h.html("<small>Please select two table columns.</small>"),h.addClass("not_rendered")}),$(document).on("mqc_hidesamples mqc_renamesamples mqc_highlights",function(t,e,i){if($("#table_scatter_plot").length&&!$("#table_scatter_plot").hasClass("not_rendered")){let t=$("#table_scatter_col1").val().replace("header_",""),e=$("#table_scatter_col2").val().replace("header_","");""!==t&&""!==e&&$("#table_scatter_form select").trigger("change")}})}),$(function(){function t(t,e){let i="#"+t,n={};if($(i+"_config_modal_table .mqc_table_col_visible").each(function(){let t=$(this).val();n[t]=!$(this).is(":checked")}),Object.entries(n).map(([t,e])=>{e?($(i+" ."+t).addClass("column-hidden"),$(i+"_config_modal_table ."+t).addClass("text-muted")):($(i+" ."+t).removeClass("column-hidden"),$(i+"_config_modal_table ."+t).removeClass("text-muted"))}),$(i+" tbody tr").each(function(){let t=!0,e=$(this);e.find("td").each(function(){let e=$(this);e.hasClass("column-hidden")||e.hasClass("sorthandle")||""===e.text()||(t=!1)}),t?e.addClass("row-empty"):e.removeClass("row-empty")}),$(i+"_numrows").text($(i+" tbody tr:visible").length),$(i+"_numcols").text($(i+" thead th:visible").length-1),void 0!==e){mqc_plots[e].datasets.map(t=>{t.metrics.map(e=>{t.header_by_metric[e].hidden=n[e]})}),renderPlot(e)}}$(".mqc_table_col_visible").change(function(){t($(this).data("table-anchor"),$(this).data("violin-anchor"))}),$(".mqc_config_modal_bulk_visible").click(function(e){e.preventDefault();let i=$(this).data("table-anchor"),n=$(this).data("violin-anchor"),s="showAll"===$(this).data("action");$("#"+i+"_config_modal_table tbody .mqc_table_col_visible").prop("checked",s),t(i,n)}),$(".mqc_config_modal").on("show.bs.modal",function(t){$(t.target).find(".mqc_table.mqc_sortable tbody").sortable({handle:".sorthandle",helper:function(t,e){return e.children().each(function(){$(this).width($(this).width())}),e}})}),$(".mqc_config_modal_table").on("sortstop",function(t,e){Co($(this))}),$(".mqc_config_modal_table").bind("sortEnd",function(){Co($(this))})});let ko=0;const Ao=["#e41a1c","#377eb8","#4daf4a","#984ea3","#ff7f00","#a9a904","#a65628","#f781bf","#999999"],So={seqera:{name:"Seqera AI",apiKeysUrl:"https://cloud.seqera.io/tokens"},anthropic:{name:"Anthropic",defaultModel:"claude-3-5-sonnet-latest",suggestedModels:["claude-3-5-sonnet-latest","claude-3-5-haiku-latest"],apiKeysUrl:"https://console.anthropic.com/settings/keys",modelsUrl:"https://docs.anthropic.com/en/docs/intro-to-claude#model-options"},openai:{name:"OpenAI",defaultModel:"gpt-4o",suggestedModels:["gpt-4o","gpt-4o-mini"],apiKeysUrl:"https://platform.openai.com/api-keys",modelsUrl:"https://platform.openai.com/docs/models"},aws_bedrock:{name:"AWS Bedrock",modelsUrl:"https://docs.anthropic.com/en/docs/intro-to-claude#model-options"},custom:{name:"Custom",defaultModel:""},clipboard:{name:"Copy prompts"},none:{name:"Remove AI buttons"}},Eo={"In-report summaries":["seqera","anthropic","openai","custom"],Alternatives:["clipboard","none"]};function Oo(t){var e=0;if(0==t.length)return e;for(i=0;i<t.length;i++)char=t.charCodeAt(i),e=(e<<5)-e+char,e&=e;return e}function To(t,e,i){$(".mqc-toolbox-buttons li a").tooltip("hide");let n=$('.mqc-toolbox-buttons li a[href="'+t+'"]');void 0===e&&(e=!n.hasClass("active"));let s=$(".mqc-toolbox").hasClass("active");if(e){s&&Do(),$(".mqc-toolbox, .mqc-toolbox-buttons li a, .mqc_filter_section").removeClass("active"),n.addClass("active"),$(".mqc-toolbox, "+t).addClass("active"),$(document).trigger("mqc_toolbox_open"),setTimeout(function(){"#mqc_cols"===t&&$("#mqc_colour_filter").focus(),"#mqc_renamesamples"===t&&$("#mqc_renamesamples_from").focus(),"#mqc_hidesamples"===t&&$("#mqc_hidesamples_filter").focus()},s?0:510),i?$('#mqc_exportplots a[href="#mqc_data_download"]').tab("show"):$('#mqc_exportplots a[href="#mqc_image_download"]').tab("show")}else Do(),n.removeClass("active"),$(".mqc-toolbox, .mqc-toolbox-buttons li a").removeClass("active"),$(document).trigger("mqc_toolbox_close")}function Do(){$("#mqc_cols_apply").is(":enabled")&&$("#mqc_cols").is(":visible")&&$.toast({heading:"Highlights Not Applied",text:"Careful - your changes haven't been applied yet! Click the <em>Apply</em> button in the toolbox to set your changes.",icon:"warning",position:"bottom-right",hideAfter:5e3}),$("#mqc_rename_apply").is(":enabled")&&$("#mqc_renamesamples").is(":visible")&&$.toast({heading:"Rename Patterns Not Applied",text:"Careful - your changes haven't been applied yet! Click the <em>Apply</em> button in the toolbox to set your changes.",icon:"warning",position:"bottom-right",hideAfter:5e3}),$("#mqc_hide_apply").is(":enabled")&&$("#mqc_hidesamples").is(":visible")&&$.toast({heading:"Hide Samples Not Applied",text:"Careful - your changes haven't been applied yet! Click the <em>Apply</em> button in the toolbox to set your changes.",icon:"warning",position:"bottom-right",hideAfter:5e3})}function No(t){try{return new RegExp(t,"g"),!0}catch(e){return $.toast({heading:"Invalid Regular Expression!",text:"Apologies, your regular expression pattern is invalid: <code>"+t+'</code><br><br>For more help and testing, try it out at <a href="https://regex101.com/" target="_blank">regex101.com</a>.',icon:"error",position:"bottom-right",hideAfter:5e3}),!1}}function Io(){var t=[],e=[],i=$("#mqc_cols .mqc_regex_mode .re_mode").hasClass("on"),n=0;return $("#mqc_col_filters li").each(function(){var s=$(this).find(".f_text"),o=s.val();$(this).removeClass("bg-danger"),i&&!No(o)&&($(this).addClass("bg-danger"),n++),o.length>0&&t.indexOf(o)<0?(t.push(o),e.push(s.css("color"))):e[t.indexOf(o)]=s.css("color")}),!(n>0)&&(t.length>0&&t.indexOf("")<0?(t.unshift(""),e.unshift(null),$('.mqc-toolbox-buttons a[href="#mqc_cols"]').addClass("in_use")):$('.mqc-toolbox-buttons a[href="#mqc_cols"]').removeClass("in_use"),window.mqc_highlight_f_texts=t,window.mqc_highlight_f_cols=e,window.mqc_highlight_regex_mode=i,$(document).trigger("mqc_highlights",[t,e,i]),!0)}function Po(){let t=[],e=[],i=$("#mqc_renamesamples .mqc_regex_mode .re_mode").hasClass("on"),n=0;return $("#mqc_renamesamples_filters > li").each(function(){let s=$(this).find(".from_text").val();if($(this).removeClass("bg-danger"),i){if(!No(s))return $(this).addClass("bg-danger"),void n++;s=new RegExp(s,"g")}t.push(s);let o=$(this).find(".to_text").val();e.push(o)}),!(n>0)&&(t.length>0?$('.mqc-toolbox-buttons a[href="#mqc_renamesamples"]').addClass("in_use"):$('.mqc-toolbox-buttons a[href="#mqc_renamesamples"]').removeClass("in_use"),window.mqc_rename_f_texts=t,window.mqc_rename_t_texts=e,$(document).trigger("mqc_renamesamples",[window.mqc_rename_f_texts,window.mqc_rename_t_texts]),!0)}function Lo(t){void 0===t&&(t="show"===$(".mqc_hidesamples_showhide:checked").val()?"show":"hide");let e=$("#mqc_hidesamples .mqc_regex_mode .re_mode").hasClass("on"),i=[],n=0;return $("#mqc_hidesamples_filters li").each(function(){let t=$(this).find(".f_text").val();$(this).removeClass("bg-danger"),e&&!No(t)&&($(this).addClass("bg-danger"),n++),i.push(t)}),!(n>0)&&(i.length>0?$('.mqc-toolbox-buttons a[href="#mqc_hidesamples"]').addClass("in_use"):$('.mqc-toolbox-buttons a[href="#mqc_hidesamples"]').removeClass("in_use"),window.mqc_hide_mode=t,window.mqc_hide_f_texts=i,window.mqc_hide_regex_mode=e,$(document).trigger("mqc_hidesamples",[i,e]),!0)}function Mo(){return{highlights_f_texts:window.mqc_highlight_f_texts,highlights_f_cols:window.mqc_highlight_f_cols,highlight_regex:window.mqc_highlight_regex_mode,rename_from_texts:window.mqc_rename_f_texts,rename_to_texts:window.mqc_rename_t_texts,rename_regex:window.mqc_rename_regex_mode,hidesamples_mode:window.mqc_hide_mode,hidesamples_f_texts:window.mqc_hide_f_texts,hidesamples_regex:window.mqc_hide_regex_mode}}function jo(t,e,i){if(void 0===t)return!1;const n=Mo();var s={};try{try{if(s=null!=(s=localStorage.getItem("mqc_config"))?JSON.parse(s):{},1==e)delete s[t];else{if(s[t]=n,s[t].last_updated=Date(),i)for(var o in s)s.hasOwnProperty(o)&&(s[o].default=!1);s[t].default=i,i&&console.log("Set new default config!")}localStorage.setItem("mqc_config",JSON.stringify(s))}catch(a){console.log("Could not access localStorage")}!0===e?($("#mqc_loadconfig_form select option:contains('"+t+"')").remove(),$('<p class="text-danger" id="mqc-cleared-success">Settings deleted.</p>').hide().insertBefore($("#mqc_loadconfig_form .actions")).slideDown(function(){setTimeout(function(){$("#mqc-cleared-success").slideUp(function(){$(this).remove()})},5e3)})):($("#mqc_loadconfig_form select option:contains('"+t+"')").remove(),$("#mqc_loadconfig_form select").prepend("<option>"+t+(i?" [default]":"")+"</option>").val(t+(i?" [default]":"")),$('<p class="text-success" id="mqc-save-success">Settings saved.</p>').hide().insertBefore($("#mqc_saveconfig_form")).slideDown(function(){setTimeout(function(){$("#mqc-save-success").slideUp(function(){$(this).remove()})},5e3)}))}catch(a){console.log("Error updating localstorage: "+a)}}function zo(t,e){if(void 0===t)return!1;var i={};if(e)i=e;else try{var n=localStorage.getItem("mqc_config");null!=n&&(n=JSON.parse(n),i=n[t])}catch(s){console.log("Could not access localStorage")}notEmptyObj(i.rename_regex)&&!0===i.rename_regex&&($("#mqc_renamesamples .mqc_regex_mode .re_mode").removeClass("off").addClass("on").text("on"),window.mqc_rename_regex_mode=!0),notEmptyObj(i.rename_from_texts)&&notEmptyObj(i.rename_to_texts)&&(window.mqc_rename_f_texts=[],window.mqc_rename_t_texts=[],$.each(i.rename_from_texts,function(t,e){var n=i.rename_to_texts[t];if(0===e.length)return!0;var s='<li><input class="f_text from_text" value="'+e+'" />';s+='<small class="glyphicon glyphicon-chevron-right"></small><input class="f_text to_text" value="'+n+'" />',s+='<button type="button" class="close" aria-label="Close"><span aria-hidden="true">&times;</span></button></li>',window.mqc_rename_f_texts.push(e),window.mqc_rename_t_texts.push(n),$("#mqc_renamesamples_filters").append(s)}),$(document).trigger("mqc_renamesamples",[window.mqc_rename_f_texts,window.mqc_rename_t_texts,i.rename_regex])),notEmptyObj(i.highlight_regex)&&!0===i.highlight_regex&&($("#mqc_cols .mqc_regex_mode .re_mode").removeClass("off").addClass("on").text("on"),window.mqc_highlight_regex_mode=!0),notEmptyObj(i.highlights_f_texts)&&notEmptyObj(i.highlights_f_cols)&&(window.mqc_highlight_f_texts=[],window.mqc_highlight_f_cols=[],$.each(i.highlights_f_texts,function(t,e){var n=i.highlights_f_cols[t];$("#"+Oo(e+n)).remove(),$("#mqc_col_filters").append('<li style="color:'+n+';" id="'+Oo(e+n)+'"><span class="hc_handle"><span></span><span></span></span><input class="f_text" value="'+e+'" /><button type="button" class="close" aria-label="Close"><span aria-hidden="true">&times;</span></button></li>'),window.mqc_highlight_f_texts.push(e),window.mqc_highlight_f_cols.push(n),ko+=1}),$("#mqc_colour_filter_color").val(Ao[ko]),$(document).trigger("mqc_highlights",[window.mqc_highlight_f_texts,window.mqc_highlight_f_cols,i.highlight_regex])),notEmptyObj(i.hidesamples_regex)&&1==i.hidesamples_regex&&($("#mqc_hidesamples .mqc_regex_mode .re_mode").removeClass("off").addClass("on").text("on"),window.mqc_hide_regex_mode=!0),notEmptyObj(i.hidesamples_mode)&&"show"==i.hidesamples_mode&&($(".mqc_hidesamples_showhide").prop("checked",!1),$(".mqc_hidesamples_showhide[val=show]").prop("checked",!0),window.mqc_hide_mode="show"),notEmptyObj(i.hidesamples_f_texts)&&(window.mqc_hide_f_texts=[],$.each(i.hidesamples_f_texts,function(t,e){if(0==e.length)return!0;$("#mqc_hidesamples_filters").append('<li><input class="f_text" value="'+e+'" /><button type="button" class="close" aria-label="Close"><span aria-hidden="true">&times;</span></button></li>'),window.mqc_hide_f_texts.push(e)}),$(document).trigger("mqc_hidesamples",[window.mqc_hide_f_texts,i.hidesamples_regex])),$(document).trigger("mqc_config_loaded")}$(function(){$(document).keyup(function(t){"Escape"===t.key&&$(".mqc-toolbox").hasClass("active")&&To(void 0,!1)}),$(".mqc_sname_switches").click(function(t){if(t.preventDefault(),$(this).hasClass("active"))return!1;$("#mqc_sname_switches button").removeClass("active"),$(this).addClass("active"),$(".mqc_sname_switches_li").remove();var e=$(this).data("index");if(0==e)Po();else{for(i=0;i<mqc_config.sample_names_rename.length;i++){var n=mqc_config.sample_names_rename[i][0],s=mqc_config.sample_names_rename[i][e];$("#mqc_renamesamples_filters").append('<li class="mqc_sname_switches_li">           <input class="f_text from_text" value="'+n+'" /><small class="glyphicon glyphicon-chevron-right"></small><input class="f_text to_text" value="'+s+'" />           <button type="button" class="close" aria-label="Close"><span aria-hidden="true">&times;</span></button>         </li>')}Po()}}),$(".mqc_hide_switches").click(function(t){if(t.preventDefault(),$(this).hasClass("active"))return!1;$("#mqc_hide_switches button").removeClass("active"),$(this).addClass("active"),$("#mqc_hidesamples_filters").empty();var e=$(this).data("index"),i=mqc_config.show_hide_patterns[e],n=mqc_config.show_hide_mode[e],s=mqc_config.show_hide_regex[e];Array.isArray(i)||(i=[i]),void 0===n&&(n="show");var o=document.getElementsByClassName("mqc_switch re_mode")[2];o.className.includes(" on")&&!s&&o.click(),o.className.includes(" off")&&s&&o.click(),$(".mqc_hidesamples_showhide[value="+n+"]").prop("checked",!0),$(i).each(function(t,e){$("#mqc_hidesamples_filters").append('<li><input class="f_text" value="'+e+'" /><button type="button" class="close" aria-label="Close"><span aria-hidden="true">&times;</span></button></li>')}),Lo(n)}),$(document).mouseup(function(t){$(".mqc-toolbox").is(t.target)||0!==$(".mqc-toolbox").has(t.target).length||$(".mqc-toolbox").hasClass("active")&&To(void 0,!1)}),$(".modal").on("show.bs.modal",function(t){$(".mqc-toolbox").hasClass("active")&&To(void 0,!1)}),$(document).on("mqc_config_loaded",function(t){$(".hc-plot:not(.not_rendered)").each(function(){let t=$(this).attr("id");renderPlot(t)})}),$(".mqc-toolbox-buttons a").click(function(t){t.preventDefault(),To($(this).attr("href"))}),$(".download-citations-btn").click(function(t){t.preventDefault();var e=$(this).data("format"),i={"10.1093/bioinformatics/btw354":"MultiQC"};if($(".module-doi").each(function(){var t=$(this).closest(".mqc-module-section-first").find("h2").attr("id");i[$(this).data("doi")]=t}),"bibtex"==e){var n="",s=[];for(var o in i)s.push($.get("https://api.crossref.org/works/"+o+"/transform/application/x-bibtex",function(t){n+=t+"\n"}));$.when.apply(null,s).then(function(){var t=new Blob([n],{type:"text/plain;charset=utf-8"});saveAs(t,"multiqc_references.bib")})}else{var a="";for(var o in i)a+=o+new Array(50-o.length).join(" ")+" # "+i[o]+"\n";var r=new Blob([a],{type:"text/plain;charset=utf-8"});saveAs(r,"multiqc_dois.txt")}}),$("#mqc_color_form").submit(function(t){t.preventDefault();let e=$("#mqc_colour_filter"),i=$("#mqc_colour_filter_color"),n=e.val().trim(),s=i.val().trim();$("#mqc_col_filters").append('<li style="color:'+s+';" id="'+Oo(n+s)+'"><span class="hc_handle"><span></span><span></span></span><input class="f_text" value="'+n+'" tabindex="'+ko+'" /><button type="button" class="close" aria-label="Close"><span aria-hidden="true">&times;</span></button></li>'),$("#mqc_cols_apply").attr("disabled",!1).removeClass("btn-default").addClass("btn-primary"),e.val(""),ko+=1,ko>=Ao.length&&(ko=0),i.val(Ao[ko])}),$("#mqc_cols_apply").click(function(t){Io()&&($(this).attr("disabled",!0).removeClass("btn-primary").addClass("btn-default"),Ho())});let t=300;$("#mqc_renamesamples_form").submit(function(e){e.preventDefault();let i=$("#mqc_renamesamples_from"),n=$("#mqc_renamesamples_to"),s=i.val().trim(),o=n.val().trim();if(0===s.length)return alert('Error - "From" text must not be blank.'),!1;let a='<li><input class="f_text from_text" value="'+s+'" tabindex="'+t+'" />';a+='<small class="glyphicon glyphicon-chevron-right"></small><input class="f_text to_text" value="'+o+'" tabindex="'+(t+1)+'" />',a+='<button type="button" class="close" aria-label="Close"><span aria-hidden="true">&times;</span></button></li>',$("#mqc_renamesamples_filters").append(a),$("#mqc_rename_apply").attr("disabled",!1).removeClass("btn-default").addClass("btn-primary"),i.val(""),n.val(""),t+=2,$("#mqc_renamesamples_form input:first").focus()}),$("#mqc_rename_apply").click(function(t){Po()&&($(this).attr("disabled",!0).removeClass("btn-primary").addClass("btn-default"),Ho())}),$("#mqc_renamesamples_bulk_collapse").on("shown.bs.collapse",function(){$("#mqc_renamesamples_bulk_form textarea").focus()}),$("#mqc_renamesamples_bulk_form").submit(function(e){e.preventDefault();var i=$(this).find("textarea").val().match(/^.*([\n\r]+|$)/gm);$.each(i,function(e,i){var n=i.split("\t",2);if(n.length<2)return!0;var s=n[0].trim(),o=n[1].trim();if(0==s.length)return!0;var a='<li><input class="f_text from_text" value="'+s+'" tabindex="'+t+'" />';a+='<small class="glyphicon glyphicon-chevron-right"></small><input class="f_text to_text" value="'+o+'" tabindex="'+(t+1)+'" />',a+='<button type="button" class="close" aria-label="Close"><span aria-hidden="true">&times;</span></button></li>',$("#mqc_renamesamples_filters").append(a)}),$("#mqc_rename_apply").attr("disabled",!1).removeClass("btn-default").addClass("btn-primary"),$(this).find("textarea").val(""),$("#mqc_renamesamples_bulk_collapse").collapse("hide")});var e=200;if($("#mqc_hidesamples_form").submit(function(t){t.preventDefault();var i=$("#mqc_hidesamples_filter").val().trim();if(0==i.length)return alert("Error - filter text must not be blank."),!1;$("#mqc_hidesamples_filters").append('<li><input class="f_text" value="'+i+'" tabindex="'+e+'" /><button type="button" class="close" aria-label="Close"><span aria-hidden="true">&times;</span></button></li>'),$("#mqc_hide_apply").attr("disabled",!1).removeClass("btn-default").addClass("btn-primary"),$("#mqc_hidesamples_filter").val(""),e+=1}),$(".mqc_hidesamples_showhide").change(function(t){$("#mqc_hide_apply").attr("disabled",!1).removeClass("btn-default").addClass("btn-primary")}),$("#mqc_hide_apply").click(function(t){Lo()&&($(this).attr("disabled",!0).removeClass("btn-primary").addClass("btn-default"),Ho())}),$('#mqc_exportplots a[data-toggle="tab"]').on("shown.bs.tab",function(t){"#mqc_data_download"===$(t.target).attr("href")?$("#mqc-dl-plot-txt").text("Data"):$("#mqc-dl-plot-txt").text("Images")}),$(".hc-plot").length>0){let t=function(t,e){const i=atob(t.split(",")[1]),n=new Array(i.length);for(let o=0;o<i.length;o++)n[o]=i.charCodeAt(o);const s=new Uint8Array(n);return new Blob([s],{type:e})};$(".hc-plot").each(function(){var t=$(this).attr("id");$("#mqc_export_selectplots").append('<div class="checkbox"><label><input type="checkbox" value="'+t+'" checked> '+t+"</label></div>")}),$("#mqc_export_sall").click(function(t){t.preventDefault(),$("#mqc_export_selectplots input").prop("checked",!0)}),$("#mqc_export_snone").click(function(t){t.preventDefault(),$("#mqc_export_selectplots input").prop("checked",!1)});var n=$("#mqc_exp_width").val()/$("#mqc_exp_height").val();$("#mqc_export_aspratio").change(function(){$(this).is(":checked")&&(n=$("#mqc_exp_width").val()/$("#mqc_exp_height").val())}),$("#mqc_exp_width").keyup(function(){$("#mqc_export_aspratio").is(":checked")&&$("#mqc_exp_height").val($(this).val()/n)}),$("#mqc_exp_height").keyup(function(){$("#mqc_export_aspratio").is(":checked")&&$("#mqc_exp_width").val($(this).val()*n)}),$("#mqc_exportplots").submit(function(e){e.preventDefault();let i=$("#mqc_export_selectplots input:checked"),n=new JSZip,s=[];if($("#mqc_image_download").is(":visible")){let e=$("#mqc_export_ft").val(),o=e.replace("image/","").split("+")[0],a=parseInt($("#mqc_exp_width").val()),r=parseInt($("#mqc_exp_height").val());const l=parseFloat($("#mqc_export_scaling").val());i.each(function(){const c=$(this).val();s.push(Plotly.toImage(c,{format:o,width:a/l,height:r/l,scale:l}).then(function(s){"svg"===o?Plotly.Snapshot.downloadImage(c,{format:o,width:a/l,height:r/l,scale:l,filename:c}):function(t,e){let i=new Image;i.onload=function(){let t=document.createElement("canvas"),n=t.getContext("2d");t.width=i.width,t.height=i.height,n.drawImage(i,0,0,i.width,i.height),n.font="9px Lucida Grande",n.textAlign="right",n.fillStyle="#9f9f9f",n.fillText("Created with MultiQC",i.width-15,i.height-6),e(t.toDataURL())},i.src=t}(s,function(s){if(i.length<=8){const i=t(s,e);saveAs(i,c+"."+o)}else{const t=c+"."+o,e=s.replace(/^data:image\/png;base64,/,"");n.file(t,e,{base64:!0})}})}))}),i.length>8&&Promise.all(s).then(()=>{n.generateAsync({type:"blob"}).then(function(t){saveAs(t,"multiqc_plots.zip")})})}else if($("#mqc_data_download").is(":visible")){const t=$("#mqc_export_data_ft").val();console.log("Exporting data in "+t+" format");let e=0;i.each(function(){try{const s=$(this).val(),o=s+"."+t;if("json"===t){const t=JSON.stringify(mqc_plots[s],null,2),e=new Blob([t],{type:"text/plain;charset=utf-8"});i.length<=8?saveAs(e,o):n.file(o,e)}else if("tsv"===t||"csv"===t){let a=mqc_plots[s];if(void 0!==a){let e=a.exportData(t);const s=new Blob([e],{type:"text/plain;charset=utf-8"});i.length<=8?saveAs(s,o):n.file(o,s)}else e+=1}else e+=1}catch(s){console.error(s),e+=1}}),e>0&&alert("Warning: Could not export data from "+e+" plots."),i.length>8&&n.generateAsync({type:"blob"}).then(function(t){saveAs(t,"multiqc_data.zip")})}else alert("Error - don't know what to export!")})}else $("#mqc_exportplots").hide(),$(".mqc-toolbox-buttons a[href=#mqc_exportplots]").parent().hide();function s(){var t=$(".regex_example_demo input").val();console.log("Testing "+t),$(".regex_example_demo pre span").each(function(){$(this).removeClass(),$(this).text().match(t)?(console.log("Matches "+$(this).text()),$(this).addClass("mark text-success")):(console.log("Matches "+$(this).text()),$(this).addClass("text-muted"))})}$(".export-plot").click(function(t){t.preventDefault();let e=t.target.dataset.plotAnchor,i="table"===t.target.dataset.type;$("#mqc_export_selectplots input").prop("checked",!1),$('#mqc_export_selectplots input[value="'+e+'"]').prop("checked",!0),"table_scatter_plot"===e&&$("#table_scatter_modal").modal("hide"),To("#mqc_exportplots",!0,i)}),function(){try{var t=localStorage.getItem("mqc_config");if(null!=t){for(var e in t=JSON.parse(t),default_name=!1,t)t[e].default&&(console.log("Loaded default config!"),zo(e),e+=" [default]",default_name=e),$("#mqc_loadconfig_form select").append("<option>"+e+"</option>").val(e);!1!==default_name?$('#mqc_loadconfig_form select option:contains("'+default_name+'")').prop("selected",!0):$("#mqc_loadconfig_form select option:first").prop("selected",!0)}}catch(i){console.log("Could not load local config: "+i),$("#mqc_saveconfig").html('<h4>Error accessing localStorage</h4><p>This feature uses a web browser feature called "localStorage". We\'re not able to access this at the moment, which probably means that you have the <em>"Block third-party cookies and site data"</em> setting ticked (Chrome) or equivalent in other browsers.</p><p>Please <a href="https://www.google.se/search?q=Block+third-party+cookies+and+site+data" target="_blank">change this browser setting</a> to save MultiQC report configs.</p>')}}(),$("#mqc_saveconfig_form").submit(function(t){t.preventDefault();var e=$(this).find("input").val().trim();""==e?alert("Error - you must name the saved settings."):jo(e)}),$("#mqc_loadconfig_form").submit(function(t){t.preventDefault();var e=$(this).find("select").val().trim();""==e?alert("Error - No saved setting selected."):zo(e)}),$(".mqc_config_clear").click(function(t){t.preventDefault();var e=$("#mqc_loadconfig_form select").val().trim();""==e?alert("Error - no saved settings selected."):confirm("Delete saved settings '"+e+"'?")&&jo(e,!0)}),$(".mqc_config_set_default").click(function(t){t.preventDefault();var e=$("#mqc_loadconfig_form select").val().trim();""==e?alert("Error - no saved settings selected."):(zo(e),jo(e,!1,!0))}),$(".mqc_config_clear_default").click(function(t){t.preventDefault(),function(){try{var e=localStorage.getItem("mqc_config");if(!e)return;for(var i in e=JSON.parse(e))e.hasOwnProperty(i)&&(e[i].default=!1);localStorage.setItem("mqc_config",JSON.stringify(e)),$('<p class="text-danger" id="mqc-cleared-success">Unset default.</p>').hide().insertBefore($("#mqc_loadconfig_form .actions")).slideDown(function(){setTimeout(function(){$("#mqc-cleared-success").slideUp(function(){$(this).remove()})},5e3);var t=$('#mqc_loadconfig_form select option:contains("default")').text();$('#mqc_loadconfig_form select option:contains("default")').remove(),t=t.replace(" [default]",""),$("#mqc_loadconfig_form select").append("<option>"+t+"</option>").val(t)})}catch(t){console.log("Could not access localStorage")}}()}),$(".mqc_filters").on("blur","li input",function(){var t=$(this).parent().parent().attr("id");"mqc_col_filters"==t&&$("#mqc_cols_apply").attr("disabled",!1).removeClass("btn-default").addClass("btn-primary"),"mqc_renamesamples_filters"==t&&$("#mqc_rename_apply").attr("disabled",!1).removeClass("btn-default").addClass("btn-primary"),"mqc_hidesamples_filters"==t&&$("#mqc_hide_apply").attr("disabled",!1).removeClass("btn-default").addClass("btn-primary")}),$(".mqc_filters").on("keyup","li input",function(t){13==t.keyCode&&($(this).blur(),$(this).parent().next("li").find("input").focus().select())}),$(".mqc_filters").on("click","li button",function(){var t=$(this).parent().parent().attr("id");$(this).parent().remove(),"mqc_col_filters"==t&&$("#mqc_cols_apply").attr("disabled",!1).removeClass("btn-default").addClass("btn-primary"),"mqc_hidesamples_filters"==t&&$("#mqc_hide_apply").attr("disabled",!1).removeClass("btn-default").addClass("btn-primary"),"mqc_renamesamples_filters"==t&&$("#mqc_rename_apply").attr("disabled",!1).removeClass("btn-default").addClass("btn-primary")}),$(".mqc_toolbox_clear").click(function(){var t=$(this).closest(".mqc_filter_section").find(".mqc_filters").attr("id");$("#"+t).empty(),"mqc_col_filters"==t&&$("#mqc_cols_apply").attr("disabled",!1).removeClass("btn-default").addClass("btn-primary"),"mqc_hidesamples_filters"==t&&$("#mqc_hide_apply").attr("disabled",!1).removeClass("btn-default").addClass("btn-primary"),"mqc_renamesamples_filters"==t&&$("#mqc_rename_apply").attr("disabled",!1).removeClass("btn-default").addClass("btn-primary")}),$("#mqc_col_filters").sortable(),$("#mqc_col_filters").on("sortstop",function(t,e){$("#mqc_cols_apply").attr("disabled",!1).removeClass("btn-default").addClass("btn-primary")}),$(".mqc_regex_mode").click(function(){var t=$(this).find(".re_mode");"off"==t.text()?t.removeClass("off").addClass("on").text("on"):t.removeClass("on").addClass("off").text("off"),"mqc_cols"==$(this).data("target")&&$("#mqc_cols_apply").attr("disabled",!1).removeClass("btn-default").addClass("btn-primary"),"mqc_renamesamples"==$(this).data("target")&&$("#mqc_rename_apply").attr("disabled",!1).removeClass("btn-default").addClass("btn-primary"),"mqc_hidesamples"==$(this).data("target")&&$("#mqc_hide_apply").attr("disabled",!1).removeClass("btn-default").addClass("btn-primary")}),$(".regex_example_buttons button").click(function(t){t.preventDefault(),$(".regex_example_demo input").val($(this).data("example")),s()}),$(".regex_example_demo input").keyup(function(t){s()});try{const t=Fo+window.reportUuid,e=localStorage.getItem("mqc_config");if(e){JSON.parse(e)[t]&&zo(t)}}catch(l){console.log("Could not load auto-saved config:",l)}let o=$("#mqc_col_filters").children().length>0,a=$("#mqc_hidesamples_filters").children().length>0,r=$("#mqc_renamesamples_filters").children().length>0;if(!o&&mqc_config.highlight_patterns&&mqc_config.highlight_patterns.length>0){mqc_config.highlight_regex&&$("#mqc_cols .mqc_regex_mode .re_mode").removeClass("off").addClass("on").text("on");for(let t=0;t<mqc_config.highlight_patterns.length;t++){const e=mqc_config.highlight_patterns[t];let i=mqc_config.highlight_colors&&mqc_config.highlight_colors[t]?mqc_config.highlight_colors[t]:"#e41a1c";$("#mqc_col_filters").append('<li style="color:'+i+'"><span class="hc_handle"><span></span><span></span><span></span></span><input class="f_text" value="'+e+'" /><button type="button" class="close" aria-label="Close"><span aria-hidden="true">&times;</span></button></li>')}Io()}if(!a&&mqc_config.show_hide_patterns&&mqc_config.show_hide_patterns.length>0){for(let t=1;t<mqc_config.show_hide_patterns.length;t++){const e=mqc_config.show_hide_patterns[t];$("#mqc_hidesamples_filters").append('<li><input class="f_text" value="'+e+'" /><button type="button" class="close" aria-label="Close"><span aria-hidden="true">&times;</span></button></li>')}for(let t=1;t<mqc_config.show_hide_regex.length;t++)if(mqc_config.show_hide_regex[t]){$("#mqc_hidesamples .mqc_regex_mode .re_mode").removeClass("off").addClass("on").text("on");break}for(let t=1;t<mqc_config.show_hide_mode.length;t++)if("show"===mqc_config.show_hide_mode[t]){$(".mqc_hidesamples_showhide[value=show]").prop("checked",!0);break}Lo()}if(!r&&mqc_config.sample_names_rename&&mqc_config.sample_names_rename.length>0){let t=300;for(let e=0;e<mqc_config.sample_names_rename.length;e++){const i=mqc_config.sample_names_rename[e];if(!Array.isArray(i)||i.length<2)continue;const n=i[0],s=i[1];$("#mqc_renamesamples_filters").append('<li><input class="f_text from_text" value="'+n+'" tabindex="'+t+'" /><small class="glyphicon glyphicon-chevron-right"></small><input class="f_text to_text" value="'+s+'" tabindex="'+(t+1)+'" /><button type="button" class="close" aria-label="Close"><span aria-hidden="true">&times;</span></button></li>'),t+=2}Po()}}),$(function(){let t=!1;$("#mqc_saveconfig").on("mouseenter",function(){t||($("#mqc_load_config_file_wrapper").append('<input type="file" id="mqc_load_config_file" accept=".json">'),$("#mqc_load_config_file").on("change",function(t){this.files&&this.files[0]&&function(t){const e=new FileReader;e.onload=function(t){try{const e=JSON.parse(t.target.result);if(e.report_id&&e.report_id!==window.reportUuid&&!confirm("This configuration is from a different report. Load it anyway?"))return;zo("custom_file_load",e),Ho(),$.toast({heading:"Configuration Loaded",text:"Settings have been loaded from file successfully",icon:"success",position:"bottom-right"})}catch(e){$.toast({heading:"Error Loading Configuration",text:"Could not parse the configuration file: "+e.message,icon:"error",position:"bottom-right"})}},e.readAsText(t)}(this.files[0])}),t=!0)}),$("#mqc_download_config").click(function(t){t.preventDefault();!function(t){const e=Mo(),i=new Blob([JSON.stringify(e,null,2)],{type:"application/json"});saveAs(i,`multiqc_config_${t}.json`)}($("#mqc_saveconfig_form input").val().trim()||"settings")})});const Fo="autosave_";function Ho(){var t=Mo();t.last_updated=Date();try{var e={};try{e=(e=localStorage.getItem("mqc_config"))?JSON.parse(e):{}}catch(i){console.log("Could not access localStorage")}e[Fo+window.reportUuid]=t,localStorage.setItem("mqc_config",JSON.stringify(e))}catch(i){console.log("Error auto-saving config:",i)}}function Bo(t,e){try{localStorage.setItem(t,e)}catch(i){console.warn("Failed to save to localStorage:",i)}}function Ro(t){try{return localStorage.getItem(t)}catch(e){return console.warn("Failed to read from localStorage:",e),null}}function Wo(t){const e=So[t];let i="",n="";if("seqera"===t)$(".ai-generate-button-wrapper").show(),$(".ai-copy-button-wrapper").hide(),$("#ai_provider_info").html(""),$("#ai_model_group").hide(),$("#ai_endpoint_group").hide(),$("#ai_query_options_group").hide(),$("#ai_api_key_group").show(),$("#ai_api_key_info").html(`<span id="ai_api_key_info_required">Field is required.</span> You can find your API key in the <a style='text-decoration: underline;' href='${e.apiKeysUrl}' target='_blank'>${e.name} dashboard</a>`),$("#ai_provider_logo").html('<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 386.21 80" height="22" width="112" class="_logo_1pric_80"><defs><clipPath id="Logo_svg__a"><path d="M0 0h386.21v80H0z" style="fill:none;stroke-width:0"></path></clipPath><clipPath id="Logo_svg__b"><path d="M0 0h79.68v80H0z" style="fill:none;stroke-width:0"></path></clipPath></defs><g style="clip-path:url(#Logo_svg__a)"><g style="clip-path:url(#Logo_svg__b)"><path d="m67.65 41.42.11.04.11.04.11.05.11.06.1.06.1.06.1.07.09.07.09.08.09.08.08.09.08.09.08.1.07.1.07.1.06.1.05.11.05.11.04.11.04.11.03.12.03.11.02.12.02.11v.12l.02.12v.36l-.02.12-.02.12-.02.12-.03.12-.03.11-.04.12-.04.11-.05.11-.05.11-.06.1-.07.1-.07.1-.08.09-.08.09-.08.08-.09.09-.09.08-.09.07-.1.07-.1.07-.1.06-.11.06-.11.05-.11.05-.11.04-.11.04-.11.03-.11.03-.12.02h-.11l-.12.03h-.02.12l.22-.01h.22l.22-.03.21-.03.22-.03.21-.04.21-.04.21-.05.21-.05.21-.06.21-.07.2-.07.2-.08.2-.08.2-.09.2-.09.19-.1.19-.1.19-.11.18-.12.18-.12.18-.12.18-.13.17-.13.17-.13.17-.14.16-.15.16-.15.16-.16.15-.16.14-.16.14-.17.14-.17.13-.18.13-.18.12-.18.12-.19.11-.19.11-.19.11-.19.1-.19.09-.2.09-.2.08-.2.08-.2.07-.21.06-.21.06-.21.05-.21.05-.21.04-.22.04-.21.03-.21.02-.22.02-.22.02-.22v-.88l-.02-.22-.02-.22-.02-.21-.03-.22-.04-.22-.04-.21-.05-.21-.04-.16H48.51l19.02 5.25.13.04Z" style="fill:#160f26;stroke-width:0"></path><path d="m79.67 43.32-.02-.28-.02-.27-.03-.28-.03-.27-.04-.27-.04-.27-.05-.27-.05-.27-.06-.27-.07-.27-.07-.27-.08-.26-.08-.26-.09-.26-.1-.26-.1-.25-.11-.26-.11-.25-.11-.25-.12-.25-.13-.24-.13-.24-.14-.24-.14-.24-.14-.23-.15-.23-.15-.22-.16-.22-.05-.07h-2.38l.04.16.05.21.04.21.04.22.03.22.02.21.02.22.02.22v.88l-.02.22-.02.22-.02.22-.03.21-.04.21-.04.22-.05.21-.05.21-.06.21-.06.21-.07.21-.08.2-.08.2-.09.2-.09.2-.1.19-.11.19-.11.19-.11.19-.12.19-.12.18-.13.18-.13.18-.14.17-.14.17-.14.16-.15.16-.16.16-.16.15-.16.15-.17.14-.17.13-.17.13-.18.13-.18.12-.18.12-.18.12-.19.11-.19.1-.19.1-.2.09-.2.09-.2.08-.2.08-.2.07-.21.07-.21.06-.21.05-.21.05-.21.04-.21.04-.22.03-.21.03-.22.02h-.22l-.22.02H0v10.32h67.38l.27-.02.27-.02.27-.03.27-.03.27-.04.27-.04.27-.05.27-.06.27-.06.26-.06.26-.07.26-.08.26-.08.26-.09.26-.09.26-.1.25-.1.25-.11.25-.12.25-.12.24-.12.24-.13.24-.13.24-.14.23-.14.23-.15.23-.16.22-.16.22-.17.21-.17.21-.18.21-.18.2-.18.2-.19.19-.19.19-.2.18-.2.18-.2.18-.21.17-.21.17-.21.17-.22.16-.22.15-.22.15-.23.14-.23.14-.24.14-.24.13-.24.13-.24.12-.25.11-.25.11-.25.11-.25.1-.25.1-.26.09-.26.08-.26.08-.27.07-.26.07-.27.06-.27.05-.27.05-.27.04-.27.04-.27.03-.27.03-.27.02-.28.02-.27v-.27l.01-.28v-.28l-.01-.27Z" style="fill:#fa6863;stroke-width:0"></path><path d="m12.04 38.57-.11-.04-.11-.04-.11-.05-.11-.06-.1-.06-.1-.06-.1-.07-.09-.07-.09-.08-.09-.08-.08-.09-.08-.09-.08-.1-.07-.1-.07-.1-.06-.1-.05-.11-.05-.11-.04-.11-.04-.11-.03-.12-.03-.11-.03-.12-.02-.11v-.12l-.02-.12v-.36l.02-.12.02-.12.03-.12.03-.12.03-.11.04-.12.04-.11.05-.11.05-.1.06-.11.07-.1.07-.1.08-.09.08-.09.08-.09.09-.08.09-.08.09-.07.1-.07.1-.07.1-.06.11-.05.11-.05.11-.05.11-.04.11-.04.11-.03.11-.03.12-.02h.11l.12-.03h.02-.34l-.22.03-.22.02-.21.03-.22.03-.22.04-.21.04-.21.05-.21.05-.21.06-.21.07-.2.07-.21.07-.2.08-.2.09-.2.09-.19.1-.19.1-.18.11-.18.12-.18.12-.18.12-.18.13-.18.13-.17.14-.17.14-.16.15-.16.15-.16.15-.15.16-.14.16-.14.17-.13.17-.14.17-.12.18-.12.18-.12.18-.11.19-.11.19-.11.2-.1.19-.09.2-.09.2-.08.2-.08.2-.07.21-.06.21-.06.21-.05.21-.05.21-.04.21-.04.22-.03.21-.02.22-.02.21-.02.22v.88l.02.22.02.22.02.22.03.22.04.21.04.21.05.21.04.17h26.23l-19.02-5.25-.13-.04Z" style="fill:#160f26;stroke-width:0"></path><path d="M.01 36.67v.28l.04.27.03.27.03.27.04.27.04.27.05.27.05.27.06.27.07.27.07.27.08.26.08.26.09.26.1.26.1.25.11.26.11.25.11.25.12.24.13.24.13.24.14.24.14.23.14.23.15.23.16.23.16.22.05.07h2.38l-.04-.17-.05-.21-.04-.21-.04-.21-.03-.22-.02-.22-.02-.22-.02-.22v-.88l.02-.22.02-.21.02-.22.03-.21.04-.22.04-.21.05-.21.05-.21.06-.21.06-.21.07-.21.08-.2.08-.2.09-.2.09-.2.1-.19.11-.2.11-.19.11-.19.12-.18.12-.18.12-.18.14-.17.13-.17.14-.17.14-.16.15-.16.16-.15.16-.15.16-.15.17-.14.17-.14.18-.13.18-.13.18-.12.18-.12.18-.12.18-.11.19-.1.19-.1.2-.09.2-.09.2-.08.21-.07.2-.07.21-.07.21-.06.21-.05.21-.05.21-.04.22-.04.22-.03.21-.03.22-.02.22-.02h.22l.22-.01H79.7V23.23H12.31l-.27.02-.27.02-.27.03-.27.03-.27.04-.27.04-.27.05-.27.05-.26.06-.26.07-.26.07-.26.08-.26.08-.26.09-.26.09-.26.1-.25.1-.25.11-.25.12-.25.12-.24.12-.24.13-.24.13-.24.14-.23.15-.23.15-.22.16-.22.16-.22.16-.21.17-.21.18-.21.18-.2.18-.2.19-.19.19-.19.2-.19.2-.18.2-.18.21-.17.21-.17.21-.17.22-.16.22-.16.22-.15.23-.14.23-.14.24-.14.24-.13.24-.13.24-.12.25-.11.25-.11.25-.11.25-.1.26-.1.26-.09.26-.08.26-.08.26-.07.27-.07.27-.06.27-.05.27-.05.27-.04.27-.04.27-.03.27-.03.27-.02.27v.27l-.03.28v.82Z" style="fill:#f18046;stroke-width:0"></path><path d="m12.04 15.35-.11-.04-.11-.05-.11-.05-.1-.06-.11-.06-.1-.06-.1-.07-.1-.07-.09-.08-.09-.08-.08-.09-.08-.09-.08-.1-.07-.1-.06-.1-.06-.1-.05-.11-.05-.11-.04-.11-.04-.12-.04-.11-.03-.11-.03-.12-.02-.12-.02-.12v-.48l.02-.12.02-.12.03-.12.03-.12.04-.12.04-.11.04-.11.05-.11.05-.11.06-.1.06-.1.07-.1.08-.09.08-.09.08-.09.09-.08.09-.08.1-.07.1-.07.1-.07.11-.06.1-.06.11-.05.11-.04.11-.04.11-.04.11-.03.12-.02.11-.02h.12l.12-.02h.04-.36l-.22.03-.22.02-.21.03-.22.03-.22.04-.21.04-.21.05-.21.05-.21.06-.21.07-.2.07-.21.08-.2.08-.2.09-.2.09-.19.1-.19.1-.18.11-.19.12-.18.12-.18.12-.18.13-.18.13-.17.14-.16.14-.16.14-.16.15-.15.15-.15.16-.14.16-.14.17-.13.17-.14.18-.12.18-.12.18-.12.18-.11.19-.11.19-.11.2-.1.19-.09.2-.09.2-.08.2-.08.2-.07.21-.06.21-.06.21-.05.21-.05.21-.04.21-.04.22-.03.21-.03.22-.02.21-.02.22v.88l.02.22.02.22.03.21.03.22.04.22.04.21.05.21.05.21.06.21.06.21.07.2.08.2.08.2.09.2.09.2.1.2.06.11.27-.14.27-.13.27-.13.27-.12.27-.12.28-.11.28-.1.28-.11.28-.09.29-.09.29-.08.29-.08.29-.07.29-.06.29-.06.29-.06.3-.05.3-.04.3-.04.3-.03.3-.03.3-.02h.29l.31-.02h18.63l-19.02-5.25-.13-.04ZM66.83 69.68h.44l.22-.03.22-.02.22-.03.22-.03.21-.04.21-.04.21-.05.21-.05.21-.06.21-.07.21-.07.2-.08.2-.08.2-.09.2-.09.19-.1.19-.1.19-.11.18-.12.18-.12.18-.12.18-.13.17-.13.17-.13.17-.14.16-.15.16-.15.15-.16.15-.16.15-.16.14-.17.14-.17.13-.18.12-.18.12-.18.12-.19.11-.19.11-.19.11-.19.1-.2.09-.2.08-.2.09-.2.07-.2.07-.21.07-.21.06-.21.06-.21.05-.21.04-.22.04-.21.03-.21.03-.22.02-.21v-.22l.02-.22v-.66l-.02-.22-.02-.22-.03-.21-.03-.22-.04-.22-.04-.21-.05-.21-.06-.21-.06-.21-.07-.21-.07-.21-.07-.2-.09-.2-.08-.2-.09-.2-.1-.2-.06-.12-.27.14-.27.13-.27.13-.27.12-.28.12-.28.11-.28.1-.28.1-.29.1-.28.09-.28.08-.29.08-.29.07-.29.07-.29.06-.29.05-.29.05-.3.04-.3.04-.3.03-.3.03-.3.02-.3.02h-.3l-.3.01H48.51l19.02 5.25.13.04.11.04.11.04.11.05.11.06.1.06.1.06.1.07.09.07.09.08.09.08.08.09.08.09.08.1.07.1.07.1.06.1.05.11.05.11.04.11.04.11.03.12.03.11.02.12.02.12v.12l.02.12v.36l-.02.12-.02.12-.02.12-.03.12-.03.11-.04.12-.04.11-.05.11-.05.1-.06.11-.07.1-.07.1-.08.09-.08.09-.08.09-.09.08-.09.08-.09.07-.1.07-.1.07-.1.06-.11.05-.11.05-.11.05-.11.04-.11.04-.11.03-.11.03-.12.02h-.11l-.12.03h-.12" style="fill:#160f26;stroke-width:0"></path><path d="M79.67 66.55v-.27l-.03-.27-.03-.28-.03-.27-.04-.27-.04-.27-.05-.27-.05-.27-.06-.27-.07-.26-.07-.27-.08-.27-.08-.26-.09-.26-.1-.26-.1-.25-.11-.26-.11-.25-.11-.25-.12-.25-.13-.24-.13-.24-.14-.24-.14-.24-.14-.23-.15-.23-.16-.22-.16-.22-.17-.22-.17-.21-.18-.21-.18-.2-.18-.2-.19-.2-.19-.2-.2-.19-.2-.19-.2-.18-.21-.18-.21-.18h-.01l-.3.17-.26.15-.27.15-.04.02.07.13.1.2.09.2.08.2.09.2.07.2.07.21.07.21.06.21.06.21.05.21.04.21.04.22.03.22.03.21.02.22v.22l.02.22v.65l-.02.22-.02.21-.03.22-.03.21-.04.21-.04.22-.05.21-.06.21-.06.21-.07.21-.07.21-.07.2-.09.2-.08.2-.09.2-.1.2-.11.19-.11.19-.11.19-.12.19-.12.18-.12.18-.13.18-.14.17-.14.17-.15.16-.15.16-.15.16-.16.15-.16.15-.17.14-.17.13-.17.13-.18.13-.18.12-.18.12-.18.12-.19.11-.19.1-.19.1-.2.09-.2.09-.2.08-.2.08-.21.07-.21.07-.21.06-.21.05-.21.05-.21.04-.21.04-.22.03-.22.03-.22.02h-.22l-.22.03H0V80h67.38l.27-.02.27-.02.27-.02.27-.03.27-.04.27-.04.27-.05.27-.06.26-.06.26-.06.26-.07.26-.08.26-.08.26-.09.26-.09.25-.1.25-.1.25-.11.25-.12.24-.12.25-.12.24-.13.24-.13.23-.14.23-.15.23-.15.22-.16.22-.16.22-.16.21-.17.21-.18.21-.18.2-.18.2-.19.2-.19.19-.19.19-.2.18-.2.18-.21.18-.21.17-.21.17-.22.16-.22.16-.22.15-.23.14-.23.14-.24.14-.24.13-.24.13-.24.12-.25.11-.25.11-.25.11-.25.1-.25.1-.26.09-.26.08-.26.08-.26.07-.26.07-.27.06-.27.05-.27.05-.27.04-.27.04-.27.03-.27.03-.27.02-.28v-.27l.03-.27v-.83Z" style="fill:#3d95fd;stroke-width:0"></path><path d="M.01 13.45v.28l.03.27.03.28.03.27.04.27.04.27.05.27.05.27.06.27.07.27.07.26.08.27.09.26.09.26.1.26.1.25.11.26.11.25.11.25.12.24.13.24.13.24.13.24.14.24.14.23.15.23.16.23.16.22.17.22.17.21.17.21.18.2.18.2.19.2.19.2.19.19.2.19.2.18.21.18.21.17.3-.17.26-.15.27-.15.04-.02-.07-.13-.1-.2-.09-.2-.09-.2-.08-.2-.08-.2-.07-.2-.06-.21-.06-.21-.05-.21-.05-.21-.04-.21-.04-.22-.03-.22-.03-.21-.02-.22-.02-.22v-.88l.02-.22.02-.21.03-.22.03-.21.04-.22.04-.21.05-.21.05-.21.06-.21.06-.21.07-.21.08-.2.08-.2.09-.2.09-.2.1-.19.11-.2.11-.19.11-.19.12-.18.12-.18.12-.18.14-.18.13-.17.14-.17.14-.16.15-.16.15-.15.16-.15.16-.14.16-.14.17-.14.18-.13.18-.13.18-.12.18-.12.19-.12.18-.11.19-.1.19-.1.2-.09.2-.09.2-.08.21-.08.2-.07.21-.07.21-.06.21-.05.21-.05.21-.04.22-.04.22-.03.21-.03.22-.02.22-.02h67.27V0H12.31l-.27.03-.27.02-.27.02-.27.03-.27.04-.27.04-.27.05-.27.05-.26.06-.26.06-.26.07-.26.08-.26.08-.26.09-.26.09-.26.1-.25.1-.25.11-.25.12-.25.12-.24.13-.24.13-.24.13-.24.14-.23.15-.23.15-.22.16-.22.16-.22.17-.21.17-.21.18-.21.18-.2.18-.2.19-.19.19-.19.2-.19.2-.18.2-.18.21-.17.21-.17.21-.17.22-.16.22-.16.22-.15.23-.14.23-.14.23-.13.24-.13.24-.13.24-.12.25-.11.25-.11.25-.11.25-.1.25-.1.26-.09.26-.09.26-.08.26-.07.27-.07.27-.06.27-.05.27-.05.27-.04.27-.04.27-.03.27-.03.27-.02.28v.27l-.03.27v.82Z" style="fill:#0dc09d;stroke-width:0"></path></g><path d="M115.57 65.34H95.13v-8.07h20.44c3.17 0 5.6-.61 7.32-1.85 1.71-1.23 2.57-2.82 2.57-4.77s-.81-3.37-2.42-4.28c-1.62-.91-4.01-1.65-7.17-2.24l-3.3-.58c-3.23-.58-6.17-1.43-8.82-2.53s-4.75-2.63-6.3-4.57c-1.55-1.95-2.33-4.44-2.33-7.49 0-4.54 1.68-8.06 5.04-10.55 3.36-2.5 7.82-3.74 13.37-3.74h19.96v8.17h-19.96c-2.71 0-4.84.5-6.39 1.51-1.55 1-2.33 2.42-2.33 4.23 0 1.95.76 3.37 2.28 4.28q2.28 1.365 6.15 2.04l3.39.58c3.42.58 6.56 1.4 9.4 2.43 2.84 1.04 5.09 2.53 6.74 4.47 1.65 1.95 2.47 4.54 2.47 7.78 0 4.8-1.78 8.53-5.33 11.19q-5.325 3.99-14.34 3.99M238.44 79.99v-22.5h-1.55c-.71 1.3-1.74 2.55-3.1 3.74-1.36 1.2-3.09 2.19-5.18 2.97q-3.15 1.17-7.8 1.17c-4.01 0-7.69-.97-11.05-2.92s-6.04-4.75-8.04-8.42c-2-3.66-3-8.09-3-13.28v-1.46c0-5.19 1.02-9.61 3.05-13.28 2.03-3.66 4.73-6.47 8.09-8.42s7.01-2.92 10.95-2.92c4.65 0 8.22.84 10.71 2.53s4.34 3.6 5.57 5.74h1.55v-8.27h9.79v65.3h-9.98Zm-14.82-23.38c4.39 0 7.98-1.4 10.75-4.18s4.17-6.78 4.17-11.96v-.88c0-5.12-1.41-9.08-4.21-11.87-2.81-2.79-6.38-4.18-10.71-4.18s-7.8 1.4-10.61 4.18c-2.81 2.79-4.21 6.75-4.21 11.87v.88c0 5.19 1.4 9.18 4.21 11.96 2.81 2.79 6.35 4.18 10.61 4.18M190.43 39.01c0-4.86-.97-9.11-2.91-12.74s-4.64-6.47-8.09-8.51c-3.46-2.04-7.48-3.07-12.06-3.07s-8.85 1.04-12.4 3.11a22.3 22.3 0 0 0-4.76 3.72c-.18.18-.35.36-.52.55-.51.56-.98 1.15-1.44 1.77-.6.82-1.16 1.7-1.67 2.62-2.03 3.7-3.05 8.04-3.05 13.04v1.17c0 5 1.02 9.34 3.05 13.04s4.86 6.57 8.48 8.61c3.61 2.04 7.85 3.07 12.69 3.07 4.26 0 7.82-.68 10.66-2.04s5.1-3.05 6.78-5.06q.705-.84 1.32-1.65c1.07-1.41 1.96-2.77 2.65-4.09l-8.33-4.28c-1.03 2.21-2.51 4.15-4.41 5.84-1.91 1.69-4.73 2.53-8.48 2.53-4.01 0-7.35-1.25-10.03-3.74-.17-.16-.33-.31-.48-.48-.16-.17-.31-.33-.46-.5-.36-.41-.69-.84-.99-1.3-1.3-1.96-2.05-4.3-2.24-7.01-.02-.26-.03-.52-.04-.78h36.72v-3.8Zm-30.04-3.89-5.1 5.12h-1.68c-.03-1.48 0-3.37.19-5.12.1-.67.22-1.31.39-1.93.16-.62.35-1.21.58-1.77.75-1.88 1.87-3.47 3.34-4.77 2.36-2.08 5.41-3.11 9.16-3.11s6.78 1.04 9.11 3.11c2.33 2.08 3.65 4.9 3.97 8.46h-19.96ZM303.6 39.01c0-4.86-.97-9.11-2.91-12.74s-4.64-6.47-8.09-8.51c-3.46-2.04-7.48-3.07-12.06-3.07s-8.85 1.04-12.4 3.11a22.3 22.3 0 0 0-4.76 3.72c-.17.18-.35.36-.52.55q-.765.84-1.44 1.77c-.6.82-1.16 1.7-1.67 2.62-2.03 3.7-3.05 8.04-3.05 13.04v1.17c0 5 1.02 9.34 3.05 13.04s4.86 6.57 8.48 8.61c3.61 2.04 7.85 3.07 12.69 3.07 4.26 0 7.81-.68 10.66-2.04 2.84-1.36 5.1-3.05 6.78-5.06q.705-.84 1.32-1.65c1.07-1.41 1.96-2.77 2.66-4.09l-8.33-4.28c-1.03 2.21-2.51 4.15-4.41 5.84-1.91 1.69-4.73 2.53-8.48 2.53-4.01 0-7.35-1.25-10.03-3.74-.17-.16-.33-.31-.48-.48-.16-.17-.31-.33-.46-.5-.36-.41-.69-.84-.99-1.3-1.3-1.96-2.05-4.3-2.24-7.01-.02-.26-.03-.52-.04-.78h36.73v-3.8Zm-30.04-3.89-5.1 5.12h-1.68c-.03-1.48 0-3.37.19-5.12.1-.67.22-1.31.39-1.93.16-.62.35-1.21.58-1.77.75-1.88 1.87-3.47 3.34-4.77 2.36-2.08 5.41-3.11 9.16-3.11s6.78 1.04 9.11 3.11c2.33 2.08 3.65 4.9 3.97 8.46h-19.96ZM312.21 65.37V14.69H322v5.64h1.55c.77-2.01 2.02-3.48 3.73-4.43s3.83-1.41 6.35-1.41h5.72v9.05h-6.1c-3.23 0-5.88.89-7.95 2.68s-3.1 4.52-3.1 8.22v30.93h-9.98ZM386.21 32.86c0-5.86-1.78-10.39-5.35-13.58s-8.47-4.79-14.7-4.79c-4.09 0-7.54.65-10.36 1.96s-5.09 3.03-6.81 5.18-2.97 4.5-3.75 7.03l9.34 3.03c.58-2.6 1.78-4.72 3.6-6.35s4.44-2.44 7.88-2.44 6.1.86 7.79 2.59c1.69 1.72 2.53 3.96 2.53 6.69v8.33h-1.62l-5.19-5.21h-7.79c-5.26 0-9.62 1.25-13.09 3.76s-5.21 6.2-5.21 11.09c0 3.26.8 6.02 2.38 8.3 1.59 2.28 3.73 4.01 6.42 5.18 2.7 1.17 5.76 1.76 9.19 1.76s5.97-.47 7.98-1.42c2.01-.94 3.54-2.05 4.57-3.32 1.04-1.27 1.81-2.43 2.34-3.47h1.56v8.21h8.27V32.85Zm-9.83 11.24c0 4.04-1.25 7.22-3.75 9.53-2.49 2.31-5.72 3.47-9.68 3.47-2.92 0-5.22-.65-6.91-1.96s-2.53-3.06-2.53-5.28.81-3.89 2.43-5.03c1.63-1.14 3.76-1.71 6.42-1.71h14.01v.98Z" style="fill:#160f26;stroke-width:0"></path></g></svg>'),$("#mqc_anonymize_samples_switch").show(),$("#ai_context_window_group").hide();else if("clipboard"===t)$(".ai-generate-button-wrapper").hide(),$(".ai-copy-button-wrapper").show(),$("#ai_model_group").hide(),$("#ai_api_key_group").hide(),$("#ai_provider_info").html("Copy AI LLM prompt, including report data, to the clipboard. For use with any 3rd party AI tools."),$("#ai_endpoint_group").hide(),$("#ai_query_options_group").hide(),$("#ai_provider_logo").html(""),$("#mqc_anonymize_samples_switch").show(),$("#ai_context_window_group").hide();else if("none"===t)$(".ai-generate-button-wrapper").hide(),$(".ai-copy-button-wrapper").hide(),$("#ai_provider_info").html("Remove 'Summarize' buttons from report if you're not going to use AI summaries."),$("#ai_provider_logo").html(""),$("#ai_model_group").hide(),$("#ai_api_key_group").hide(),$("#ai_endpoint_group").hide(),$("#ai_query_options_group").hide(),$("#mqc_anonymize_samples_switch").hide(),$("#ai_context_window_group").hide();else{if($(".ai-generate-button-wrapper").show(),$(".ai-copy-button-wrapper").hide(),$("#ai_provider_info").html(""),$("#ai_provider_logo").html(""),$("#ai_model_group").show(),$("#ai_api_key_group").show(),$("#mqc_anonymize_samples_switch").show(),"custom"===t)$("#ai_endpoint_group").show(),$("#ai_query_options_group").show(),$("#ai_context_window_group").show(),n='<span id="ai_api_key_info_required">Field is required.</span></a>',$("#ai_model_info").hide(),$("#ai_api_key_info").hide();else{$("#ai_endpoint_group").hide(),$("#ai_query_options_group").hide(),$("#ai_context_window_group").hide(),n=`<span id="ai_api_key_info_required">Field is required.</span> You can find your API key in the <a style='text-decoration: underline;' href='${e.apiKeysUrl}' target='_blank'>${e.name} console</a>`;let t=e.suggestedModels||[];i=`You can find the available models for ${e.name} in the <a style='text-decoration: underline;' href='${e.modelsUrl}' target='_blank'>${e.name} documentation</a>.`,t.length>0&&(i+=" For example: ",i+=t.map(t=>`<a href="#" class="ai-model-suggestion" data-model="${t}"><code>${t}</code></a>`).join(", ")),$("#ai_model_info").html(i).show(),$("#ai_api_key_info").html(n).show()}const s=Uo(t),o=e.defaultModel;$("#ai-model").val(s||o),"openai"===t?$("#ai_provider_logo").html('<svg width="112" viewBox="0 0 1180 320" xmlns="http://www.w3.org/2000/svg"><path d="m367.44 153.84c0 52.32 33.6 88.8 80.16 88.8s80.16-36.48 80.16-88.8-33.6-88.8-80.16-88.8-80.16 36.48-80.16 88.8zm129.6 0c0 37.44-20.4 61.68-49.44 61.68s-49.44-24.24-49.44-61.68 20.4-61.68 49.44-61.68 49.44 24.24 49.44 61.68z"/><path d="m614.27 242.64c35.28 0 55.44-29.76 55.44-65.52s-20.16-65.52-55.44-65.52c-16.32 0-28.32 6.48-36.24 15.84v-13.44h-28.8v169.2h28.8v-56.4c7.92 9.36 19.92 15.84 36.24 15.84zm-36.96-69.12c0-23.76 13.44-36.72 31.2-36.72 20.88 0 32.16 16.32 32.16 40.32s-11.28 40.32-32.16 40.32c-17.76 0-31.2-13.2-31.2-36.48z"/><path d="m747.65 242.64c25.2 0 45.12-13.2 54-35.28l-24.72-9.36c-3.84 12.96-15.12 20.16-29.28 20.16-18.48 0-31.44-13.2-33.6-34.8h88.32v-9.6c0-34.56-19.44-62.16-55.92-62.16s-60 28.56-60 65.52c0 38.88 25.2 65.52 61.2 65.52zm-1.44-106.8c18.24 0 26.88 12 27.12 25.92h-57.84c4.32-17.04 15.84-25.92 30.72-25.92z"/><path d="m823.98 240h28.8v-73.92c0-18 13.2-27.6 26.16-27.6 15.84 0 22.08 11.28 22.08 26.88v74.64h28.8v-83.04c0-27.12-15.84-45.36-42.24-45.36-16.32 0-27.6 7.44-34.8 15.84v-13.44h-28.8z"/><path d="m1014.17 67.68-65.28 172.32h30.48l14.64-39.36h74.4l14.88 39.36h30.96l-65.28-172.32zm16.8 34.08 27.36 72h-54.24z"/><path d="m1163.69 68.18h-30.72v172.32h30.72z"/><path d="m297.06 130.97c7.26-21.79 4.76-45.66-6.85-65.48-17.46-30.4-52.56-46.04-86.84-38.68-15.25-17.18-37.16-26.95-60.13-26.81-35.04-.08-66.13 22.48-76.91 55.82-22.51 4.61-41.94 18.7-53.31 38.67-17.59 30.32-13.58 68.54 9.92 94.54-7.26 21.79-4.76 45.66 6.85 65.48 17.46 30.4 52.56 46.04 86.84 38.68 15.24 17.18 37.16 26.95 60.13 26.8 35.06.09 66.16-22.49 76.94-55.86 22.51-4.61 41.94-18.7 53.31-38.67 17.57-30.32 13.55-68.51-9.94-94.51zm-120.28 168.11c-14.03.02-27.62-4.89-38.39-13.88.49-.26 1.34-.73 1.89-1.07l63.72-36.8c3.26-1.85 5.26-5.32 5.24-9.07v-89.83l26.93 15.55c.29.14.48.42.52.74v74.39c-.04 33.08-26.83 59.9-59.91 59.97zm-128.84-55.03c-7.03-12.14-9.56-26.37-7.15-40.18.47.28 1.3.79 1.89 1.13l63.72 36.8c3.23 1.89 7.23 1.89 10.47 0l77.79-44.92v31.1c.02.32-.13.63-.38.83l-64.41 37.19c-28.69 16.52-65.33 6.7-81.92-21.95zm-16.77-139.09c7-12.16 18.05-21.46 31.21-26.29 0 .55-.03 1.52-.03 2.2v73.61c-.02 3.74 1.98 7.21 5.23 9.06l77.79 44.91-26.93 15.55c-.27.18-.61.21-.91.08l-64.42-37.22c-28.63-16.58-38.45-53.21-21.95-81.89zm221.26 51.49-77.79-44.92 26.93-15.54c.27-.18.61-.21.91-.08l64.42 37.19c28.68 16.57 38.51 53.26 21.94 81.94-7.01 12.14-18.05 21.44-31.2 26.28v-75.81c.03-3.74-1.96-7.2-5.2-9.06zm26.8-40.34c-.47-.29-1.3-.79-1.89-1.13l-63.72-36.8c-3.23-1.89-7.23-1.89-10.47 0l-77.79 44.92v-31.1c-.02-.32.13-.63.38-.83l64.41-37.16c28.69-16.55 65.37-6.7 81.91 22 6.99 12.12 9.52 26.31 7.15 40.1zm-168.51 55.43-26.94-15.55c-.29-.14-.48-.42-.52-.74v-74.39c.02-33.12 26.89-59.96 60.01-59.94 14.01 0 27.57 4.92 38.34 13.88-.49.26-1.33.73-1.89 1.07l-63.72 36.8c-3.26 1.85-5.26 5.31-5.24 9.06l-.04 89.79zm14.63-31.54 34.65-20.01 34.65 20v40.01l-34.65 20-34.65-20z"/></svg>'):"anthropic"===t?$("#ai_provider_logo").html('<svg width="112" version="1.1" id="Layer_1" xmlns:x="ns_extend;" xmlns:i="ns_ai;" xmlns:graph="ns_graphs;" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" viewBox="0 0 578.9 65" style="enable-background:new 0 0 578.9 65;" xml:space="preserve"><style type="text/css">.st0{fill:#181818;}</style><metadata><sfw xmlns="ns_sfw;"><slices></slices><sliceSourceBounds bottomLeftOrigin="true" height="65" width="578.9" x="-307.7" y="-207.8"></sliceSourceBounds></sfw></metadata><g><g transform="matrix(1,0,0,1,0,0)"><g transform="matrix(1,0,0,1,18.299999237060547,0.27000001072883606)"><g transform="matrix(1,0,0,1,0,0)"><path class="st0" d="M99.6,44.8l-28.3-44H56v62.8h13v-44l28.3,44h15.3V0.8h-13V44.8L99.6,44.8z"></path></g></g></g><g transform="matrix(1,0,0,1,0,0)"><g transform="matrix(1,0,0,1,34.869998931884766,0.27000001072883606)"><g transform="matrix(1,0,0,1,0,0)"><path class="st0" d="M106.8,12.9h21.1v50.7h13.5V12.9h21.1V0.8h-55.7V12.9L106.8,12.9z"></path></g></g></g><g transform="matrix(1,0,0,1,0,0)"><g transform="matrix(1,0,0,1,51.22999954223633,0.27000001072883606)"><g transform="matrix(1,0,0,1,0,0)"><path class="st0" d="M200,25.9h-29.6v-25h-13.5v62.8h13.5V38H200v25.7h13.5V0.8H200V25.9L200,25.9z"></path></g></g></g><g transform="matrix(1,0,0,1,0,0)"><g transform="matrix(1,0,0,1,69.23999786376953,0.27000001072883606)"><g transform="matrix(1,0,0,1,0,0)"><path class="st0" d="M225.5,12.9h16.6c6.6,0,10.1,2.4,10.1,7c0,4.6-3.5,7-10.1,7h-16.6V12.9L225.5,12.9z M265.7,20c0-11.9-8.7-19.1-23-19.1H212v62.8h13.5V39.1h15L254,63.7h14.9L254,37.2C261.5,34.3,265.7,28.3,265.7,20L265.7,20z"></path></g></g></g><g transform="matrix(1,0,0,1,0,0)"><g transform="matrix(1,0,0,1,84.98999786376953,0)"><g transform="matrix(1,0,0,1,0,0)"><path class="st0" d="M291.2,52.4c-10.6,0-17.1-7.5-17.1-19.8c0-12.5,6.5-20,17.1-20c10.5,0,16.9,7.5,16.9,20C308.1,44.9,301.7,52.4,291.2,52.4L291.2,52.4z M291.2,0c-18.1,0-31,13.5-31,32.6c0,18.9,12.8,32.4,31,32.4c18,0,30.8-13.5,30.8-32.4C322,13.5,309.3,0,291.2,0L291.2,0z"></path></g></g></g><g transform="matrix(1,0,0,1,0,0)"><g transform="matrix(1,0,0,1,103.29000091552734,0.27000001072883606)"><g transform="matrix(1,0,0,1,0,0)"><path class="st0" d="M346.4,28.7h-16.6V12.9h16.6c6.6,0,10.1,2.7,10.1,7.9S353.1,28.7,346.4,28.7L346.4,28.7z M347,0.8h-30.7v62.8h13.5V40.9H347c14.3,0,23-7.5,23-20C370,8.4,361.3,0.8,347,0.8L347,0.8z"></path></g></g></g><g transform="matrix(1,0,0,1,0,0)"><g transform="matrix(1,0,0,1,128.0399932861328,0)"><g transform="matrix(1,0,0,1,0,0)"><path class="st0" d="M436.5,42.8c-2.3,6.1-7,9.6-13.4,9.6c-10.6,0-17.1-7.5-17.1-19.8c0-12.5,6.5-20,17.1-20c6.4,0,11,3.5,13.4,9.6h14.3C447.2,8.7,436.7,0,423.1,0c-18.1,0-31,13.5-31,32.6c0,18.9,12.8,32.4,31,32.4c13.7,0,24.2-8.8,27.7-22.2H436.5L436.5,42.8z"></path></g></g></g><g transform="matrix(1,0,0,1,0,0)"><g transform="matrix(1,0,0,1,117.83000183105469,0.27000001072883606)"><g transform="matrix(1,0,0,1,0,0)"><path class="st0" d="M360.9,0.8l25.1,62.8h13.7L374.6,0.8H360.9L360.9,0.8z"></path></g></g></g><g transform="matrix(1,0,0,1,0,0)"><g transform="matrix(1,0,0,1,0,0.27000001072883606)"><g transform="matrix(1,0,0,1,0,0)"><path class="st0" d="M23.7,38.8l8.6-22.1l8.6,22.1H23.7L23.7,38.8z M25.1,0.8L0,63.7h14l5.1-13.2h26.2l5.1,13.2h14L39.4,0.8H25.1L25.1,0.8z"></path></g></g></g></g></svg>'):$("#ai_provider_logo").html("")}}function Vo(t){return Ro(`mqc_ai_key_${t}`)}function Uo(t){return Ro(`mqc_ai_model_${t}`)}function Yo(){const t=Ro("mqc_ai_anonymize_samples");return null===t?null:"true"===t}function Jo(t){Bo("mqc_ai_anonymize_samples",t.toString())}$(function(){const t=$("#ai-provider");t.empty(),Object.entries(Eo).forEach(([e,i])=>{let n=$("<optgroup>",{label:e});i.forEach(t=>{n.append($("<option>",{value:t,text:So[t].name}))}),t.append(n)});const e=function(){let t=Ro("mqc_ai_provider");return t&&So[t]?t:null}()||aiConfigProviderId||"seqera";t.val(e);const i=So[e];$("#ai-api-key").val(Vo(e)||"");let n=Uo(e);null===n&&"None"!==aiConfigModel&&(n=aiConfigModel),null===n&&i.defaultModel&&(n=i.defaultModel),$("#ai-model").val(n);let s=Ro("mqc_ai_endpoint");null===s&&(s=aiConfigCustomEndpoint),$("#ai-endpoint").val(s);let o=function(){let t=Ro("mqc_ai_query_options");if(t)try{return JSON.parse(t)}catch(e){return console.error("Error parsing extra query options",e),null}return null}();null===o&&(o=aiConfigExtraQueryOptions),$("#ai-query-options").val(JSON.stringify(o));let a=Ro("mqc_ai_context_window");if(null===a&&"None"!==aiConfigCustomContextWindow)try{a=parseInt(aiConfigCustomContextWindow)}catch{}a=a??128e3,$("#ai-context-window").val(a),Wo(e),t.change(function(){const t=$(this).val();!function(t){Bo("mqc_ai_provider",t)}(t);const e=Vo(t);$("#ai-api-key").val(e||""),Wo(t)}),$("#ai-model").change(function(){!function(t,e){Bo(`mqc_ai_model_${t}`,e)}($("#ai-provider").val(),$(this).val())}),$("#ai-endpoint").change(function(){!function(t){Bo("mqc_ai_endpoint",t)}($(this).val())}),$("#ai-api-key").change(function(){!function(t,e){Bo(`mqc_ai_key_${t}`,e)}($("#ai-provider").val(),$(this).val())}),$("#ai-query-options").change(function(){const t=$(this).val()||"{}";try{let i=JSON.parse(t);e=i,Bo("mqc_ai_query_options",JSON.stringify(e))}catch{}var e}),$("#ai-model, #ai-endpoint, #ai-api-key").blur(function(){$(this).trigger("change")}),$(".ai-model-suggestion").click(function(t){t.preventDefault();const e=$(this).data("model");$("#ai-model").val(e).trigger("change")});(Yo()??"true"===aiAnonymizeSamples)&&$(".mqc_switch.anonymize_samples").removeClass("off").addClass("on").text("on"),$(".mqc_switch_wrapper.mqc_anonymize_samples").click(function(t){t.preventDefault();const e=$(this).find(".mqc_switch");e.hasClass("on")?(e.removeClass("on").addClass("off").text("off"),Jo(!1)):(e.removeClass("off").addClass("on").text("on"),Jo(!0))})}),$(function(){const t=document.cookie.split("; ").find(t=>t.startsWith("jwt="));if(t){const e=t.split("=")[1];Bo(`mqc_ai_key_${provider}`,e)}}),window.getStoredSampleAnonymizationEnabled=Yo;let Qo=class extends Plot{constructor(t){super(t),this.filteredSettings=[]}activeDatasetSize(){if(0===this.datasets.length)return 0;let t=this.datasets[this.activeDatasetIdx].cats;return 0===t.length?0:t[0].data.length}prepData(t){let e=(t=t??this.datasets[this.activeDatasetIdx]).cats,i=t.samples,n=applyToolboxSettings(i);return this.filteredSettings=n.filter(t=>!t.hidden),e=e.map(t=>({data:(this.pActive?t.data_pct:t.data).filter((t,e)=>!n[e].hidden),color:t.color,name:t.name})),[e]}plotAiHeader(){let t=super.plotAiHeader();return this.pconfig.ylab&&(t+=`Values: ${this.pconfig.ylab}\n`),t}formatDatasetForAiPrompt(t){let e="",i=t.cats,n=t.samples,s=applyToolboxSettings(n);if(s.every(t=>t.hidden))return e+="All samples are hidden by user, so no data to analyse. Please inform user to use the toolbox to unhide samples.\n",e;e+="|Sample|"+i.map(t=>t.name).join("|")+"|\n",e+="|---|"+i.map(()=>"---").join("|")+"|\n";let o="";return this.pActive?(o+="%",this.layout.xaxis.ticksuffix&&"%"!==this.layout.xaxis.ticksuffix&&(o+=" "+this.layout.xaxis.ticksuffix)):this.layout.xaxis.ticksuffix&&(o+=" "+this.layout.xaxis.ticksuffix),s.forEach((t,n)=>{t.hidden||(e+=`|${t.pseudonym??t.name}|`+i.map(t=>{let e=this.pActive?t.data_pct[n]:t.data[n];return e=Number.isFinite(e)?Number.isInteger(e)?e:parseFloat(e.toFixed(2)):"",""!==e&&o&&(e+=o),e}).join("|")+"|\n")}),e}resize(t){this.layout.height=t;const e=(this.layout.height-140)/12;this.recalculateTicks(this.filteredSettings,this.layout.yaxis,e),super.resize(t)}buildTraces(){let[t]=this.prepData();if(0===t.length||0===this.filteredSettings.length)return[];const e=(this.layout.height-140)/12;this.recalculateTicks(this.filteredSettings,this.layout.yaxis,e);let i=this.filteredSettings.filter(t=>t.highlight),n=this.firstHighlightedSample(this.filteredSettings),s=this.datasets[this.activeDatasetIdx].trace_params;return t.map(t=>{if("group"!==this.layout.barmode)return this.filteredSettings.map((e,o)=>{let a=JSON.parse(JSON.stringify(s)),r=i.length>0&&null===e.highlight?.1:1;return a.marker.color="rgba("+t.color+","+r+")",{type:"bar",x:[t.data[o]],y:[e.name],name:t.name,meta:t.name,showlegend:o===n,legendgroup:t.name,...a}});{let e=JSON.parse(JSON.stringify(s)),i=this.filteredSettings.map(t=>t.name);return e.marker.color="rgb("+t.color+")",{type:"bar",x:t.data,y:i,name:t.name,meta:t.name,...e}}})}exportData(t){let[e]=this.prepData(),i="tsv"===t?"\t":",",n="Sample"+i+e.map(t=>t.name).join(i)+"\n";for(let s=0;s<this.filteredSettings.length;s++)n+=this.filteredSettings[s].name+i+e.map(t=>t.data[s]).join(i)+"\n";return n}};window.BarPlot=Qo;let Xo=class extends Plot{constructor(t){super(t),this.filteredSettings=[]}activeDatasetSize(){return 0===this.datasets.length?0:this.datasets[this.activeDatasetIdx].samples.length}prepData(t){let e=(t=t??this.datasets[this.activeDatasetIdx]).data,i=t.samples,n=applyToolboxSettings(i);return this.filteredSettings=n.filter(t=>!t.hidden),i=this.filteredSettings.map(t=>t.name),e=e.filter((t,e)=>!n[e].hidden),[e,i]}formatDatasetForAiPrompt(t){let e="",[i,n]=this.prepData(t);if(0===n.length)return"All samples are hidden by user, so no data to analyse. Please inform user to use the toolbox to unhide samples.\n";e+="|Sample|Min|Q1|Median|Q3|Max|Mean|\n",e+="|---|---|---|---|---|---|---|\n";const s=this.layout.xaxis.ticksuffix?" "+this.layout.xaxis.ticksuffix:"";return n.forEach((t,n)=>{const o=i[n].filter(t=>Number.isFinite(t)).sort((t,e)=>t-e);if(0===o.length)return;let a=o.length,r=o[0],l=o[a-1],c=a%2==1?o[Math.floor(a/2)]:(o[a/2-1]+o[a/2])/2,h=a>=4?o[Math.floor(a/4)]:o[0],d=a>=4?o[Math.floor(3*a/4)]:o[a-1],m=o.reduce((t,e)=>t+e,0)/a,p=t=>{if(!Number.isFinite(t))return"";return(Number.isInteger(t)?t:parseFloat(t.toFixed(2)))+s};e+=`|${anonymizeSampleName(t)}|${p(r)}|${p(h)}|${p(c)}|${p(d)}|${p(l)}|${p(m)}|\n`}),e}resize(t){this.layout.height=t;const e=(this.layout.height-140)/12;this.recalculateTicks(this.filteredSettings,this.layout.yaxis,e),super.resize(t)}buildTraces(){let[t,e]=this.prepData();if(0===t.length||0===e.length)return[];const i=(this.layout.height-140)/12;this.recalculateTicks(this.filteredSettings,this.layout.yaxis,i);let n=this.filteredSettings.filter(t=>t.highlight),s=this.datasets[this.activeDatasetIdx].trace_params;return this.filteredSettings.map((e,i)=>{let o=JSON.parse(JSON.stringify(s));return void 0!==mqc_config.boxplot_boxpoints&&(o.boxpoints=mqc_config.boxplot_boxpoints),n.length>0&&(null!==e.highlight?o.marker.color=e.highlight:o.marker.color="grey"),{type:"box",x:t[i],name:e.name,...o}})}exportData(t){let[e,i]=this.prepData(),n="tsv"===t?"\t":",",s="";for(let o=0;o<e.length;o++)s+=i[o]+n+e[o].join(n)+"\n";return s}};window.BoxPlot=Xo;let Ko=class extends Plot{activeDatasetSize(){return 0===this.datasets.length?0:this.datasets[this.activeDatasetIdx].lines.length}prepData(t){let e=(t=t??this.datasets[this.activeDatasetIdx]).lines,i=e.map(t=>t.name),n=applyToolboxSettings(i);return this.filtSampleSettings=n.filter(t=>!t.hidden),e=e.filter((t,e)=>!n[e].hidden),e=e.map((t,e)=>(t.highlight=n[e].highlight,t.pseudonym=n[e].pseudonym,t)),[i,e]}plotAiHeader(){let t=super.plotAiHeader();return this.pconfig.xlab&&(t+=`X axis: ${this.pconfig.xlab}\n`),this.pconfig.ylab&&(t+=`Y axis: ${this.pconfig.ylab}\n`),t}formatDatasetForAiPrompt(t){let[e,i]=this.prepData(t);if(0===e.length)return"All samples are hidden by user, so no data to analyse. Please inform user to use the toolbox to unhide samples.\n";const n=this.layout.xaxis.ticksuffix||"",s=this.layout.yaxis.ticksuffix||"";let o="Samples: "+e.join(", ")+"\n\n";s&&(o+=`Y values are in ${s}\n\n`),n&&(o+=`X values are in ${n}\n\n`);return o+"\n\n"+i.map(t=>({name:t.pseudonym??t.name,pairs:t.pairs.map(t=>t.map((t,e)=>Number.isFinite(t)?Number.isInteger(t)?t:parseFloat(t.toFixed(2)):""))})).map(t=>t.name+" "+t.pairs.map(t=>t.join(": ")).join(", ")).join("\n\n")}buildTraces(){let t=this.datasets[this.activeDatasetIdx],[e,i]=this.prepData();if(0===i.length||0===e.length)return[];let n=i.filter(t=>t.highlight),s=i.filter(t=>!t.highlight);return i=s.concat(n),i.map(e=>{let i=e.color;n.length>0&&(i=e.highlight??"#cccccc");let s={line:{color:i,dash:e.dash,width:e.width},marker:{color:i},showlegend:e.showlegend??null,mode:e.mode??null},o=e.marker??null;return o&&(s.mode="lines+markers",s.marker={symbol:o.symbol,color:o.fill_color??o.color??i,line:{width:o.width,color:o.line_color??o.color??i}}),updateObject(s,t.trace_params,!0),{type:"scatter",x:e.pairs.map(t=>t[0]),y:e.pairs.map(t=>t[1]),name:e.name,text:e.pairs.map(()=>e.name),...s}})}exportData(t){let[e,i]=this.prepData(),n=!0,s=null;i.forEach(t=>{let e;e=t.pairs.map(t=>t[0]),null===s?s=e:(s.length!==e.length||s.some((t,i)=>t!==e[i]))&&(n=!1)});let o="tsv"===t?"\t":",",a="";return n?(a+="Sample"+o+s.join(o)+"\n",i.forEach(t=>{a+=t.name+o+t.pairs.map(t=>t[1]).join(o)+"\n"})):i.forEach(t=>{a+=t.name+o+"X"+o+t.pairs.map(t=>t[0]).join(o)+"\n",a+=t.name+o+"Y"+o+t.pairs.map(t=>t[1]).join(o)+"\n"}),a}};window.LinePlot=Ko;let Zo=class extends Plot{activeDatasetSize(){return 0===this.datasets.length?0:this.datasets[this.activeDatasetIdx].points}prepData(t){let e=(t=t??this.datasets[this.activeDatasetIdx]).points,i=e.map(t=>t.name),n=applyToolboxSettings(i);return e=e.map((t,e)=>{if(t.pseudonym=n[e].pseudonym,t.name=n[e].name??t.name,t.highlight=n[e].highlight,!n[e].hidden)return t}),[i,e]}plotAiHeader(){let t=super.plotAiHeader();return this.pconfig.xlab&&(t+=`X axis: ${this.pconfig.xlab}\n`),this.pconfig.ylab&&(t+=`Y axis: ${this.pconfig.ylab}\n`),this.pconfig.categories&&(t+=`X categories: ${this.pconfig.categories.join(", ")}\n`),t}formatDatasetForAiPrompt(t){let[e,i]=this.prepData(t,!0);if(0===e.length)return"All samples are hidden by user, so no data to analyse. Please inform user to use the toolbox to unhide samples.\n";const n=this.layout.xaxis.ticksuffix,s=this.layout.yaxis.ticksuffix;return i=i.map(t=>({name:t.name,x:Number.isFinite(t.x)?(Number.isInteger(t.x)?t.x:parseFloat(t.x.toFixed(2)))+(n??""):"",y:Number.isFinite(t.y)?(Number.isInteger(t.y)?t.y:parseFloat(t.y.toFixed(2)))+(s??""):""})),i.map(t=>`${t.name} (${t.x}, ${t.y})`).join("\n")}buildTraces(){let t=this.datasets[this.activeDatasetIdx],[e,i]=this.prepData();if(0===i.length||0===e.length)return[];let n=i.filter(t=>t.highlight),s=i.filter(t=>!t.highlight);return i=s.concat(n),i.map(e=>{let i=JSON.parse(JSON.stringify(t.trace_params));return i.marker.size=e.marker_size??i.marker.size,i.marker.line={width:e.marker_line_width??i.marker.line.width},i.marker.opacity=e.opacity??i.marker.opacity,i.marker.color=e.color??i.marker.color,i.marker.symbol=e.marker_symbol??i.marker.symbol,n.length>0&&(i.marker.color=e.highlight??"#cccccc"),{type:"scatter",x:[e.x],y:[e.y],name:e.name,text:[e.annotation??e.name],...i}})}exportData(t){let[e,i]=this.prepData(),n="tsv"===t?"\t":",",s=["Name","X","Y"].join(n)+"\n";for(let o=0;o<e.length;o++){let t=i[o];s+=[e[o],+t.x,t.y].join(n)+"\n"}return s}};window.ScatterPlot=Zo;let Go=class extends Plot{constructor(t){super(t),this.xCatsAreSamples=t.xcats_samples,this.yCatsAreSamples=t.ycats_samples,this.square=t.square,this.filtXCatsSettings=[],this.filtYCatsSettings=[],this.clusterSwitchClusteredActive=t.cluster_switch_clustered_active}activeDatasetSize(){if(0===this.datasets.length)return 0;let t=this.datasets[this.activeDatasetIdx].rows;return 0===t.length?0:t[0].length}prepData(t){t=t??this.datasets[this.activeDatasetIdx];let e=this.clusterSwitchClusteredActive&&t.rows_clustered?t.rows_clustered:t.rows,i=this.clusterSwitchClusteredActive&&t.xcats_clustered?t.xcats_clustered:t.xcats,n=this.clusterSwitchClusteredActive&&t.ycats_clustered?t.ycats_clustered:t.ycats;if(this.xCatsAreSamples){let t=applyToolboxSettings(i);if(null===t)return;e=e.map(e=>e.filter((e,i)=>!t[i].hidden)),this.filtXCatsSettings=t.filter(t=>!t.hidden),i=this.filtXCatsSettings.map(t=>t.name)}if(this.yCatsAreSamples){let t=applyToolboxSettings(n);if(null===t)return;e=e.filter((e,i)=>!t[i].hidden),this.filtYCatsSettings=t.filter(t=>!t.hidden),n=this.filtYCatsSettings.map(t=>t.name)}return[e,i,n]}plotAiHeader(){let t=super.plotAiHeader();return this.pconfig.xlab&&(t+=`X axis: ${this.pconfig.xlab}\n`),this.pconfig.ylab&&(t+=`Y axis: ${this.pconfig.ylab}\n`),this.pconfig.zlab&&(t+=`Z axis: ${this.pconfig.zlab}\n`),t}formatDatasetForAiPrompt(t){let e="",[i,n,s]=this.prepData(t);if(0===n.length||0===s.length)return e+="All samples are hidden by user, so no data to analyse. Please inform user to use the toolbox to unhide samples.\n",e;if(n){if(s&&(e="|",this.yCatsAreSamples&&(e+="Sample")),this.xCatsAreSamples){e+="|"+this.filtXCatsSettings.map(t=>t.pseudonym??t.name).join("|")+"|\n"}else e+="|"+n.join("|")+"|\n";s&&(e+="|---"),e+="|"+n.map(()=>"---").join("|")+"|\n"}for(let o=0;o<i.length;o++){if(s)if(this.yCatsAreSamples){e+="|"+this.filtYCatsSettings.map(t=>t.pseudonym??t.name)[o]}else e+="|"+s[o];e+="|"+i[o].map(t=>Number.isFinite(t)?Number.isInteger(t)?t:parseFloat(t.toFixed(2)):"").join("|")+"|\n"}return e}buildTraces(){let[t,e,i]=this.prepData();if(0===t.length||0===e.length||0===i.length)return[];if(this.filtYCatsSettings.length>0){const t=(this.layout.height-200)/12;this.recalculateTicks(this.filtYCatsSettings,this.layout.yaxis,t)}if(this.filtXCatsSettings.length>0){const t=(this.layout.width-250)/18;this.recalculateTicks(this.filtXCatsSettings,this.layout.xaxis,t)}let n=this.datasets[this.activeDatasetIdx];return[{type:"heatmap",z:t,x:e,y:i,...JSON.parse(JSON.stringify(n.trace_params))}]}exportData(t){let[e,i,n]=this.prepData(),s="tsv"===t?"\t":",",o=[".",...i].join(s)+"\n";for(let a=0;a<e.length;a++)o+=[n[a],...e[a]].join(s)+"\n";return o}resize(t){this.layout.height=t;const e=(this.layout.height-200)/12;this.recalculateTicks(this.filtYCatsSettings,this.layout.yaxis,e);let i=this.datasets[this.activeDatasetIdx],n=i.xcats,s=(t-200)/i.ycats.length,o=null;this.square&&(o=s*n.length+250),super.resize(t,o)}};window.HeatmapPlot=Go,$(function(){$(".mqc_hcplot_range_sliders input").on("keyup change input",function(){let t=$(this).data("anchor"),e=$(this).data("minmax");"min"===e&&Plotly.restyle(t,{zmin:$(this).val()}),"max"===e&&Plotly.restyle(t,{zmax:$(this).val()}),$("#"+t+"_range_slider_"+e+", #"+t+"_range_slider_"+e+"_txt").val($(this).val())}),$('button[data-action="unclustered"], button[data-action="clustered"]').on("click",function(t){t.preventDefault();let e=$(this),i=$(this).data("plot-anchor"),n=mqc_plots[i];e.toggleClass("active").siblings().toggleClass("active"),n.clusterSwitchClusteredActive="clustered"===e.data("action"),renderPlot(i)})});let ta=class extends Plot{constructor(t){super(t),this.violinHeight=t.violin_height,this.extraHeight=t.extra_height,this.showTableByDefault=t.show_table_by_default,this.tableAnchor=t.table_anchor,this.isDownsampled=t.is_downsampled}activeDatasetSize(){return 0===this.datasets.length?0:this.datasets[this.activeDatasetIdx].all_samples.length}prepData(t,e=!1){let i=(t=t??this.datasets[this.activeDatasetIdx]).metrics,n=t.header_by_metric;i=i.filter(t=>{let i=n[t],s=$(`#${this.tableAnchor}_config_modal_table .mqc_table_col_visible[value="${t}"]`),o=s.length>0&&!s.is(":checked");return(!0!==i.hidden||e)&&!o});let s=t.violin_value_by_sample_by_metric,o={};i.forEach(e=>{let i=n[e],a={};i.show_points&&(a=i.show_only_outliers?t.scatter_value_by_sample_by_metric[e]:s[e]),o[e]=a});let a=t.all_samples,r=applyToolboxSettings(a);if(r.filter(t=>t.hidden).length>0){let t={},e={};i.map(e=>{t[e]={},Object.keys(s[e]).map(i=>{r[a.indexOf(i)].hidden||(t[e][i]=s[e][i])})}),s=t,i.forEach(t=>{let i,o=n[t];i=o.show_points&&o.show_only_outliers?e[t]:s[t],e[t]={},Object.keys(i).map(n=>{r[a.indexOf(n)].hidden||(e[t][n]=i[n])})})}return[i,n,a,r,s,o]}plotAiHeader(t){let e="";return e+="table"===t?"Plot type: table\n":"Plot type: violin plot\n",e}formatDatasetForAiPrompt(t){let[e,i,n,s,o,a]=this.prepData(t,!0),r="Number of samples: "+n.length+"\n";return this.isDownsampled&&(r+="Note: sample number "+n.length+" is greater than the threshold  so data points were downsampled to fit the context window. However, outliers for each metric were identified and kept in the datasets.\n"),r+="\n",0===e.length?(r+='All columns are hidden by user, so no data to analyse. Please inform user to use the "Configure columns" button to make some columns visible.\n',r):s.every(t=>t.hidden)?(r+="All samples are hidden by user, so no data to analyse. Please inform user to use the toolbox to unhide samples.\n",r):(r+="Metrics:\n",r+=e.map(t=>`${i[t].title} - ${i[t].description}`).join("\n"),r+="\n\n",r+=`|${this.pconfig.col1_header}|`+e.map(t=>i[t].title).join("|")+"|\n",r+="|---|"+e.map(()=>"---").join("|")+"|\n",r+=s.map(t=>t.hidden||e.every(e=>void 0===o[e][t.originalName]&&void 0===a[e][t.originalName])?"":`|${t.pseudonym??t.name}|`+e.map(e=>{const n=o[e][t.originalName]??a[e][t.originalName],s=i[e].suffix;return null==n?"":"string"==typeof n?n+(s??""):Number.isFinite(n)?Number.isInteger(n)?n:n.toFixed(2):""}).join("|")+"|\n").join(""),r)}buildTraces(){let t=this.datasets[this.activeDatasetIdx],[e,i,n,s,o,a]=this.prepData(),r=!0;e.forEach(t=>{let e=i[t];e.show_points&&e.show_only_outliers||(r=!1)}),r&&$("#table-violin-info-"+this.anchor).append(" For efficiency, separate points are shown only for outliers.");let l=this.layout;if(l.height=this.violinHeight*e.length+this.extraHeight,$("#"+this.anchor+"-wrapper").css("height",l.height+"px"),0===e.length)return[];l.grid.rows=e.length,l.grid.subplots=e.map((t,e)=>{let i=0===e?"":e+1;return["x"+i+"y"+i]}),e.map((t,e)=>{let n=i[t];l["yaxis"+(e+1)]={automargin:l.yaxis.automargin,color:l.yaxis.color,gridcolor:l.yaxis.gridcolor,zerolinecolor:l.yaxis.zerolinecolor,hoverformat:l.yaxis.hoverformat,tickfont:{size:l.yaxis.tickfont.size,color:l.yaxis.tickfont.color}},l["xaxis"+(e+1)]={automargin:l.xaxis.automargin,color:l.xaxis.color,gridcolor:l.xaxis.gridcolor,zerolinecolor:l.xaxis.zerolinecolor,hoverformat:l.xaxis.hoverformat,tickfont:{size:l.xaxis.tickfont.size,color:l.xaxis.tickfont.color}},void 0!==n.xaxis&&null!==n.xaxis&&(l["xaxis"+(e+1)]=Object.assign(l["xaxis"+(e+1)],n.xaxis));let s=n.title+"  ";n.namespace&&(s=n.namespace+"  <br>"+s),l["yaxis"+(e+1)].tickmode="array",l["yaxis"+(e+1)].tickvals=[e],l["yaxis"+(e+1)].ticktext=[s],void 0!==n.hoverformat&&null!==n.hoverformat&&(l["xaxis"+(e+1)].hoverformat=n.hoverformat),void 0!==n.color&&null!==n.color&&(l["yaxis"+(e+1)].tickfont={color:"rgb("+n.color+")"})}),l.xaxis=l.xaxis1,l.yaxis=l.yaxis1;let c=[];e.map((e,n)=>{let s=i[e],a=JSON.parse(JSON.stringify(t.trace_params));s.color&&(a.fillcolor="rgb("+s.color+")",a.line.color="rgb("+s.color+")");let r=o[e],l=[],h=[];Object.entries(r).map(([t,e])=>{l.push(t),h.push(e)});let d=0===n?"":n+1;c.push({type:"violin",x:h,name:n,text:l,xaxis:"x"+d,yaxis:"y"+d,...a})});let h=c.length,d={},m={},p=[];e.map((t,e)=>{let i=0===e?"":e+1,n=a[t],s=[];Object.entries(n).map(([t,e])=>{s.push([t,e]),d[t]||(d[t]=[],m[t]=[]),d[t].push(h++),m[t].push("x"+i+"y"+i)}),p.push(s)});let u=s.filter(t=>t.highlight).length>0,f=42.1231;function _(){let t=1e4*Math.sin(f++);return t-Math.round(t)}let g=[];return p.map((e,i)=>{let o=0===i?"":i+1;e.map(([e,a])=>{let r=s[n.indexOf(e)],l=JSON.parse(JSON.stringify(t.scatter_trace_params)),c=l.marker.color,h=l.marker.size;u&&(c=r.highlight??"#ddd",h=null!==r.highlight?8:h);let p={curveNumbers:d[e],curveAxis:m[e]};g.push({type:"scatter",x:[a],y:[i+.3*_()],text:[r.name??e],xaxis:"x"+o,yaxis:"y"+o,customdata:p,...l,marker:{color:c,size:h}})})}),c=c.concat(g),c}exportData(t){let[e,i,n,s,o,a]=this.prepData(),r="tsv"===t?"\t":",",l=e.map(t=>i[t].title);l=l.map(t=>t.includes(r)?`"${t}"`:t);let c="Sample"+r+l.join(r)+"\n";for(let h=0;h<n.length;h++){let t=n[h];s[h].hidden||(c+=t+r,c+=e.map(e=>{let i=o[e][t];return void 0===i&&(i="."),i}).join(r),c+="\n")}return c}afterPlotCreated(){let t=this.anchor;document.getElementById(t).on("plotly_hover",function(e){if(!e.points)return;let i=e.points[0];if("scatter"===i.data.type){let e=i.data.customdata.curveNumbers,n=i.data.customdata.curveAxis,s=e.map(t=>({curveNumber:t,pointNumber:0}));Plotly.Fx.hover(t,s,n)}})}};function ea(t,e=!1,i="table"){let n="",s=t??0;const o=$("#ai-provider").val(),a=AI_PROVIDERS[o],r=na($("#ai-model").val());n+="\n----------------------\n\n",n+="Tools used in the report:\n\n",Object.entries(aiReportMetadata.tools).forEach(([t,e],i)=>{const s=`${i+1}. ${e.name}`+(e.info?`\nDescription: ${e.info}`:"")+(e.href&&e.href.length>0?`\nLinks: ${e.href}`:"")+(e.comment?`\nComment: ${e.comment}`:"")+"\n\n";n+=s}),n+="\n----------------------\n",s+=oa(n);const l=mqc_plots.general_stats_table;if(l){const t=`\nMultiQC General Statistics (overview of key QC metrics for each sample, across all tools)\n${l.formatForAiPrompt(i)}\n----------------------\n`;n+=t;const e=oa(t);if(!(s+e<=r))return console.error(`General stats alone would already exceed the token limit of ${a.name} (${s+e} > ${r}). Cannot summarize the report`),n;s+=e}let c="";if(!e)for(const[h,d]of Object.entries(aiReportMetadata.sections)){c+=`\nTool: ${aiReportMetadata.tools[d.module_anchor].name}\n`,c+=ia(h),c+="\n\n----------------------";const t=oa(c);if(s+t>r)return console.warn(`Truncating prompt to only the general stats to fit within the context window of ${a.name} (${r} tokens). Tokens estimate: ${s}, with sections: at least ${s+t}`),n}return n+=c,n}function ia(t,e,i){let n=function(t,e){if("general_stats_table"===t)return"";let i="";e&&(i+=function(t){let e=`Tool that produced data: ${t.name}`;return t.info&&(e+=`\nTool description: ${t.info}`),t.href&&t.href.length>0&&(e+=`\nTool URL: ${t.href}`),t.comment&&(e+=`\nTool comment: ${t.comment}`),e}(aiReportMetadata.tools[e])+"\n\n");return i+=function(t){let e=`Section: ${t.name}`;return t.description&&(e+=`\nSection description: ${t.description}`),t.comment&&(e+=`\nSection comment: ${t.comment}`),t.helptext&&(e+=`\nSection help text: ${t.helptext}`),e}(aiReportMetadata.sections[t]),i}(t,e);n&&(n+="\n");const s=aiReportMetadata.sections[t];s.content_before_plot&&(n+=s.content_before_plot+"\n\n"),s.content&&(n+=s.content+"\n\n");const o=s.plot_anchor;let a=mqc_plots[o];return a?(a.pconfig&&a.pconfig.title&&(n+=`Title: ${a.pconfig.title}\n`),n+="\n"+a.formatForAiPrompt(i),n):n}function na(t){let e=$("#ai-context-window").val();if(e)try{return parseInt(e)}catch(i){console.error("Error parsing custom context window",i)}return t.startsWith("claude")?2e5:128e3}async function sa(t){t.preventDefault();const e=$(t.currentTarget),i=e.hasClass("ai-generate-button-more"),n=e.data("action"),s=$("#"+e.data("response-div")),o=$("#"+e.data("detailed-analysis-div")),a=$("#"+e.data("error-div")),r=$("#"+e.data("wrapper-div")),l=e.data("original-html"),c=e.data("plot-anchor")||"global",h=$("#"+e.data("continue-in-chat-button"));"clear"===n?(t.preventDefault(),localStorage.removeItem(`ai_response_${reportUuid}_${c}${i?"_more":""}`),s.html("").hide(),o.html("").hide(),a.html("").hide(),r&&r.hide(),h.hide(),e.html(l).data("action","generate").removeClass("ai-local-content")):async function(t){const e=t.hasClass("ai-generate-button-global"),i=t.hasClass("ai-generate-button-more"),n=$("#"+t.data("response-div")),s=$("#"+t.data("error-div")).hide(),o=$("#"+t.data("disclaimer-div")),a=$("#"+t.data("wrapper-div")),r=$("#"+t.data("continue-in-chat-button")),l=t.data("section-anchor")||"global",c=t.data("module-anchor"),h=t.data("plot-view"),d=t.data("clear-text");let m,p,u="None"==configTitle?"":configTitle+": ";if(e)p=i?systemPromptReportFull:systemPromptReportShort,m=ea(oa(p)),u+="MultiQC report";else if("general_stats_table"===l)p=systemPromptPlot,m=ea(oa(p),!0,h),u+="MultiQC General Statistics";else{p=systemPromptPlot,m=ia(l,c,h);const t=aiReportMetadata.sections[l];u+=`MultiQC ${t.name}`}const f=oa(p+m),_=$("#ai-provider").val(),g=AI_PROVIDERS[_];let v=$("#ai-model").val(),b=$("#ai-api-key").val(),y=$("#ai-endpoint").val();if(!v&&g.defaultModel&&(v=g.defaultModel,$("#ai-model").val(v),storeModelName(_,v)),"custom"===_&&!y||"seqera"!==_&&!v||!b){const t=$("#ai_endpoint_group").find("input"),e=$("#ai_model_group"),i=e.find("input"),n=$("#ai_api_key_group"),s=n.find("input");if("custom"===_&&!y){const t=$("#ai_endpoint_group"),e=t.find("input"),i=t.find("label"),n=i.css("color");i.css("color","#a94442"),t.addClass("has-error"),e.one("change",function(){t.removeClass("has-error"),i.css("color",n)})}if(!v){const t=e.find("label");e.addClass("has-error");const n=t.css("color");t.css("color","#a94442"),i.focus(),i.one("change",function(){e.removeClass("has-error"),t.css("color",n)})}if(!b){const t=n.find("label");n.addClass("has-error");const e=n.find("#ai_api_key_info_required"),i=e.css("color"),o=t.css("color");e.css("color","#a94442"),t.css("color","#a94442"),s.focus(),s.one("input",function(){n.removeClass("has-error"),e.css("color",i),t.css("color",o)})}return mqc_toolbox_openclose("#mqc_ai",!0),void("custom"!==_||y?v?b||s.focus():i.focus():t.focus())}const w=na(v);if(f>w)return s.html(`Content exceeds the token limit of ${g.name} (${f} > ${w})`).show(),void(a&&a.show());const x="custom"===_?"custom endpoint":g.name;function q(){const e=$("#ai-endpoint").val(),i="custom"===_?e:g.name;o.find(".ai-summary-disclaimer-provider").text(i),o.find(".ai-summary-disclaimer-model").text(v),o.show(),t.data("action","clear").prop("disabled",!1).html(d).addClass("ai-local-content")}t.prop("disabled",!0).html(`Requesting ${x}...`);const C=performance.now();await(async()=>{let s="";runStreamGeneration({title:u+`, created on ${configCreationDate}`,systemPrompt:p,userMessage:m,tags:["multiqc"],onStreamStart:e=>{v=e,t.html("Starting generation...")},onStreamNewToken:e=>{n.show(),a&&a.show(),s+=e,n.html(markdownToHtml(s)),t.html("Generating...")},onStreamError:t=>{$.toast({heading:"Error generating summary",text:t,icon:"error",position:"bottom-right",hideAfter:5e3}),q(g.name),!i&&e&&$("#global_ai_summary_more_button_and_disclaimer").hide(),o.hide()},onStreamComplete:n=>{q(g.name),n&&r.attr("href",`${seqeraWebsite}/ask-ai/?messages=${n}`).show();const a=t.data("plot-anchor")||"global";localStorage.setItem(`ai_response_${reportUuid}_${a}${i?"_more":""}`,JSON.stringify({text:s,provider:_,model:v,timestamp:Date.now(),threadId:n,endpoint:y}));const l=performance.now();console.log(`Time to generate more: ${l-C}ms`),!i&&e&&$("#global_ai_summary_more_button_and_disclaimer").show(),o.show()}})})()}(e)}function oa(t){return Math.ceil(t.length/1.5)}window.ViolinPlot=ta,window.continueInSeqeraChatHandler=function(t){let e=$(t.currentTarget),i=e.data("seqera-website"),n=e.data("thread-id"),s=i+"/ask-ai/";n&&(s+="?messages="+n),window.open(s,"_blank")},$(function(){function t(t,e){t.preventDefault();const i=$(t.currentTarget),{wholeReport:n,table:s}=e,o=i.data("section-anchor"),a=i.data("module-anchor"),r=i.data("plot-view");let l,c;n?(c="You are given data of a MultiQC report",l=ea()):"general_stats_table"===o?(c="You are given the general statistics report table",l=ea(0,!0,r)):s?(c="You are given a single MultiQC report table",l=ia(o,a,r)):(c="You are given data of a single MultiQC report section with a plot",l=ia(o,a,r)),c+=". Your task is to analyse the data and give a concise summary.";const h=multiqcDescription+"\n"+c+"\n\n"+l;navigator.clipboard.writeText(h);const d=i.find(".button-text").text();i.find(".button-text").text("Copied!"),setTimeout(()=>{i.find(".button-text").text(d)},2e3)}$("#global_ai_summary_expand").each(function(){const t=$("#global_ai_summary_detailed_analysis_response"),e=t.hasClass("ai-local-content"),i=$("#global_ai_summary_expand"),n=i.find(".glyphicon");let s=$(this).hasClass("ai-summary-expand-expanded");const o=localStorage.getItem("mqc_ai_global_summary_expanded");"expanded"===o&&(s=!0),"collapsed"===o&&(s=!1),s&&!e?(t.show(),i.addClass("ai-summary-expand-expanded"),n.addClass("glyphicon-chevron-up"),n.removeClass("glyphicon-chevron-down")):(t.hide(),i.removeClass("ai-summary-expand-expanded"),n.addClass("glyphicon-chevron-down"),n.removeClass("glyphicon-chevron-up")),i.on("click",e=>{e.preventDefault(),s=!s,s?(t.show(),i.addClass("ai-summary-expand-expanded")):(t.hide(),i.removeClass("ai-summary-expand-expanded")),localStorage.setItem("mqc_ai_global_summary_expanded",s?"expanded":"collapsed")}),t.on("click",function(t){t.preventDefault()})}),$("button.ai-generate-button").each(function(){const t=$(this),e=t.html();t.data("original-html",e).removeClass("ai-local-content");const i=t.data("clear-text"),n=t.hasClass("ai-generate-button-more"),s=t.data("action"),o=$("#"+t.data("response-div")),a=$("#"+t.data("disclaimer-div")),r=$("#"+t.data("wrapper-div")),l=$("#"+t.data("continue-in-chat-button"));if(r&&r.addClass("ai-local-content"),"clear"===s)t.html(i).addClass("ai-local-content");else{const e=t.data("plot-anchor")||"global",s=localStorage.getItem(`ai_response_${reportUuid}_${e}${n?"_more":""}`);if(s){const e=JSON.parse(s);o.show().html(markdownToHtml(e.text)),r&&r.show();const n=AI_PROVIDERS[e.provider];a.find(".ai-summary-disclaimer-provider").text("Custom"==n.name?e.endpoint:n.name),a.find(".ai-summary-disclaimer-model").text(e.model),a.show(),t.html(i).data("action","clear").prop("disabled",!1).addClass("ai-local-content");const c=e.threadId;c&&(l.attr("href",`${seqeraWebsite}/ask-ai/?messages=${c}`),l.show())}}t.on("click",sa)}),$(document).on("click","sample",function(t){t.preventDefault();let e=$(this).text();e.includes("*")&&(e=e.replace(/\*/g,".*"),$(".mqc_regex_mode").find(".re_mode").removeClass("off").addClass("on").text("on"));let i=$(this).css("color");window.mqc_highlight_f_texts.includes(e)?($("#mqc_col_filters li").each(function(){$(this).children("input").attr("value")===e&&$(this).children(".close").click()}),$(this).css("font-weight","normal"),$("sample").each(function(){$(this).text().indexOf(e)>-1&&$(this).css("font-weight","normal")})):($("#mqc_colour_filter").val(e),$("#mqc_colour_filter_color").val(rgbToHex(i)),$(this).css("font-weight","bold"),$("sample").each(function(){$(this).text().indexOf(e)>-1&&$(this).css("font-weight","bold")})),$("#mqc_color_form").trigger("submit"),$("#mqc_cols_apply").click()}),$("button.ai-copy-content-report").click(e=>t(e,{wholeReport:!0,table:!1})),$("button.ai-copy-content-plot").click(e=>t(e,{wholeReport:!1,table:!1})),$("button.ai-copy-content-table").click(e=>t(e,{wholeReport:!1,table:!0}))}),$(function(){decompressPlotData(mqc_compressed_plotdata,(t,e)=>{e?console.error(e):window.callAfterDecompressed.forEach(function(e){e(t)})})}),window.bootstrap=vo;
